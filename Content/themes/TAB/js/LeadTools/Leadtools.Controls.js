/**************************************************
LEADTOOLS (C) 1991-2017 LEAD Technologies, Inc. ALL RIGHTS RESERVED.
This software is protected by United States and International copyright laws.
Any copying, duplication, deployment, redistribution, modification or other
disposition hereof is STRICTLY PROHIBITED without an express written license
granted by LEAD Technologies, Inc.. This notice may not be removed or otherwise
altered under any circumstances.
Portions of this product are licensed under US patent 5,327,254 and foreign
counterparts.
For more information, contact LEAD Technologies, Inc. at 704-332-5532 or visit
https://www.leadtools.com
**************************************************/
// Leadtools.Controls.js
// Version:19.0.0.57
(function(){Type.registerNamespace("lt.Controls");window.lt.Controls._lT_VersionNumber=function(){};lt.Controls.ControlScrollMode=function(){};lt.Controls.ControlScrollMode.prototype={auto:0,hidden:1,disabled:2};lt.Controls.ControlScrollMode.registerEnum("lt.Controls.ControlScrollMode",!1);lt.Controls.ControlAlignment=function(){};lt.Controls.ControlAlignment.prototype={near:0,center:1,far:2};lt.Controls.ControlAlignment.registerEnum("lt.Controls.ControlAlignment",!1);lt.Controls.ControlSizeMode=
function(){};lt.Controls.ControlSizeMode.prototype={none:0,actualSize:1,fit:2,fitAlways:3,fitWidth:4,fitHeight:5,stretch:6};lt.Controls.ControlSizeMode.registerEnum("lt.Controls.ControlSizeMode",!1);lt.Controls.ControlTextTrimming=function(){};lt.Controls.ControlTextTrimming.prototype={none:0,character:1,word:2,ellipsisCharacter:3,ellipsisWord:4,ellipsisPath:5};lt.Controls.ControlTextTrimming.registerEnum("lt.Controls.ControlTextTrimming",!1);lt.Controls.InterpolationRunMode=function(){};lt.Controls.InterpolationRunMode.prototype=
{sequential:0,parallel:1};lt.Controls.InterpolationRunMode.registerEnum("lt.Controls.InterpolationRunMode",!1);lt.Controls.InterpolationMode=function(){};lt.Controls.InterpolationMode.prototype={none:0,resample:1,scaleToGray:2};lt.Controls.InterpolationMode.registerEnum("lt.Controls.InterpolationMode",!1);lt.Controls.InterpolationStatus=function(){};lt.Controls.InterpolationStatus.prototype={started:0,completed:1,aborted:2,error:3};lt.Controls.InterpolationStatus.registerEnum("lt.Controls.InterpolationStatus",
!1);lt.Controls.Keys=function(){};lt.Controls.Keys.prototype={none:0,lButton:1,rButton:2,cancel:3,mButton:4,enter:13,escape:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,alt:262144,shift:65536,control:131072,keyCode:65535,modifiers:-65536};lt.Controls.Keys.registerEnum("lt.Controls.Keys",!1);lt.Controls.MouseButtons=function(){};lt.Controls.MouseButtons.prototype={none:0,left:1,right:2,middle:4,xButton1:8,xButton2:16};lt.Controls.MouseButtons.registerEnum("lt.Controls.MouseButtons",
!0);lt.Controls.ControlRegionRenderMode=function(){};lt.Controls.ControlRegionRenderMode.prototype={none:0,fixed:1,animated:2};lt.Controls.ControlRegionRenderMode.registerEnum("lt.Controls.ControlRegionRenderMode",!1);lt.Controls.ImageViewerCoordinateType=function(){};lt.Controls.ImageViewerCoordinateType.prototype={control:0,view:1,item:2,content:3,image:4,floater:5};lt.Controls.ImageViewerCoordinateType.registerEnum("lt.Controls.ImageViewerCoordinateType",!1);lt.Controls.ImageViewerItemPart=function(){};
lt.Controls.ImageViewerItemPart.prototype={view:0,item:1,content:2,image:3,textArea:4,text:5,floater:6};lt.Controls.ImageViewerItemPart.registerEnum("lt.Controls.ImageViewerItemPart",!1);lt.Controls.ImageViewerAutoResetOptions=function(){};lt.Controls.ImageViewerAutoResetOptions.prototype={none:0,scroll:1,zoom:2,transformation:4,effects:8,all:15};lt.Controls.ImageViewerAutoResetOptions.registerEnum("lt.Controls.ImageViewerAutoResetOptions",!0);lt.Controls.ImageViewerItemChangedReason=function(){};
lt.Controls.ImageViewerItemChangedReason.prototype={size:0,transform:1,enabled:2,selected:3,hovered:4,text:5,url:6,drop:7,drag:8,image:9,imageChanged:10,floater:11,floaterTransform:12,backImageUrl:13,backImage:14};lt.Controls.ImageViewerItemChangedReason.registerEnum("lt.Controls.ImageViewerItemChangedReason",!1);lt.Controls.ImageViewerItemDragDropOperation=function(){};lt.Controls.ImageViewerItemDragDropOperation.prototype={dragEnter:0,dragOver:1,dragLeave:2,dragDrop:3};lt.Controls.ImageViewerItemDragDropOperation.registerEnum("lt.Controls.ImageViewerItemDragDropOperation",
!1);lt.Controls.ImageViewerDragTargetMode=function(){};lt.Controls.ImageViewerDragTargetMode.prototype={all:0,same:1,others:2};lt.Controls.ImageViewerDragTargetMode.registerEnum("lt.Controls.ImageViewerDragTargetMode",!1);lt.Controls.ImageViewerDragMode=function(){};lt.Controls.ImageViewerDragMode.prototype={htmlNative:0,item:1};lt.Controls.ImageViewerDragMode.registerEnum("lt.Controls.ImageViewerDragMode",!1);lt.Controls.ImageViewerAutoItemMode=function(){};lt.Controls.ImageViewerAutoItemMode.prototype=
{none:0,never:1,autoSet:2,autoSetActive:3};lt.Controls.ImageViewerAutoItemMode.registerEnum("lt.Controls.ImageViewerAutoItemMode",!1);lt.Controls.ImageViewerRubberBandShape=function(){};lt.Controls.ImageViewerRubberBandShape.prototype={rectangle:0,roundRectangle:1,ellipse:2,freehand:3};lt.Controls.ImageViewerRubberBandShape.registerEnum("lt.Controls.ImageViewerRubberBandShape",!1);lt.Controls.ImageViewerSelectionMode=function(){};lt.Controls.ImageViewerSelectionMode.prototype={none:0,single:1,multi:2};
lt.Controls.ImageViewerSelectionMode.registerEnum("lt.Controls.ImageViewerSelectionMode",!1);lt.Controls.ImageViewerSpyGlassShape=function(){};lt.Controls.ImageViewerSpyGlassShape.prototype={none:0,rectangle:1,roundRectangle:2,ellipse:3};lt.Controls.ImageViewerSpyGlassShape.registerEnum("lt.Controls.ImageViewerSpyGlassShape",!1);lt.Controls.ImageViewerSpyGlassCrosshair=function(){};lt.Controls.ImageViewerSpyGlassCrosshair.prototype={none:0,fine:1};lt.Controls.ImageViewerSpyGlassCrosshair.registerEnum("lt.Controls.ImageViewerSpyGlassCrosshair",
!1);lt.Controls.ImageViewerInteractiveModeTransformTarget=function(){};lt.Controls.ImageViewerInteractiveModeTransformTarget.prototype={imageViewer:0,allItems:1,item:2};lt.Controls.ImageViewerInteractiveModeTransformTarget.registerEnum("lt.Controls.ImageViewerInteractiveModeTransformTarget",!1);lt.Controls.InteractiveDirection=function(){};lt.Controls.InteractiveDirection.prototype={horizontal:0,vertical:1};lt.Controls.InteractiveDirection.registerEnum("lt.Controls.InteractiveDirection",!1);lt.Controls.CanvasOptions=
function(){};lt.Controls.CanvasOptions.get_autoScale=function(){return lt.Controls.CanvasOptions._autoScale};lt.Controls.CanvasOptions.set_autoScale=function(a){lt.Controls.CanvasOptions._autoScale!==a&&(lt.Controls.CanvasOptions._autoScale=a);return a};lt.Controls.CanvasOptions.get_maximumSize=function(){return lt.Controls.CanvasOptions._maximumSize};lt.Controls.CanvasOptions.set_maximumSize=function(a){if(0>a)throw new lt.ArgumentOutOfRangeException("MaximumSize",a,"must a value greater than or equal to 0");
lt.Controls.CanvasOptions._maximumSize!==a&&(lt.Controls.CanvasOptions._maximumSize=a);return a};lt.Controls.CanvasOptions.get_maximumInterpolationSize=function(){return lt.Controls.CanvasOptions._maximumInterpolationSize};lt.Controls.CanvasOptions.set_maximumInterpolationSize=function(a){if(0>a)throw new lt.ArgumentOutOfRangeException("MaximumInterpolationSize",a,"Must be a value greater than or equal to 0");return lt.Controls.CanvasOptions._maximumInterpolationSize=a};Object.defineProperty(lt.Controls.CanvasOptions,
"autoScale",{get:lt.Controls.CanvasOptions.get_autoScale,set:lt.Controls.CanvasOptions.set_autoScale,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.CanvasOptions,"maximumSize",{get:lt.Controls.CanvasOptions.get_maximumSize,set:lt.Controls.CanvasOptions.set_maximumSize,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.CanvasOptions,"maximumInterpolationSize",{get:lt.Controls.CanvasOptions.get_maximumInterpolationSize,set:lt.Controls.CanvasOptions.set_maximumInterpolationSize,
enumerable:!0,configurable:!0});lt.Controls.ControlDropShadowOptions=function(){};lt.Controls.ControlDropShadowOptions.createDefault=function(){var a=new lt.Controls.ControlDropShadowOptions;a._isVisible=!1;a._color=lt.Controls.GraphicsHelper.colorFromString("Black");a._offsetX=8;a._offsetY=8;a._blur=8;return a};lt.Controls.ControlDropShadowOptions.prototype={_toCSSStyle:function(a){return String.format("{0}px {1}px {2}px {3}",a*this.get_offsetX(),a*this.get_offsetY(),a*this.get_blur(),this.get_color())},
clone:function(){var a=new lt.Controls.ControlDropShadowOptions;a.set_isVisible(this.get_isVisible());a.set_color(this.get_color());a.set_offsetX(this.get_offsetX());a.set_offsetY(this.get_offsetY());a.set_blur(this.get_blur());return a},_isVisible:!1,get_isVisible:function(){return this._isVisible},set_isVisible:function(a){return this._isVisible=a},_color:null,get_color:function(){return this._color},set_color:function(a){return this._color=a},_offsetX:0,get_offsetX:function(){return this._offsetX},
set_offsetX:function(a){return this._offsetX=a},_offsetY:0,get_offsetY:function(){return this._offsetY},set_offsetY:function(a){return this._offsetY=a},_blur:0,get_blur:function(){return this._blur},set_blur:function(a){return this._blur=a}};Object.defineProperty(lt.Controls.ControlDropShadowOptions.prototype,"isVisible",{get:lt.Controls.ControlDropShadowOptions.prototype.get_isVisible,set:lt.Controls.ControlDropShadowOptions.prototype.set_isVisible,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ControlDropShadowOptions.prototype,
"color",{get:lt.Controls.ControlDropShadowOptions.prototype.get_color,set:lt.Controls.ControlDropShadowOptions.prototype.set_color,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ControlDropShadowOptions.prototype,"offsetX",{get:lt.Controls.ControlDropShadowOptions.prototype.get_offsetX,set:lt.Controls.ControlDropShadowOptions.prototype.set_offsetX,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ControlDropShadowOptions.prototype,"offsetY",{get:lt.Controls.ControlDropShadowOptions.prototype.get_offsetY,
set:lt.Controls.ControlDropShadowOptions.prototype.set_offsetY,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ControlDropShadowOptions.prototype,"blur",{get:lt.Controls.ControlDropShadowOptions.prototype.get_blur,set:lt.Controls.ControlDropShadowOptions.prototype.set_blur,enumerable:!0,configurable:!0});lt.Controls.InterpolationEventArgs=function(){lt.Controls.InterpolationEventArgs.initializeBase(this)};lt.Controls.InterpolationEventArgs.create=function(a,b,c,d){var e=new lt.Controls.InterpolationEventArgs;
e._mode$1=a;e._item$1=b;e._status$1=d;e._error$1=c;e._isCanceled$1=!1;return e};lt.Controls.InterpolationEventArgs.prototype={_mode$1:0,get_mode:function(){return this._mode$1},_item$1:null,get_item:function(){return this._item$1},_status$1:0,get_status:function(){return this._status$1},_error$1:null,get_error:function(){return this._error$1},_isCanceled$1:!1,get_isCanceled:function(){return this._isCanceled$1},set_isCanceled:function(a){return this._isCanceled$1=a}};Object.defineProperty(lt.Controls.InterpolationEventArgs.prototype,
"mode",{get:lt.Controls.InterpolationEventArgs.prototype.get_mode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InterpolationEventArgs.prototype,"item",{get:lt.Controls.InterpolationEventArgs.prototype.get_item,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InterpolationEventArgs.prototype,"status",{get:lt.Controls.InterpolationEventArgs.prototype.get_status,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InterpolationEventArgs.prototype,"error",
{get:lt.Controls.InterpolationEventArgs.prototype.get_error,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InterpolationEventArgs.prototype,"isCanceled",{get:lt.Controls.InterpolationEventArgs.prototype.get_isCanceled,set:lt.Controls.InterpolationEventArgs.prototype.set_isCanceled,enumerable:!0,configurable:!0});lt.Controls.ControlPadding=function(){};lt.Controls.ControlPadding.create=function(a,b,c,d){if(0>a||0>b||0>c||0>d)throw new lt.InvalidOperationException("Parameters must be greater than or equal to 0");
var e=new lt.Controls.ControlPadding;e._left=a;e._top=b;e._right=c;e._bottom=d;return e};lt.Controls.ControlPadding.createAll=function(a){if(0>a)throw new lt.InvalidOperationException("Parameters must be greater than or equal to 0");var b=new lt.Controls.ControlPadding;b._left=a;b._top=a;b._right=a;b._bottom=a;return b};lt.Controls.ControlPadding.get_empty=function(){return lt.Controls.ControlPadding.create(0,0,0,0)};lt.Controls.ControlPadding.prototype={clone:function(){return lt.Controls.ControlPadding.create(this.get_left(),
this.get_top(),this.get_right(),this.get_bottom())},_left:0,get_left:function(){return this._left},set_left:function(a){if(0>a)throw new lt.ArgumentOutOfRangeException("Left",a,"Must be a value greater than or equal to 0");return this._left=a},_top:0,get_top:function(){return this._top},set_top:function(a){if(0>a)throw new lt.ArgumentOutOfRangeException("Top",a,"Must be a value greater than or equal to 0");return this._top=a},_right:0,get_right:function(){return this._right},set_right:function(a){if(0>
a)throw new lt.ArgumentOutOfRangeException("Right",a,"Must be a value greater than or equal to 0");return this._right=a},_bottom:0,get_bottom:function(){return this._bottom},set_bottom:function(a){if(0>a)throw new lt.ArgumentOutOfRangeException("Bottom",a,"Must be a value greater than or equal to 0");return this._bottom=a},get_all:function(){return Math.max(this._left,Math.max(this._top,Math.max(this._right,this._bottom)))},set_all:function(a){if(0>a)throw new lt.ArgumentOutOfRangeException("All",
a,"Must be a value greater than or equal to 0");return this._bottom=this._right=this._top=this._left=a}};Object.defineProperty(lt.Controls.ControlPadding,"empty",{get:lt.Controls.ControlPadding.get_empty,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ControlPadding.prototype,"left",{get:lt.Controls.ControlPadding.prototype.get_left,set:lt.Controls.ControlPadding.prototype.set_left,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ControlPadding.prototype,"top",{get:lt.Controls.ControlPadding.prototype.get_top,
set:lt.Controls.ControlPadding.prototype.set_top,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ControlPadding.prototype,"right",{get:lt.Controls.ControlPadding.prototype.get_right,set:lt.Controls.ControlPadding.prototype.set_right,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ControlPadding.prototype,"bottom",{get:lt.Controls.ControlPadding.prototype.get_bottom,set:lt.Controls.ControlPadding.prototype.set_bottom,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ControlPadding.prototype,
"all",{get:lt.Controls.ControlPadding.prototype.get_all,set:lt.Controls.ControlPadding.prototype.set_all,enumerable:!0,configurable:!0});lt.Controls.PropertyChangedEventArgs=function(a){lt.Controls.PropertyChangedEventArgs.initializeBase(this);this._propertyName$1=a};lt.Controls.PropertyChangedEventArgs.create=function(a){return new lt.Controls.PropertyChangedEventArgs(a)};lt.Controls.PropertyChangedEventArgs.prototype={_propertyName$1:null,get_propertyName:function(){return this._propertyName$1},
set_propertyName:function(a){return this._propertyName$1=a}};Object.defineProperty(lt.Controls.PropertyChangedEventArgs.prototype,"propertyName",{get:lt.Controls.PropertyChangedEventArgs.prototype.get_propertyName,set:lt.Controls.PropertyChangedEventArgs.prototype.set_propertyName,enumerable:!0,configurable:!0});lt.Controls.ControlRegionRenderer=function(){this._targets=[];this._callbacks=[];this._timerCallback_Delegate=ss.Delegate.create(this,this._timerCallback)};lt.Controls.ControlRegionRenderer.get_instance=
function(){return lt.Controls.ControlRegionRenderer._instance};lt.Controls.ControlRegionRenderer.prototype={_timerCallback_Delegate:null,_size:1,get_size:function(){return this._size},set_size:function(a){if(1>a)throw new lt.ArgumentOutOfRangeException("Size",a,"Must be a value greater than or equal to 1");return this._size=a},_regionRenderCallback:null,get_regionRenderCallback:function(){return this._regionRenderCallback},set_regionRenderCallback:function(a){return this._regionRenderCallback=a},
_render:function(a,b,c,d,e,f){null!=this._regionRenderCallback?this._regionRenderCallback(a,b.get_context(),c,d,e,f):this._nativeRender(a,lt.Controls.GraphicsHelper.getNativeContext(b),c,d,e,f)},_addTarget:function(a,b){this._targets.contains(a)||(this._targets.add(a),this._callbacks.add(b));0<this._targets.length&&null==lt.Controls.ControlRegionRenderer._timer&&(lt.Controls.ControlRegionRenderer._timer=new lt.Controls._leadTimer(null,this._timerCallback_Delegate,null,0,lt.Controls.ControlRegionRenderer._animationInterval))},
_removeTarget:function(a){a=this._targets.indexOf(a);-1!==a&&(this._targets.removeAt(a),this._callbacks.removeAt(a));!this._targets.length&&null!=lt.Controls.ControlRegionRenderer._timer&&(lt.Controls.ControlRegionRenderer._timer.dispose(),lt.Controls.ControlRegionRenderer._timer=null)},_nativeRender:function(){},_timerCallback:function(){}};Object.defineProperty(lt.Controls.ControlRegionRenderer,"instance",{get:lt.Controls.ControlRegionRenderer.get_instance,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ControlRegionRenderer.prototype,
"size",{get:lt.Controls.ControlRegionRenderer.prototype.get_size,set:lt.Controls.ControlRegionRenderer.prototype.set_size,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ControlRegionRenderer.prototype,"regionRenderCallback",{get:lt.Controls.ControlRegionRenderer.prototype.get_regionRenderCallback,set:lt.Controls.ControlRegionRenderer.prototype.set_regionRenderCallback,enumerable:!0,configurable:!0});lt.Controls.ImageViewer=function(a){this._syncIndex=this._syncId=-1;this._defaultDpi=
lt.LeadSizeD.create(96,96);this._realScreenDpi=lt.LeadSizeD.create(0,0);this._ScreenDpi=lt.Controls.ImageViewer._ScreenDpi_Default;this._UseDpi=!1;this._ScrollMode=lt.Controls.ImageViewer._ScrollMode_Default;this._RestrictScroll=!0;this._ScrollOffset=lt.Controls.ImageViewer._ScrollOffset_Default.clone();this._maximumScrollSize=lt.LeadSizeD.create(0,0);this._ViewBorderThickness=0;this._ViewMargin=lt.Controls.ImageViewer._ViewMargin_Default.clone();this._ViewPadding=lt.Controls.ImageViewer._ViewPadding_Default.clone();
this._ViewDropShadow=lt.Controls.ImageViewer._ViewDropShadow_Default;this._ItemBorderThickness=0;this._ItemMargin=lt.Controls.ImageViewer._ItemMargin_Default.clone();this._ItemPadding=lt.Controls.ImageViewer._ItemPadding_Default.clone();this._ImageBorderThickness=0;this._ImageDropShadow=lt.Controls.ImageViewer._ImageDropShadow_Default;this._ItemSpacing=lt.Controls.ImageViewer._ItemSpacing_Default.clone();this._ItemSize=lt.Controls.ImageViewer._ItemSize_Default;this._ItemSizeMode=lt.Controls.ImageViewer._ItemSizeMode_Default;
this._ClipImageToContent=this._ResizeOnTransform=!0;this._ImageHorizontalAlignment=lt.Controls.ImageViewer._ImageHorizontalAlignment_Default;this._ImageVerticalAlignment=lt.Controls.ImageViewer._ImageVerticalAlignment_Default;this._TextHorizontalAlignment=lt.Controls.ImageViewer._TextHorizontalAlignment_Default;this._TextVerticalAlignment=lt.Controls.ImageViewer._TextVerticalAlignment_Default;this._ItemTextWrap=!0;this._ItemTextTrimming=lt.Controls.ImageViewer._ItemTextTrimming_Default;this._AspectRatioCorrection=
1;this._ViewHorizontalAlignment=lt.Controls.ImageViewer._ViewHorizontalAlignment_Default;this._ViewVerticalAlignment=lt.Controls.ImageViewer._ViewVerticalAlignment_Default;this._ItemHorizontalAlignment=lt.Controls.ImageViewer._ItemHorizontalAlignment_Default;this._ItemVerticalAlignment=lt.Controls.ImageViewer._ItemVerticalAlignment_Default;this._Reverse=this._Flip=!1;this._RotateAngle=0;this._Invert=!1;this._sizeMode=0;this._MaximumScaleFactor=1E4;this._MinimumScaleFactor=1.0E-4;this._totalViewTransformInverse=
lt.LeadMatrix.get_identity();this._totalViewTransform=lt.LeadMatrix.get_identity();this._viewTransform=lt.LeadMatrix.get_identity();this._viewTransformInverse=lt.LeadMatrix.get_identity();this._scrollbarSize=lt.LeadSizeD.create(0,0);this._viewSize=lt.LeadSizeD.create(0,0);this._totalViewSize=lt.LeadSizeD.create(0,0);this._optimizedZoomOrigin=lt.LeadPointD.get_empty();this._OwnerDraw=!1;this._ImageRegionRenderMode=lt.Controls.ImageViewer._ImageRegionRenderMode_Default;this._FloaterRegionRenderMode=
lt.Controls.ImageViewer._FloaterRegionRenderMode_Default;this._FloaterOpacity=1;this._renderInvalidateRect=lt.LeadRectD.get_empty();this._DropCopyKeyState=lt.Controls.ImageViewer._DropCopyKeyState_Default;this._DropMoveKeyState=lt.Controls.ImageViewer._DropMoveKeyState_Default;this._DropLinkKeyState=lt.Controls.ImageViewer._DropLinkKeyState_Default;this._AutoResetOptions=lt.Controls.ImageViewer._AutoResetOptions_Default;this._globalId=-1;this._mainDivScrollOffset=lt.LeadPointD.get_empty();this._autoScrollDivBrowserSize=
lt.LeadPointD.create(-1,-1);this._autoScrollDivTrueSize=lt.LeadPointD.create(-1,-1);this._autoScrollDivTrueBrowserRatio=lt.LeadPointD.create(1,1);this._ResizeElementForView=this._AutoCreateCanvas=this._EnableRequestAnimationFrame=!1;this._mainDivPrecisionScrollDelegateTimeout=-1;this._EraseBackgroundOnInvalidate=!0;this._RequestAnimationFrameIndex=this._DisabledRequestAnimationFrameIndex=-1;this._AllowDrop=!1;this._customDragIndex=-1;this._InterpolationRunMode=lt.Controls.ImageViewer._InterpolationRunMode_Default;
this._InterpolationMode=lt.Controls.ImageViewer._InterpolationMode_Default;this._viewElementInflationOffset=lt.LeadPointD.get_empty();if(!lt.LTHelper.supportsCanvas)throw new lt.InvalidOperationException("Canvas element is not supported by this browser");if(null==a)throw new lt.ArgumentNullException("createOptions");if(null==a.get_parentDiv()||String.compare(a.get_parentDiv().tagName,"div",!0))throw new lt.InvalidOperationException("'ImageViewerCreateOptions.ParentDiv' must be a valid DIV element in the page");
this._options=a;if(this._useElements=a.get_useElements()){if(lt.LTHelper.browser===lt.LTBrowser.android)throw new lt.InvalidOperationException("UseElements mode is not supported for Android Browser");null==a.get_elementsModeOptions()&&a.set_elementsModeOptions(new lt.Controls.ImageViewerElementsModeCreateOptions);this._useElementsOptions=a.get_elementsModeOptions().clone(!0)}else this.set_itemTextFont("12pt Arial");lt.Controls._imageViewerGroup.addViewer(this);this._globalId=lt.Controls.ImageViewer._globalCount++;
this._bindDelegates();this._jsBindDelegates();this._useElements&&(1===lt.Controls._imageViewerGroup.get_elementsModeCount()&&lt.Controls._elementsHelper.createElementsModeCommonClasses(lt.Controls.ImageViewer._StyleElementsTagIdBase),this._styleElementsPrefixTagId=lt.Controls.ImageViewer._StyleElementsTagIdBase+"_"+this._useElementsOptions.get_classPrefix(),1===lt.Controls._imageViewerGroup.prefixCount(this._useElementsOptions.get_classPrefix())&&lt.Controls._elementsHelper.createElementsModePrefixClasses(this._useElementsOptions,
this._styleElementsPrefixTagId));this.beginTransform();this._parentDiv=a.get_parentDiv();this._buildControl(a);this._ScrollOffset=lt.LeadPointD.create(0,0);this._EnableRequestAnimationFrame=!1;this._initialize();a=a.get_viewLayout();null==a&&(a=new lt.Controls.ImageViewerSingleViewLayout,this.get_items().add(new lt.Controls.ImageViewerItem));this._viewLayout=a;this._internalEndTransform(!1,!1);lt.Controls._windowViewerHelper.add(this);this._updateViewElementDisplay();this.updateStyles();this._InterpolatorManager=
new lt.Controls._interpolatorManager(this)};lt.Controls.ImageViewer.disableSync=function(a){lt.Controls.ImageViewer.isSyncDisabled(a)||lt.Controls.ImageViewerSyncManager.beginSync(a)};lt.Controls.ImageViewer.isSyncDisabled=function(a){return lt.Controls.ImageViewerSyncManager.isSyncing(a)};lt.Controls.ImageViewer.enableSync=function(a){lt.Controls.ImageViewer.isSyncDisabled(a)&&lt.Controls.ImageViewerSyncManager.endSync(a)};lt.Controls.ImageViewer.sync=function(a){lt.Controls.ImageViewerSyncManager.sync(a)};
lt.Controls.ImageViewer.getSynced=function(a){return lt.Controls.ImageViewerSyncManager.getSynced(a)};lt.Controls.ImageViewer.unsync=function(a){lt.Controls.ImageViewerSyncManager.unsync(a)};lt.Controls.ImageViewer.unsyncGroup=function(a){return lt.Controls.ImageViewerSyncManager.unsyncGroup(a)};lt.Controls.ImageViewer._checkWinRTKernelExpired=function(){if("function"==typeof Leadtools&&"function"==typeof Leadtools.RasterSupport&&Leadtools.RasterSupport.kernelExpired)throw new Leadtools.RasterException(Leadtools.RasterExceptionCode.kernelExpired);
};lt.Controls.ImageViewer._showError=function(a){if(!lt.Controls.ImageViewer._9823H1){lt.Controls.ImageViewer._9823H1=!0;for(var b=new ss.StringBuilder,c=ss.IEnumerator.getEnumerator(lt.Controls.ImageViewer._errorMsg);c.moveNext();)b.append(String.fromCharCode([c.current^77]));a?Windows.UI.Popups.MessageDialog(b.toString()).showAsync():("http:"===window.location.protocol||"https:"===window.location.protocol||lt.LTHelper.OS===lt.LTOS.android||lt.LTHelper.OS===lt.LTOS.iOS||lt.LTHelper.OS===lt.LTOS.windows&&
lt.LTHelper.device===lt.LTDevice.mobile)&&alert(b.toString())}};lt.Controls.ImageViewer._setMaximumBrowserScroll=function(){switch(lt.LTHelper.browser){case lt.LTBrowser.chrome:case lt.LTBrowser.opera:case lt.LTBrowser.safari:lt.Controls.ImageViewer._maximumBrowserScroll=33E6;break;case lt.LTBrowser.firefox:lt.Controls.ImageViewer._maximumBrowserScroll=17E6;break;default:lt.Controls.ImageViewer._maximumBrowserScroll=15E5}};lt.Controls.ImageViewer.get_imageProcessingLibrariesPath=function(){return lt.Controls.ImageViewer._imageProcessingLibrariesPath};
lt.Controls.ImageViewer.set_imageProcessingLibrariesPath=function(a){return lt.Controls.ImageViewer._imageProcessingLibrariesPath=a};lt.Controls.ImageViewer._getImageProcessingFile=function(a,b){return null==a?b:a.endsWith("/")||a.endsWith("\\")?a+b:a+"/"+b};lt.Controls.ImageViewer._postRenderItemCleanup=function(a,b){b.propsChanged=!1;a._itemChanged=!1;a._itemImageChanged=!1;a._itemBackImageChanged=!1};lt.Controls.ImageViewer._rotateCoordinates=function(a,b,c){var d=Math.PI/180*c,c=Math.cos(d),d=
Math.sin(d);return lt.LeadPointD.create(c*a+d*b,c*b-d*a)};lt.Controls.ImageViewer._convertToElementCSSTransform=function(a,b){var c,b=lt.Controls.PrimitivesHelper.toRenderTransform(b);c=lt.Controls.PrimitivesHelper.toCSSTransform(b);lt.Controls.ImageViewer._setElementCSSTransform(a,c)};lt.Controls.ImageViewer._setElementCSSTransform=function(a,b){void 0!=a.style.transform?a.style.transform=b:void 0!=a.style.webkitTransform?a.style.webkitTransform=b:void 0!=a.style.msTransform&&(a.style.msTransform=
b)};lt.Controls.ImageViewer.getDestinationRectangle=function(a,b,c,d,e,f){lt.Controls.ControlsHelper.checkIfNull(c,"destinationRect");if(0>a)throw new lt.ArgumentOutOfRangeException("sourceWidth",a,"Must be a value greater than or equal to 0");if(0>b)throw new lt.ArgumentOutOfRangeException("sourceHeight",b,"Must be a value greater than or equal to 0");if(!a||!b||c.get_isEmpty())return lt.LeadRectD.create(0,0,0,0);var g=c.get_width(),h=c.get_height();2===d&&(d=a>g||b>h?3:0);var i=1;switch(d){case 3:g>
h?(i=g/a,lt.Controls.PrimitivesHelper.toInt(i*b)>h&&(i=h/b)):(i=h/b,lt.Controls.PrimitivesHelper.toInt(i*a)>g&&(i=g/a));a=lt.Controls.PrimitivesHelper.toInt(i*a);b=lt.Controls.PrimitivesHelper.toInt(i*b);break;case 4:i=g/a;a=lt.Controls.PrimitivesHelper.toInt(i*a);b=lt.Controls.PrimitivesHelper.toInt(i*b);break;case 5:i=h/b;a=lt.Controls.PrimitivesHelper.toInt(i*a);b=lt.Controls.PrimitivesHelper.toInt(i*b);break;case 6:a=lt.Controls.PrimitivesHelper.toInt(g),b=lt.Controls.PrimitivesHelper.toInt(h)}d=
0;switch(e){case 1:d=lt.Controls.PrimitivesHelper.toInt((g-a)/2);break;case 2:g>a&&(d=lt.Controls.PrimitivesHelper.toInt(g-a))}e=0;switch(f){case 1:e=lt.Controls.PrimitivesHelper.toInt((h-b)/2);break;case 2:h>b&&(e=lt.Controls.PrimitivesHelper.toInt(h-b))}return lt.LeadRectD.create(c.get_x()+d,c.get_y()+e,a,b)};lt.Controls.ImageViewer.getScaleFactors=function(a,b,c){lt.Controls.ControlsHelper.checkIfNull(a,"destinationSize");lt.Controls.ControlsHelper.checkIfNull(b,"sourceSize");2===c&&(c=b.get_width()>
a.get_width()||b.get_height()>a.get_height()?3:0);var d=1,e=1;switch(c){case 3:0<b.get_width()&&0<b.get_height()&&(0<a.get_width()&&0<a.get_height()?(a.get_width()>a.get_height()?(c=a.get_width()/b.get_width(),c*b.get_height()>a.get_height()&&(c=a.get_height()/b.get_height())):(c=a.get_height()/b.get_height(),c*b.get_width()>a.get_width()&&(c=a.get_width()/b.get_width())),e=d=c):e=d=0);break;case 4:0<b.get_width()&&0<b.get_height()&&(e=d=c=a.get_width()/b.get_width());break;case 5:0<b.get_width()&&
0<b.get_height()&&(e=d=c=a.get_height()/b.get_height());break;case 6:0<b.get_width()&&0<b.get_height()&&(d=a.get_width()/b.get_width(),e=a.get_height()/b.get_height())}return lt.LeadSizeD.create(d,e)};lt.Controls.ImageViewer.prototype={_initialize:function(){this._findScreenDpi();this._items=new lt.Controls.ImageViewerItems(this);this._initializeInteractiveModes();this._createInteractiveService()},_cleanUp:function(a){a&&(lt.Controls.ImageViewerSyncManager.unsync(this),this.get_interactiveModes()._stopAll(),
this.beginTransform(),this._deInitializeInteractiveModes(),lt.Controls.ControlRegionRenderer.get_instance()._removeTarget(this),this._items.clear(),this._internalEndTransform(!1,!1),null!=this._interactiveService&&(a=this._interactiveService,this.set_interactiveService(null),a.dispose()))},_bindDelegates:function(){this._animateRegions_Delegate=ss.Delegate.create(this,this._animateRegions)},add_propertyChanged:function(a){this.__propertyChanged=ss.Delegate.combine(this.__propertyChanged,a)},remove_propertyChanged:function(a){this.__propertyChanged=
ss.Delegate.remove(this.__propertyChanged,a)},__propertyChanged_handler_get:function(){null==this.__propertyChanged_handler&&(this.__propertyChanged_handler=ss.EventHandler.create(this,this.add_propertyChanged,this.remove_propertyChanged));return this.__propertyChanged_handler},__propertyChanged:null,__propertyChanged_handler:null,onPropertyChanged:function(a){a=new lt.Controls.PropertyChangedEventArgs(a);null!=this.__propertyChanged&&this.__propertyChanged(this,a)},get_syncId:function(){return this._syncId},
_isSyncSource:!0,get_isSyncSource:function(){return this._isSyncSource},set_isSyncSource:function(a){return this._isSyncSource=a},_isSyncTarget:!0,get_isSyncTarget:function(){return this._isSyncTarget},set_isSyncTarget:function(a){return this._isSyncTarget=a},get_screenDpi:function(){return this._ScreenDpi.clone()},set_screenDpi:function(a){lt.Controls.ControlsHelper.checkResolution(lt.Controls.PrimitivesHelper.toLeadSizeD(a),lt.Controls.ImageViewer._ScreenDpi_Name);var b=a.get_isEmpty()?lt.LeadSizeD.create(0,
0):a;lt.LeadSizeD.equals(this._ScreenDpi,b)||(this._ScreenDpi=b.clone(),this._findScreenDpi(),this._internalUpdateTransform(!0,!1),this.onPropertyChanged(lt.Controls.ImageViewer._ScreenDpi_Name));return a},get_useDpi:function(){return this._UseDpi},set_useDpi:function(a){if(this._UseDpi!==a){this._UseDpi=a;if(lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(this.get_itemSize())){this.beginTransform();for(var b=ss.IEnumerator.getEnumerator(this._items);b.moveNext();){var c=b.current;c.set_size(this.getItemImageSize(c,
this._UseDpi))}this._internalEndTransform(!0,!0)}else this.updateTransform();this.onPropertyChanged(lt.Controls.ImageViewer._UseDpi_Name)}return a},_normalizeDpi:function(a,b){var c=a.clone();lt.LeadDoubleTools.isZero(c.get_width())&&(b.get_width()?c.set_width(b.get_width()):c.set_width(this._defaultDpi.get_width()));lt.LeadDoubleTools.isZero(c.get_height())&&(b.get_height()?c.set_height(b.get_height()):c.set_height(this._defaultDpi.get_height()));return c},get_scrollMode:function(){return this._ScrollMode},
set_scrollMode:function(a){if(this._ScrollMode!==a){var b=this._ScrollMode,c=this._ScrollOffset.clone();this._ScrollMode=a;this.beginTransform();this._scrollModeChanged(b);this.endTransform();this.get__realScrollMode()||this.set_scrollOffset(c);this.onPropertyChanged(lt.Controls.ImageViewer._ScrollMode_Name)}return a},get__realScrollMode:function(){return!this._ScrollMode&&!this.get__supportsScroll()?1:this._ScrollMode},get_restrictScroll:function(){return this._RestrictScroll},set_restrictScroll:function(a){this._RestrictScroll!==
a&&(this._RestrictScroll=a,this._internalUpdateTransform(!0,!1),this.onPropertyChanged(lt.Controls.ImageViewer._RestrictScroll_Name));return a},get__realRestrictScrollMode:function(){return 1===this._ScrollMode?this._RestrictScroll:!0},get_scrollOffset:function(){return this._ScrollOffset.clone()},set_scrollOffset:function(a){lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._ScrollOffset_Name);var b=this._ScrollOffset.clone();this.get__realScrollMode()||this._variablesToScroll(a);
this._setScrollOffset(a);if(!lt.LeadPointD.equals(this._ScrollOffset,b))this.onScrollOffsetChanged(lt.LeadEventArgs.Empty);return a},add_scrollOffsetChanged:function(a){this.__scrollOffsetChanged=ss.Delegate.combine(this.__scrollOffsetChanged,a)},remove_scrollOffsetChanged:function(a){this.__scrollOffsetChanged=ss.Delegate.remove(this.__scrollOffsetChanged,a)},__scrollOffsetChanged_handler_get:function(){null==this.__scrollOffsetChanged_handler&&(this.__scrollOffsetChanged_handler=ss.EventHandler.create(this,
this.add_scrollOffsetChanged,this.remove_scrollOffsetChanged));return this.__scrollOffsetChanged_handler},__scrollOffsetChanged:null,__scrollOffsetChanged_handler:null,onScrollOffsetChanged:function(a){null!=this.__scrollOffsetChanged&&this.__scrollOffsetChanged(this,a)},get_maximumScrollSize:function(){return this._maximumScrollSize},restrictScrollOffset:function(a){var b=a;if(2===this._ScrollMode)b=lt.LeadPointD.create(0,0);else if(this.get_restrictScroll()||!this.get_scrollMode())b=this._forceRestrictScrollOffset(a);
return b},_forceRestrictScrollOffset:function(a){a=a.clone();0>a.get_x()&&a.set_x(0);a.get_x()>this._maximumScrollSize.get_width()&&a.set_x(this._maximumScrollSize.get_width());0>a.get_y()&&a.set_y(0);a.get_y()>this._maximumScrollSize.get_height()&&a.set_y(this._maximumScrollSize.get_height());return a},_variablesToScroll:function(a){this._setNativeScrollPosition(a)},_setScrollOffset:function(a){a=this.restrictScrollOffset(a);this._updateViewTransformFromScroll(a,!lt.LeadPointD.equals(a,this._ScrollOffset))&&
(this.onTransformChanged(lt.LeadEventArgs.Empty),this.get__realScrollMode()&&this._nativeInvalidate(lt.LeadRectD.get_empty()))},_updateViewTransformFromScroll:function(a,b){var c=this._totalViewTransform.clone(),d=this._ScrollOffset.clone();c.translate(this._ScrollOffset.get_x(),this._ScrollOffset.get_y());this._ScrollOffset.set_x(a.get_x());this._ScrollOffset.set_y(a.get_y());c.translate(-this._ScrollOffset.get_x(),-this._ScrollOffset.get_y());c=this._setViewTransform(c,b);lt.LeadPointD.equals(this._ScrollOffset,
d)||(this.onScrollOffsetChanged(lt.LeadEventArgs.Empty),c=!0);return c},get_viewBorderThickness:function(){return this._ViewBorderThickness},set_viewBorderThickness:function(a){this._checkCanSet(lt.Controls.ImageViewer._ViewBorderThickness_Name);if(0>a)throw new lt.ArgumentOutOfRangeException(lt.Controls.ImageViewer._ViewBorderThickness_Name,a,"Must be a value greater than or equal to 0");this._ViewBorderThickness!==a&&(this._ViewBorderThickness=a,this._internalUpdateTransform(!0,!1),this.onPropertyChanged(lt.Controls.ImageViewer._ViewBorderThickness_Name));
return a},get_viewBorderColor:function(){return this._ViewBorderColor},set_viewBorderColor:function(a){this._checkCanSet(lt.Controls.ImageViewer._ViewBorderColor_Name);lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._ViewBorderColor_Name);lt.Controls.GraphicsHelper.areEqualColors(this._ViewBorderColor,a)||(this._ViewBorderColor=a,this._nativeInvalidate(lt.LeadRectD.get_empty()),this.onPropertyChanged(lt.Controls.ImageViewer._ViewBorderColor_Name));return a},get_viewMargin:function(){return this._ViewMargin.clone()},
set_viewMargin:function(a){this._checkCanSet(lt.Controls.ImageViewer._ViewMargin_Name);lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._ViewMargin_Name);lt.Controls.PaddingHelper.isNotEqual(a,this._ViewMargin)&&(this._ViewMargin=a.clone(),this._internalUpdateTransform(!0,!1),this.onPropertyChanged(lt.Controls.ImageViewer._ViewMargin_Name));return a},get_viewPadding:function(){return this._ViewPadding.clone()},set_viewPadding:function(a){this._checkCanSet(lt.Controls.ImageViewer._ViewPadding_Name);
lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._ViewPadding_Name);lt.Controls.PaddingHelper.isNotEqual(a,this._ViewPadding)&&(this._ViewPadding=a.clone(),this._internalUpdateTransform(!0,!1),this.onPropertyChanged(lt.Controls.ImageViewer._ViewPadding_Name));return a},get_viewDropShadow:function(){return this._ViewDropShadow.clone()},set_viewDropShadow:function(a){this._checkCanSet(lt.Controls.ImageViewer._ViewDropShadow_Name);lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._ViewDropShadow_Name);
this._ViewDropShadow=a.clone();this.onPropertyChanged(lt.Controls.ImageViewer._ViewDropShadow_Name);this._nativeInvalidate(lt.LeadRectD.get_empty());return a},get_itemBorderThickness:function(){return this._ItemBorderThickness},set_itemBorderThickness:function(a){this._checkCanSet(lt.Controls.ImageViewer._ItemBorderThickness_Name);if(0>a)throw new lt.ArgumentOutOfRangeException(lt.Controls.ImageViewer._ItemBorderThickness_Name,a,"Must be a value greater than or equal to 0");this._ItemBorderThickness!==
a&&(this._ItemBorderThickness=a,this._internalUpdateTransform(!0,!1),this.onPropertyChanged(lt.Controls.ImageViewer._ItemBorderThickness_Name));return a},get_itemBorderColor:function(){return this._ItemBorderColor},set_itemBorderColor:function(a){this._checkCanSet(lt.Controls.ImageViewer._ItemBorderColor_Name);lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._ItemBorderColor_Name);lt.Controls.GraphicsHelper.areEqualColors(this._ItemBorderColor,a)||(this._ItemBorderColor=a,this._nativeInvalidate(lt.LeadRectD.get_empty()),
this.onPropertyChanged(lt.Controls.ImageViewer._ItemBorderColor_Name));return a},get_itemMargin:function(){return this._ItemMargin.clone()},set_itemMargin:function(a){this._checkCanSet(lt.Controls.ImageViewer._ItemMargin_Name);lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._ItemMargin_Name);lt.Controls.PaddingHelper.isNotEqual(a,this._ItemMargin)&&(this._ItemMargin=a.clone(),this._internalUpdateTransform(!0,!1),this.onPropertyChanged(lt.Controls.ImageViewer._ItemMargin_Name));return a},
get_itemPadding:function(){return this._ItemPadding.clone()},set_itemPadding:function(a){this._checkCanSet(lt.Controls.ImageViewer._ItemPadding_Name);lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._ItemPadding_Name);lt.Controls.PaddingHelper.isNotEqual(a,this._ItemPadding)&&(this._ItemPadding=a.clone(),this._internalUpdateTransform(!0,!1),this.onPropertyChanged(lt.Controls.ImageViewer._ItemPadding_Name));return a},get_imageBorderThickness:function(){return this._ImageBorderThickness},
set_imageBorderThickness:function(a){this._checkCanSet(lt.Controls.ImageViewer._ImageBorderThickness_Name);if(0>a)throw new lt.ArgumentOutOfRangeException(lt.Controls.ImageViewer._ImageBorderThickness_Name,a,"Must be a value greater than or equal to 0");this._ImageBorderThickness!==a&&(this._ImageBorderThickness=a,this._internalUpdateTransform(!0,!1),this.onPropertyChanged(lt.Controls.ImageViewer._ImageBorderThickness_Name));return a},get_imageBorderColor:function(){return this._ImageBorderColor},
set_imageBorderColor:function(a){this._checkCanSet(lt.Controls.ImageViewer._ImageBorderColor_Name);lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._ImageBorderColor_Name);lt.Controls.GraphicsHelper.areEqualColors(this._ImageBorderColor,a)||(this._ImageBorderColor=a,this._nativeInvalidate(lt.LeadRectD.get_empty()),this.onPropertyChanged(lt.Controls.ImageViewer._ImageBorderColor_Name));return a},get_imageDropShadow:function(){return this._ImageDropShadow.clone()},set_imageDropShadow:function(a){this._checkCanSet(lt.Controls.ImageViewer._ImageDropShadow_Name);
lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._ImageDropShadow_Name);this._ImageDropShadow=a.clone();this.onPropertyChanged(lt.Controls.ImageViewer._ImageDropShadow_Name);this._nativeInvalidate(lt.LeadRectD.get_empty());return a},get_itemSpacing:function(){return this._ItemSpacing.clone()},set_itemSpacing:function(a){lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._ItemSpacing_Name);lt.LeadSizeD.equals(a,this._ItemSpacing)||(this._ItemSpacing=lt.Controls.PrimitivesHelper.cloneOrZeroSize(a),
this._internalUpdateTransform(!0,!1),this.onPropertyChanged(lt.Controls.ImageViewer._ItemSpacing_Name));return a},get_itemBackgroundColor:function(){return this._ItemBackgroundColor},set_itemBackgroundColor:function(a){this._checkCanSet(lt.Controls.ImageViewer._ItemBackgroundColor_Name);lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._ItemBackgroundColor_Name);lt.Controls.GraphicsHelper.areEqualColors(this._ItemBackgroundColor,a)||(this._ItemBackgroundColor=a,this._nativeInvalidate(lt.LeadRectD.get_empty()),
this.onPropertyChanged(lt.Controls.ImageViewer._ItemBackgroundColor_Name));return a},get_imageBackgroundColor:function(){return this._ImageBackgroundColor},set_imageBackgroundColor:function(a){this._checkCanSet(lt.Controls.ImageViewer._ImageBackgroundColor_Name);lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._ImageBackgroundColor_Name);lt.Controls.GraphicsHelper.areEqualColors(this._ImageBackgroundColor,a)||(this._ImageBackgroundColor=a,this._nativeInvalidate(lt.LeadRectD.get_empty()),
this.onPropertyChanged(lt.Controls.ImageViewer._ImageBackgroundColor_Name));return a},get_selectedItemBorderColor:function(){return this._SelectedItemBorderColor},set_selectedItemBorderColor:function(a){this._checkCanSet(lt.Controls.ImageViewer._SelectedItemBorderColor_Name);lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._SelectedItemBorderColor_Name);lt.Controls.GraphicsHelper.areEqualColors(this._SelectedItemBorderColor,a)||(this._SelectedItemBorderColor=a,this._nativeInvalidate(lt.LeadRectD.get_empty()),
this.onPropertyChanged(lt.Controls.ImageViewer._SelectedItemBorderColor_Name));return a},get_selectedItemBackgroundColor:function(){return this._SelectedItemBackgroundColor},set_selectedItemBackgroundColor:function(a){this._checkCanSet(lt.Controls.ImageViewer._SelectedItemBackgroundColor_Name);lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._SelectedItemBackgroundColor_Name);lt.Controls.GraphicsHelper.areEqualColors(this._SelectedItemBackgroundColor,a)||(this._SelectedItemBackgroundColor=
a,this._nativeInvalidate(lt.LeadRectD.get_empty()),this.onPropertyChanged(lt.Controls.ImageViewer._SelectedItemBackgroundColor_Name));return a},get_hoveredItemBorderColor:function(){return this._HoveredItemBorderColor},set_hoveredItemBorderColor:function(a){this._checkCanSet(lt.Controls.ImageViewer._HoveredItemBorderColor_Name);lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._HoveredItemBorderColor_Name);lt.Controls.GraphicsHelper.areEqualColors(this._HoveredItemBorderColor,a)||(this._HoveredItemBorderColor=
a,this._nativeInvalidate(lt.LeadRectD.get_empty()),this.onPropertyChanged(lt.Controls.ImageViewer._HoveredItemBorderColor_Name));return a},get_hoveredItemBackgroundColor:function(){return this._HoveredItemBackgroundColor},set_hoveredItemBackgroundColor:function(a){this._checkCanSet(lt.Controls.ImageViewer._HoveredItemBackgroundColor_Name);lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._HoveredItemBackgroundColor_Name);lt.Controls.GraphicsHelper.areEqualColors(this._HoveredItemBackgroundColor,
a)||(this._HoveredItemBackgroundColor=a,this._nativeInvalidate(lt.LeadRectD.get_empty()),this.onPropertyChanged(lt.Controls.ImageViewer._HoveredItemBackgroundColor_Name));return a},get_activeItemBorderColor:function(){return this._ActiveItemBorderColor},set_activeItemBorderColor:function(a){this._checkCanSet(lt.Controls.ImageViewer._ActiveItemBorderColor_Name);lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._ActiveItemBorderColor_Name);lt.Controls.GraphicsHelper.areEqualColors(this._ActiveItemBorderColor,
a)||(this._ActiveItemBorderColor=a,this._nativeInvalidate(lt.LeadRectD.get_empty()),this.onPropertyChanged(lt.Controls.ImageViewer._ActiveItemBorderColor_Name));return a},get_activeItemBackgroundColor:function(){return this._ActiveItemBackgroundColor},set_activeItemBackgroundColor:function(a){this._checkCanSet(lt.Controls.ImageViewer._ActiveItemBackgroundColor_Name);lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._ActiveItemBackgroundColor_Name);lt.Controls.GraphicsHelper.areEqualColors(this._ActiveItemBackgroundColor,
a)||(this._ActiveItemBackgroundColor=a,this._nativeInvalidate(lt.LeadRectD.get_empty()),this.onPropertyChanged(lt.Controls.ImageViewer._ActiveItemBackgroundColor_Name));return a},_itemTextFontHeightPixels:0,_ItemTextFont:null,get_itemTextFont:function(){return this._ItemTextFont},set_itemTextFont:function(a){this._checkCanSet(lt.Controls.ImageViewer._ItemTextFont_Name);if(this._ItemTextFont!==a){this._ItemTextFont=a;if(null!=this._ItemTextFont){var b=lt.Controls._textSizeHelper.get_instance(),c=lt.Controls._textSizeHelper.get_instance().start();
try{this._itemTextFontHeightPixels=b.measureHeight(c,this._ItemTextFont)}finally{b.stop(c)}}else this._itemTextFontHeightPixels=0;null!=this._viewLayout&&(this.updateTransform(),this.onPropertyChanged(lt.Controls.ImageViewer._ItemTextFont_Name))}return a},get_itemSize:function(){return this._ItemSize.clone()},set_itemSize:function(a){lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._ItemSize_Name);if(0>a.get_width()||0>a.get_height())throw new lt.ArgumentOutOfRangeException(lt.Controls.ImageViewer._ItemSize_Name,
a,"Must have a width and height values greater than or equal to 0");if(!lt.LeadSizeD.equals(this._ItemSize,a)){this._ItemSize=a.clone();if(!this._ItemSize.get_isEmpty()){this.beginTransform();for(var b=ss.IEnumerator.getEnumerator(this._items);b.moveNext();)b.current.set_size(this._ItemSize.clone());this.endTransform()}this.onPropertyChanged(lt.Controls.ImageViewer._ItemSize_Name)}return a},get_itemSizeMode:function(){return this._ItemSizeMode},set_itemSizeMode:function(a){this._ItemSizeMode=a;this.beginTransform();
for(var b=ss.IEnumerator.getEnumerator(this._items);b.moveNext();){var c=b.current;c.zoom(this._ItemSizeMode,1,c.get_origin())}this._internalEndTransform(!0,!0);this.onPropertyChanged(lt.Controls.ImageViewer._ItemSizeMode_Name);return a},get_resizeOnTransform:function(){return this._ResizeOnTransform},set_resizeOnTransform:function(a){var b=this._ResizeOnTransform;this._ResizeOnTransform!==a&&(this._ResizeOnTransform=a);this._setItemsValue(b,a,lt.Controls.ImageViewer._ResizeOnTransform_Name,!0);return a},
get_clipImageToContent:function(){return this._ClipImageToContent},set_clipImageToContent:function(a){var b=this._ClipImageToContent;this._ClipImageToContent!==a&&(this._ClipImageToContent=a);this._setItemsValue(b,a,lt.Controls.ImageViewer._ClipImageToContent_Name,!0);return a},get_imageHorizontalAlignment:function(){return this._ImageHorizontalAlignment},set_imageHorizontalAlignment:function(a){this._ImageHorizontalAlignment!==a&&(this._ImageHorizontalAlignment=a);this._setItemsValue(this._ImageHorizontalAlignment,
a,lt.Controls.ImageViewer._ImageHorizontalAlignment_Name,!0);return a},get_imageVerticalAlignment:function(){return this._ImageVerticalAlignment},set_imageVerticalAlignment:function(a){this._ImageVerticalAlignment!==a&&(this._ImageVerticalAlignment=a);this._setItemsValue(this._ImageVerticalAlignment,a,lt.Controls.ImageViewer._ImageVerticalAlignment_Name,!0);return a},get_textHorizontalAlignment:function(){return this._TextHorizontalAlignment},set_textHorizontalAlignment:function(a){this._TextHorizontalAlignment!==
a&&(this._TextHorizontalAlignment=a);this._setItemsValue(this._TextHorizontalAlignment,a,lt.Controls.ImageViewer._TextHorizontalAlignment_Name,!0);return a},get_textVerticalAlignment:function(){return this._TextVerticalAlignment},set_textVerticalAlignment:function(a){this._TextVerticalAlignment!==a&&(this._TextVerticalAlignment=a);this._setItemsValue(this._TextVerticalAlignment,a,lt.Controls.ImageViewer._TextVerticalAlignment_Name,!0);return a},get_itemTextWrap:function(){return this._ItemTextWrap},
set_itemTextWrap:function(a){this._checkCanSet(lt.Controls.ImageViewer._ItemTextWrap_Name);this._ItemTextWrap!==a&&(this._ItemTextWrap=a,this._internalUpdateTransform(!1,!1),this.onPropertyChanged(lt.Controls.ImageViewer._ItemTextWrap_Name));return a},get_itemTextTrimming:function(){return this._ItemTextTrimming},set_itemTextTrimming:function(a){this._checkCanSet(lt.Controls.ImageViewer._ItemTextTrimming_Name);this._ItemTextTrimming!==a&&(this._ItemTextTrimming=a,this._internalUpdateTransform(!1,
!1),this.onPropertyChanged(lt.Controls.ImageViewer._ItemTextTrimming_Name));return a},get_itemTextColor:function(){return this._ItemTextColor},set_itemTextColor:function(a){this._checkCanSet(lt.Controls.ImageViewer._ItemTextColor_Name);lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._ItemTextColor_Name);lt.Controls.GraphicsHelper.areEqualColors(this._ItemTextColor,a)||(this._ItemTextColor=a,this._nativeInvalidate(lt.LeadRectD.get_empty()),this.onPropertyChanged(lt.Controls.ImageViewer._ItemTextColor_Name));
return a},get_selectedItemTextColor:function(){return this._SelectedItemTextColor},set_selectedItemTextColor:function(a){this._checkCanSet(lt.Controls.ImageViewer._SelectedItemTextColor_Name);lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._SelectedItemTextColor_Name);lt.Controls.GraphicsHelper.areEqualColors(this._SelectedItemTextColor,a)||(this._SelectedItemTextColor=a,this._nativeInvalidate(lt.LeadRectD.get_empty()),this.onPropertyChanged(lt.Controls.ImageViewer._SelectedItemTextColor_Name));
return a},translateItemScaleFactor:function(a,b,c,d){if(null==a)throw new lt.ArgumentNullException("item");this._getItemIndex(a,"item");if(this.get__hasGoodScaleFactors()){var e=this._getItemScaleFactor(a,this.get_useDpi()),f=lt.LeadSizeD.create(1,1),b=b/(e.get_width()*f.get_width()),c=c/(e.get_height()*f.get_height());if(!lt.LeadDoubleTools.isZero(b)||!lt.LeadDoubleTools.isZero(c))e=lt.LeadMatrix.get_identity(),e.translate(b,c),a._setTransform(lt.LeadMatrix.multiply(a.get_transform(),e),d)}},_items:null,
get_items:function(){return this._items},add_selectedItemsChanged:function(a){this.__selectedItemsChanged=ss.Delegate.combine(this.__selectedItemsChanged,a)},remove_selectedItemsChanged:function(a){this.__selectedItemsChanged=ss.Delegate.remove(this.__selectedItemsChanged,a)},__selectedItemsChanged_handler_get:function(){null==this.__selectedItemsChanged_handler&&(this.__selectedItemsChanged_handler=ss.EventHandler.create(this,this.add_selectedItemsChanged,this.remove_selectedItemsChanged));return this.__selectedItemsChanged_handler},
__selectedItemsChanged:null,__selectedItemsChanged_handler:null,onSelectedItemsChanged:function(a){null!=this.__selectedItemsChanged&&this.__selectedItemsChanged(this,a)},_internalOnSelectedItemsChanged:function(){this.onSelectedItemsChanged(lt.LeadEventArgs.Empty)},_activeItem:null,get_activeItem:function(){return this._activeItem},set_activeItem:function(a){null!=a&&this._getItemIndex(a,"ActiveItem");a!==this._activeItem&&(this.get_useElements()&&this._updateActiveItemElement(a),this._activeItem=
a,this._internalUpdateTransform(!0,!0),this.onActiveItemChanged(lt.LeadEventArgs.Empty));return a},add_activeItemChanged:function(a){this.__activeItemChanged=ss.Delegate.combine(this.__activeItemChanged,a)},remove_activeItemChanged:function(a){this.__activeItemChanged=ss.Delegate.remove(this.__activeItemChanged,a)},__activeItemChanged_handler_get:function(){null==this.__activeItemChanged_handler&&(this.__activeItemChanged_handler=ss.EventHandler.create(this,this.add_activeItemChanged,this.remove_activeItemChanged));
return this.__activeItemChanged_handler},__activeItemChanged:null,__activeItemChanged_handler:null,onActiveItemChanged:function(a){null!=this.__activeItemChanged&&this.__activeItemChanged(this,a)},_getItemIndex:function(a,b){var c=this._items.indexOf(a);if(-1===c)throw new lt.ArgumentException("Does not belong to the items of this viewer",b);return c},get_hasItems:function(){return 0<this._items.get_count()},_insertItem:function(a){null==this.get_activeItem()&&this.set_activeItem(a);this._doInsertItem(a);
this.get_invert()&&lt.Controls._imageProcessingHelper.get_canInvert()&&lt.Controls._imageProcessingHelper.invert(a);this.get_itemSizeMode()&&a.zoom(this.get_itemSizeMode(),1,a.get_origin())},_removeItem:function(a){for(var b=!1,c=ss.IEnumerator.getEnumerator(this._interactiveModes);c.moveNext();){var d=c.current;if(d.get_item()===a&&d.get_isStarted()){b=!0;break}}b&&this._interactiveModes._resetInteractiveModes();this.get_activeItem()===a&&(b=-1,1<this._items.get_count()&&(b=(b=this._items.indexOf(a))?
b-1:1),-1!==b?this.set_activeItem(this._items.get_item(b)):this.set_activeItem(null));this._doRemoveItem(a)},getItemBounds:function(a,b){return this._doGetItemBounds(a,b,!1)},_doGetItemBounds:function(a,b,c){if(null==a)throw new lt.ArgumentNullException("item");var d=this._getItemIndex(a,"item"),e=this._items.get__props()[d],d=lt.LeadMatrix.get_identity();switch(b){case 1:e=e.viewBounds.clone();d=this._totalViewTransformInverse;break;case 2:e=e.contentBounds.clone();break;case 3:case 6:e=3===b?this.getItemImageSize(a,
!1):this.getItemFloaterSize(a,!1);lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(e)?e=lt.LeadRectD.get_empty():(e=lt.LeadRectD.create(0,0,e.get_width(),e.get_height()),c=c?this.getItemImageFloatingPointTransform(a):this.getItemImageTransform(a),6===b&&(c=lt.LeadMatrix.multiply(a.get_floaterTransform(),c)),e=c.transformRect(e),d=this._totalViewTransformInverse);break;case 4:e=e.textAreaBounds.clone();break;case 5:e=e.textBounds.clone();break;default:e=e.viewBounds.clone()}!e.get_isEmpty()&&!d.get_isIdentity()&&
(e=d.transformRect(e));return e},convertBoundsToView:function(a,b){if(a.get_isEmpty())return a;var c=a.clone();this._totalViewTransform.get_isIdentity()||(c=this._totalViewTransform.transformRect(c));b&&(c=this._intersectWithClientRectangle(c));return c},getItemViewBounds:function(a,b,c){if(null==a)throw new lt.ArgumentNullException("item");var d=this.getItemBounds(a,b);if(d.get_isEmpty())return d;3===b&&c&&a.get_clipImageToContent()&&(a=this._items.indexOf(a),a=this._items.get__props()[a],d=lt.LeadRectD.intersectRects(d,
a.contentBounds));b?d=this.convertBoundsToView(d,c):c&&(d=this._intersectWithClientRectangle(d));return d},getViewBounds:function(a,b){var c=lt.LeadRectD.create(0,0,this._viewSize.get_width(),this._viewSize.get_height()),c=this._viewTransform.transformRect(c);if(a){var c=lt.Controls.PaddingHelper.addToRectD(c,this.get_viewPadding()),d=this.get_viewBorderThickness();c.inflate(d,d);c=lt.Controls.PaddingHelper.addToRectD(c,this.get_viewMargin())}b&&(c=this._intersectWithClientRectangle(c));return c},
_intersectWithClientRectangle:function(a){var b=lt.Controls.PrimitivesHelper.toLeadRectD(this._getClientRectangle());return lt.LeadRectD.intersectRects(a,b)},getItemTransform:function(a){a=this.getItemBounds(a,0);if(a.get_isEmpty())return lt.LeadMatrix.get_identity();var b=lt.LeadMatrix.get_identity();b.translate(a.get_x(),a.get_y());return b},getItemContentTransform:function(a){a=this.getItemBounds(a,2);if(a.get_isEmpty())return lt.LeadMatrix.get_identity();var a=this._totalViewTransform.transformRect(a),
b=lt.LeadMatrix.get_identity();b.scale(this._xScaleFactor,this._yScaleFactor*this.get_aspectRatioCorrection());b.translate(a.get_x(),a.get_y());return b},getItemImageTransform:function(a){if(null==a)throw new lt.ArgumentNullException("item");a=this._getItemIndex(a,"item");return this._items.get__props()[a].imageTransform.clone()},getItemImageFloatingPointTransform:function(a){if(null==a)throw new lt.ArgumentNullException("item");a=this._getItemIndex(a,"item");return this._items.get__props()[a].imageTransformFloatingPoint.clone()},
getItemImageTransformWithDpi:function(a,b){if(null==a)throw new lt.ArgumentNullException("item");var c=this._getItemIndex(a,"item");return b?this._items.get__props()[c].imageTransform.clone():this._items.get__props()[c].imageTransformNoDpi.clone()},getItemFloaterTransform:function(a){if(null==a)throw new lt.ArgumentNullException("item");a=this._getItemIndex(a,"item");return this._items.get__props()[a].floaterTransform.clone()},_updateItemImageTransform:function(a,b,c){var d=this._items.get__props()[this._items.indexOf(a)],
e=lt.LeadMatrix.get_identity(),f=lt.LeadMatrix.get_identity(),g=lt.LeadMatrix.get_identity();if(a.get_hasImage()){var h=this.getItemBounds(a,2);if(!h.get_isEmpty()){var h=this._totalViewTransform.transformRect(h),i=this._getItemScaleFactor(a,this.get_useDpi()),j=this._getItemScaleFactor(a,!1),k,g=a.get_transform();if(6!==this.get_sizeMode()){var n=a.get_imageSize();lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(n)?(e=lt.LeadRectD.create(0,0,0,0),k=lt.LeadRectD.create(0,0,0,0)):(b&&1!==b?(c=lt.LeadRectD.create(0,
0,n.get_width()*c.get_width(),n.get_height()*c.get_height()),c=g.transformRect(c),b=lt.Controls.ImageViewer.getScaleFactors(h.get_size(),c.get_size(),b),i.set_width(i.get_width()*b.get_width()),i.set_height(i.get_height()*b.get_height()),j.set_width(j.get_width()*b.get_width()),j.set_height(j.get_height()*b.get_height()),a._setScaleFactors(b)):a._setScaleFactors(a.get_scale()),e=lt.LeadRectD.create(0,0,n.get_width()*i.get_width(),n.get_height()*i.get_height()),k=lt.LeadRectD.create(0,0,n.get_width()*
j.get_width(),n.get_height()*j.get_height()))}else e=h.clone(),k=lt.LeadRectD.create(0,0,0,0);var m=e.clone(),s=k.clone(),b=lt.LeadPointD.create(0,0),n=lt.LeadPointD.create(0,0),c=lt.LeadPointD.create(0,0);a.get_resizeOnTransform()&&(m=g.transformRect(m),b=lt.LeadPointD.create(m.get_width()-e.get_width(),m.get_height()-e.get_height()),s=g.transformRect(s),n=lt.LeadPointD.create(s.get_width()-k.get_width(),s.get_height()-k.get_height()),c=lt.LeadPointD.create(s.get_x()-m.get_x(),s.get_y()-m.get_y()));
k=this._getImageAlign(h.get_size(),m.get_size());e=g.clone();g=g.clone();e.scale(i.get_width(),i.get_height());g.scale(j.get_width(),j.get_height());e.translate(b.get_x()/2+h.get_x()+k.get_x(),b.get_y()/2+h.get_y()+k.get_y());g.translate(c.get_x()+n.get_x()/2+h.get_x()+k.get_x(),c.get_y()+n.get_y()/2+h.get_y()+k.get_y())}}else e=this.getItemContentTransform(a),g=e.clone();e.get_isIdentity()||(f=e.clone(),e=lt.Controls.PrimitivesHelper.toRenderTransform(e));g.get_isIdentity()||(g=lt.Controls.PrimitivesHelper.toRenderTransform(g));
h=!1;lt.LeadMatrix.equals(d.imageTransform,e)||(h=!0,d.imageTransform=e);lt.LeadMatrix.equals(d.imageTransformFloatingPoint,f)||(h=!0,d.imageTransformFloatingPoint=f);lt.LeadMatrix.equals(d.imageTransformNoDpi,g)||(h=!0,d.imageTransformNoDpi=g);return h=this._updateFloaterTransform(a)||h},_getImageAlign:function(a,b){b.set_width(parseInt(b.get_width()));b.set_height(parseInt(b.get_height()));var c=0,d=0,e=this.get_imageHorizontalAlignment();1===e?c=(a.get_width()-b.get_width())/2:2===e&&(c=a.get_width()-
b.get_width());e=this.get_imageVerticalAlignment();1===e?d=(a.get_height()-b.get_height())/2:2===e&&(d=a.get_height()-b.get_height());return lt.LeadPointD.create(c,d)},_updateFloaterTransform:function(a){var b=this._items.get__props()[this._items.indexOf(a)],a=lt.LeadMatrix.multiply(a.get_floaterTransform(),b.imageTransform);a.get_isIdentity()||(a=lt.Controls.PrimitivesHelper.toRenderTransform(a));return!lt.LeadMatrix.equals(b.floaterTransform,a)?(b.floaterTransform=a,!0):!1},_getItemScaleFactor:function(a,
b){if(!this.get__hasGoodScaleFactors())return lt.LeadSizeD.create(1,1);var c=1,d=1;if(b)var d=this._normalizeDpi(this._realScreenDpi,this._defaultDpi),e=this._getRealResolution(a.get_resolution()),c=d.get_width()/e.get_width(),d=d.get_height()/e.get_height();return lt.LeadSizeD.create(this._xScaleFactor*c,this._yScaleFactor*d*this.get_aspectRatioCorrection())},getFirstVisibleItemIndex:function(a){a=this.getFirstVisibleItem(a);return null==a?-1:this._items.indexOf(a)},isItemVisible:function(a,b){var c=
lt.Controls.PrimitivesHelper.toLeadRectD(this._getClientRectangle());return this._isItemVisibleInternal(a,b,c)},_isItemVisibleInternal:function(a,b,c){a=this.getItemViewBounds(a,b,!1);return!a.get_isEmpty()&&a.intersectsWith(c)},getFirstVisibleItem:function(a){for(var b=lt.Controls.PrimitivesHelper.toLeadRectD(this._getClientRectangle()),c=ss.IEnumerator.getEnumerator(this._items);c.moveNext();){var d=c.current;if(this._isItemVisibleInternal(d,a,b))return d}return null},getLastVisibleItem:function(a){var b=
this.getFirstVisibleItem(a),c=null;if(null!=b){for(var c=lt.Controls.PrimitivesHelper.toLeadRectD(this._getClientRectangle()),d=this._items.get_count(),b=this._items.indexOf(b),e=!0,f=b+1;f<d&&e;f++)(e=this._isItemVisibleInternal(this._items.get_item(f),a,c))&&(b=f);c=this._items.get_item(b)}return c},getLastVisibleItemIndex:function(a){a=this.getLastVisibleItem(a);return null==a?-1:this._items.indexOf(a)},getLargestVisibleItemIndex:function(a){a=this.getLargestVisibleItem(a);return null==a?-1:this._items.indexOf(a)},
getLargestVisibleItem:function(a){for(var b=null,c=0,d=lt.Controls.PrimitivesHelper.toLeadRectD(this._getClientRectangle()),e=ss.IEnumerator.getEnumerator(this._items);e.moveNext();){var f=e.current,g=this.getItemViewBounds(f,a,!1);if(!g.get_isEmpty()&&g.intersectsWith(d)&&(g=lt.LeadRectD.intersectRects(g,d),!g.get_isEmpty()&&(g=g.get_width()*g.get_height(),null==b||g>c)))b=f,c=g}return b},findNearestItem:function(a){lt.Controls.ControlsHelper.checkIfNull(a,"point");var b=this.get_items().get_count();
if(!b)return null;if(1===b)return this.get_items().get_item(0);for(var b=a.get_isEmpty()?0:a.get_x(),a=a.get_isEmpty()?0:a.get_y(),c=-1,d=0,e=this._items.get__props(),f=this._items.get_count(),g=0;g<f;g++){var h=e[g].viewContentBounds;if(!h.get_isEmpty()){if(h.contains(b,a))return Type.safeCast(this._items.get_item(g),lt.Controls.ImageViewerItem);var i=h.get_x()+h.get_width()/2,h=h.get_y()+h.get_height()/2,i=Math.sqrt(Math.pow(i-b,2)+Math.pow(h-a,2));if(-1===c||i<d)c=g,d=i}}return-1!==c?this.get_items().get_item(c):
null},hitTestItems:function(a){lt.Controls.ControlsHelper.checkIfNull(a,"rect");if(a.get_isEmpty())return[];for(var b=[],c=this._items.get__props(),d=this._items.get_count(),e=0;e<d;e++)c[e].viewContentBounds.intersectsWith(a)&&b.add(Type.safeCast(this._items.get_item(e),lt.Controls.ImageViewerItem));return lt.Controls.ImageViewerItems._toArray(b)},hitTestItem:function(a){lt.Controls.ControlsHelper.checkIfNull(a,"point");for(var b=a.get_isEmpty()?0:a.get_x(),a=a.get_isEmpty()?0:a.get_y(),c=this._items.get__props(),
d=this._items.get_count(),e=0;e<d;e++)if(c[e].viewContentBounds.contains(b,a))return Type.safeCast(this._items.get_item(e),lt.Controls.ImageViewerItem);return null},hitTestFloater:function(a){lt.Controls.ControlsHelper.checkIfNull(a,"point");for(var b=a.get_isEmpty()?0:a.get_x(),a=a.get_isEmpty()?0:a.get_y(),c=this._items.get_count(),d=0;d<c;d++){var e=Type.safeCast(this._items.get_item(d),lt.Controls.ImageViewerItem);if(e.get_hasVisibleFloater()){var f=this.getItemFloaterSize(e,!1);if(!lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(f)){var g=
this.convertPoint(e,0,5,lt.LeadPointD.create(b,a));if(0<=g.get_x()&&0<=g.get_y()&&g.get_x()<f.get_width()&&g.get_y()<f.get_height())return e}}}return null},hitTestItemPart:function(a,b){if(null==a)throw new lt.ArgumentNullException("item");lt.Controls.ControlsHelper.checkIfNull(b,"point");var c=this._getItemIndex(a,"item"),d=b.get_isEmpty()?0:b.get_x(),e=b.get_isEmpty()?0:b.get_y();if(!this._items.get__props()[c].viewContentBounds.contains(d,e))return 0;c=lt.LeadPointD.create(d,e);c=this._totalViewTransformInverse.transformPoint(c);
return this.getItemBounds(a,2).containsPoint(c)?(c=this.getItemImageSize(a,!1),!lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(c)&&(d=this.convertPoint(a,0,4,lt.LeadPointD.create(d,e)),0<=d.get_x()&&0<=d.get_y()&&d.get_x()<c.get_width()&&d.get_y()<c.get_height())?3:2):this.getItemBounds(a,5).containsPoint(c)?5:this.getItemBounds(a,4).containsPoint(c)?4:1},convertPoints:function(a,b,c,d){if(null==d)throw new lt.ArgumentNullException("points");if(b!==c&&d.length)if(b&&c)this.convertPoints(a,b,0,d),
this.convertPoints(a,0,c,d);else{if(!b&&1===c)a=this._viewTransformInverse;else if(1===b&&!c)a=this._viewTransform;else{null==a&&(a=this.get_activeItem());if(2===c||2===b)a=this.getItemTransform(a);else if(3===c||3===b)a=this.getItemContentTransform(a);else if(4===c||4===b)a=this.getItemImageTransform(a);else if(5===c||5===b)a=this.getItemFloaterTransform(a);else throw new lt.ArgumentException("Invalid coordinate type","fromType");if(b){if(c)throw new lt.ArgumentException("Invalid coordinate type",
"fromType");}else a.get_hasInverse()&&a.invert()}a.get_isIdentity()||a.transformPoints(d)}},convertPoint:function(a,b,c,d){lt.Controls.ControlsHelper.checkIfNull(d,"point");d=[d];this.convertPoints(a,b,c,d);return d[0]},convertRect:function(a,b,c,d){lt.Controls.ControlsHelper.checkIfNull(d,"rect");var e=d.clone();if(b===c||e.get_isEmpty())return e;d=lt.LeadPointD.create(e.get_left(),e.get_top());e=lt.LeadPointD.create(e.get_right(),e.get_bottom());d=this.convertPoint(a,b,c,d);e=this.convertPoint(a,
b,c,e);return e=lt.LeadRectD.fromLTRB(d.get_x(),d.get_y(),e.get_x(),e.get_y())},gotoItemByIndex:function(a){this.gotoItem(this._items.get_item(a))},gotoItem:function(a){a=this.getItemViewBounds(a,1,!1);a.get_isEmpty()||this.scrollByRestrict(lt.LeadPointD.create(lt.Controls.PrimitivesHelper.toInt(a.get_left()),lt.Controls.PrimitivesHelper.toInt(a.get_top())))},ensureItemVisibleByIndex:function(a){this.ensureItemVisible(this._items.get_item(a))},ensureItemVisible:function(a){a=this.getItemViewBounds(a,
1,!1);a.get_isEmpty()||this.ensureBoundsVisible(a)},ensureBoundsVisible:function(a){var b=lt.Controls.PrimitivesHelper.toLeadRectD(this._getClientRectangle());if(!b.containsRect(a)){var c=0,d=0;a.get_left()<b.get_left()?c=a.get_left()-b.get_left():a.get_right()>b.get_right()&&(c=a.get_right()-b.get_right());a.get_top()<b.get_top()?d=a.get_top()-b.get_top():a.get_bottom()>b.get_bottom()&&(d=a.get_bottom()-b.get_bottom());this.scrollByRestrict(lt.LeadPointD.create(lt.Controls.PrimitivesHelper.toInt(c),
lt.Controls.PrimitivesHelper.toInt(d)))}},_viewLayout:null,get_viewLayout:function(){return this._viewLayout},set_viewLayout:function(a){if(null==a)throw new lt.ArgumentNullException("ViewLayout");if(this._viewLayout!==a){var b=lt.Controls.ImageViewerSyncManager.beginSync(this._syncId);this._viewLayout=a;this._internalUpdateTransform(!0,!0);if(this._isSyncSource&&null!=b)for(var c=0;c<b.length;c++){var d=b[c];d!==this&&d.get_isSyncTarget()&&d.set_viewLayout(a)}lt.Controls.ImageViewerSyncManager.endSync(this._syncId)}return a},
_calculateItemSize:function(a,b,c){var d=b.get_width(),b=b.get_height();c&&(a=this._getRealResolution(a),a=this._normalizeDpi(a,this._realScreenDpi),c=this._normalizeDpi(this._realScreenDpi,this._defaultDpi),d*=c.get_width()/a.get_width(),b*=c.get_height()/a.get_height());b*=this.get_aspectRatioCorrection();return lt.LeadSizeD.create(lt.Controls.PrimitivesHelper.toInt(d),lt.Controls.PrimitivesHelper.toInt(b))},getItemImageSize:function(a,b){if(null==a)throw new lt.ArgumentNullException("item");this._getItemIndex(a,
"item");if(lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(a.get_size()))return lt.LeadSizeD.get_empty();var c=a.get_imageSize();return lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(c)?lt.LeadSizeD.get_empty():this._calculateItemSize(a.get_resolution(),c,b)},getItemFloaterSize:function(a,b){if(null==a)throw new lt.ArgumentNullException("item");this._getItemIndex(a,"item");if(lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(a.get_size()))return lt.LeadSizeD.get_empty();var c=a.get_floaterSize();return lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(c)?
lt.LeadSizeD.get_empty():this._calculateItemSize(a.get_resolution(),c,b)},_getRealResolution:function(a){return this._normalizeDpi(a,this._realScreenDpi)},add_itemChanged:function(a){this.__itemChanged=ss.Delegate.combine(this.__itemChanged,a)},remove_itemChanged:function(a){this.__itemChanged=ss.Delegate.remove(this.__itemChanged,a)},__itemChanged_handler_get:function(){null==this.__itemChanged_handler&&(this.__itemChanged_handler=ss.EventHandler.create(this,this.add_itemChanged,this.remove_itemChanged));
return this.__itemChanged_handler},__itemChanged:null,__itemChanged_handler:null,onItemChanged:function(a){null!=this.__itemChanged&&this.__itemChanged(this,a)},add_itemError:function(a){this.__itemError=ss.Delegate.combine(this.__itemError,a)},remove_itemError:function(a){this.__itemError=ss.Delegate.remove(this.__itemError,a)},__itemError_handler_get:function(){null==this.__itemError_handler&&(this.__itemError_handler=ss.EventHandler.create(this,this.add_itemError,this.remove_itemError));return this.__itemError_handler},
__itemError:null,__itemError_handler:null,onItemError:function(a){null!=this.__itemError&&this.__itemError(this,a)},_internalOnItemError:function(a){this.onItemError(a)},invalidateItemByIndex:function(a){var b=null;-1!==a&&(b=this._items.get_item(a));this.invalidateItem(b)},invalidateItem:function(a){var b;null==a?b=lt.Controls.PrimitivesHelper.toLeadRectD(this._getClientRectangle()):(b=this.getItemViewBounds(a,1,!0),b.get_isEmpty()||b.inflate(2,2),!b.get_isEmpty()&&a.get_hasVisibleFloater()&&(b=
lt.LeadRectD.unionRects(b,this.getItemViewBounds(a,6,!0))));b.get_isEmpty()||this._nativeInvalidate(b)},get_aspectRatioCorrection:function(){return this._AspectRatioCorrection},set_aspectRatioCorrection:function(a){if(lt.LeadDoubleTools.isZero(a)||0>a)throw new lt.ArgumentOutOfRangeException(lt.Controls.ImageViewer._AspectRatioCorrection_Name,a,"Must be a value greater than 0");this._AspectRatioCorrection!==a&&(this._AspectRatioCorrection=a,this._internalUpdateTransform(!0,!1),this.onPropertyChanged(lt.Controls.ImageViewer._AspectRatioCorrection_Name));
return a},get_viewHorizontalAlignment:function(){return this._ViewHorizontalAlignment},set_viewHorizontalAlignment:function(a){this._ViewHorizontalAlignment!==a&&(this._ViewHorizontalAlignment=a,this._internalUpdateTransform(!0,!1),this.onPropertyChanged(lt.Controls.ImageViewer._ViewHorizontalAlignment_Name));return a},get_viewVerticalAlignment:function(){return this._ViewVerticalAlignment},set_viewVerticalAlignment:function(a){this._ViewVerticalAlignment!==a&&(this._ViewVerticalAlignment=a,this._internalUpdateTransform(!0,
!1),this.onPropertyChanged(lt.Controls.ImageViewer._ViewVerticalAlignment_Name));return a},get_itemHorizontalAlignment:function(){return this._ItemHorizontalAlignment},set_itemHorizontalAlignment:function(a){this._ItemHorizontalAlignment!==a&&(this._ItemHorizontalAlignment=a,this._internalUpdateTransform(!0,!1),this.onPropertyChanged(lt.Controls.ImageViewer._ItemHorizontalAlignment_Name));return a},get_itemVerticalAlignment:function(){return this._ItemVerticalAlignment},set_itemVerticalAlignment:function(a){this._ItemVerticalAlignment!==
a&&(this._ItemVerticalAlignment=a,this._internalUpdateTransform(!0,!1),this.onPropertyChanged(lt.Controls.ImageViewer._ItemVerticalAlignment_Name));return a},get_flip:function(){return this._Flip},set_flip:function(a){this._Flip!==a&&(this._Flip=a,this._updateItemsTransform(!0,!1,!1),this.onPropertyChanged(lt.Controls.ImageViewer._Flip_Name));return a},get_reverse:function(){return this._Reverse},set_reverse:function(a){this._Reverse!==a&&(this._Reverse=a,this._updateItemsTransform(!1,!0,!1),this.onPropertyChanged(lt.Controls.ImageViewer._Reverse_Name));
return a},get_rotateAngle:function(){return this._RotateAngle},set_rotateAngle:function(a){if(!this.get_useElements()){for(;0>a;)a+=360;for(;360<=a;)a-=360}lt.LeadDoubleTools.areClose(this._RotateAngle,a)||(this._RotateAngle=a,this._updateItemsTransform(!1,!1,!0),this.onPropertyChanged(lt.Controls.ImageViewer._RotateAngle_Name));return a},get_invert:function(){return this._Invert},set_invert:function(a){if(this._Invert!==a){this._Invert=a;if(lt.Controls._imageProcessingHelper.get_canInvert()){var b=
!1;this.beginRender();try{for(var c=ss.IEnumerator.getEnumerator(this._items);c.moveNext();){var d=c.current;d.get_hasImage()&&(b=lt.Controls._imageProcessingHelper.invert(d)||b)}}finally{this._internalEndUpdate(b)}}this._nativeInvalidate(lt.LeadRectD.get_empty());this.onPropertyChanged(lt.Controls.ImageViewer._Invert_Name)}return a},_updateItemsTransform:function(a,b,c){var d=this.get_flip(),e=this.get_reverse(),f=this.get_rotateAngle(),g=!1;this.beginTransform();for(var h=ss.IEnumerator.getEnumerator(this._items);h.moveNext();){var i=
h.current;a&&i.get_flip()!==d&&(i.set_flip(d),g=!0);b&&i.get_reverse()!==e&&(i.set_reverse(e),g=!0);c&&i.get_rotateAngle()!==f&&(i.set_rotateAngle(f),g=!0)}this._internalEndTransform(g,g)},get_sizeMode:function(){return this._sizeMode},get_maximumScaleFactor:function(){return this._MaximumScaleFactor},set_maximumScaleFactor:function(a){if(lt.LeadDoubleTools.isZero(a)||0>a)throw new lt.ArgumentOutOfRangeException("MaximumScaleFactor",a,"Must be a value greater than 0");lt.LeadDoubleTools.areClose(this._MaximumScaleFactor,
a)||(this._MaximumScaleFactor=a,this.onPropertyChanged(lt.Controls.ImageViewer._MaximumScaleFactor_Name));return a},get_minimumScaleFactor:function(){return this._MinimumScaleFactor},set_minimumScaleFactor:function(a){if(lt.LeadDoubleTools.isZero(a)||0>a)throw new lt.ArgumentOutOfRangeException("MinimumScaleFactor",a,"Must be a value greater than 0");lt.LeadDoubleTools.areClose(this._MinimumScaleFactor,a)||(this._MinimumScaleFactor=a,this.onPropertyChanged(lt.Controls.ImageViewer._MinimumScaleFactor_Name));
return a},_zoomValue:1,_xScaleFactor:1,get_xScaleFactor:function(){return this._xScaleFactor},_yScaleFactor:1,get_yScaleFactor:function(){return this._yScaleFactor},get_scaleFactor:function(){return Math.max(this._xScaleFactor,this._yScaleFactor)},_needTransformChanged:!1,add_transformChanged:function(a){this.__transformChanged=ss.Delegate.combine(this.__transformChanged,a)},remove_transformChanged:function(a){this.__transformChanged=ss.Delegate.remove(this.__transformChanged,a)},__transformChanged_handler_get:function(){null==
this.__transformChanged_handler&&(this.__transformChanged_handler=ss.EventHandler.create(this,this.add_transformChanged,this.remove_transformChanged));return this.__transformChanged_handler},__transformChanged:null,__transformChanged_handler:null,onTransformChanged:function(a){this._needTransformChanged=!1;null!=this.__transformChanged&&this.__transformChanged(this,a)},beginUpdate:function(){this.beginTransform()},endUpdate:function(){this.endTransform()},_transformCounter:0,beginTransform:function(){this._transformCounter++},
endTransform:function(){this._internalEndTransform(!0,!0)},_clientSizeTransformCounter:0,_internalEndTransform:function(a,b){if(!this._transformCounter)throw new lt.InvalidOperationException("'EndTransform' called without a matching 'BeginTransform'");this._transformCounter--;a&&!this._transformCounter&&this._internalUpdateTransform(b,!0)},updateTransform:function(){this._internalUpdateTransform(!0,!0)},_doOnSizeChanged:function(){this.disableTransitions();this._internalUpdateTransform(!0,!0);this.enableTransitions()},
get_canTransform:function(){return!this._transformCounter},get_viewTransform:function(){return this._viewTransform.clone()},get__hasGoodScaleFactors:function(){return!lt.LeadDoubleTools.isZero(this._xScaleFactor)&&!lt.LeadDoubleTools.isZero(this._yScaleFactor)},_setViewTransform:function(a,b){var c=!1;lt.LeadMatrix.equals(a,this._totalViewTransform)||(this._totalViewTransform=a.clone(),this._totalViewTransformInverse=this._totalViewTransform.clone(),this._totalViewTransformInverse.get_hasInverse()&&
this._totalViewTransformInverse.invert(),c=!0);var d=new lt.LeadMatrix;this.get__hasGoodScaleFactors()&&d.scale(this._xScaleFactor,this._yScaleFactor*this.get_aspectRatioCorrection());d=lt.LeadMatrix.multiply(d,this._totalViewTransform);if(c||!lt.LeadMatrix.equals(d,this._viewTransform))this._viewTransform=d.clone(),this._viewTransformInverse=this._viewTransform.clone(),this._viewTransformInverse.get_hasInverse()&&this._viewTransformInverse.invert(),c=!0;b&&(this._updateProps(),this._callInterpolatorsTransformChanged());
return c},_updateProps:function(){var a=this.get_viewPadding(),b=this.get_viewMargin(),c=this.get_viewBorderThickness();b.get_left();a.get_left();b.get_top();a.get_top();a.get_right();b.get_right();a.get_bottom();b.get_bottom();var a=this.get_itemMargin(),b=this.get_itemBorderThickness(),d=this.get_itemPadding(),e=a.get_left()+b+d.get_left(),f=a.get_top()+b+d.get_top(),g=d.get_right()+b+a.get_right(),d=d.get_bottom()+b+a.get_bottom(),h=this._items,i=h.get__props(),j=h.get_count(),k=lt.LeadSizeD.create(this._xScaleFactor,
this._yScaleFactor*this.get_aspectRatioCorrection()),n=lt.Controls._textSizeHelper.get_instance(),m=n.start(),s=lt.LeadRectD.get_empty(),l=lt.LeadPointD.get_empty(),o=lt.LeadRectD.get_empty(),r=lt.LeadPointD.get_empty(),q=null,u=lt.LeadRectD.get_empty(),w=!1;try{for(var A=0;A<j;A++){q=i[A];u=q.bounds;w=!1;if(u.get_isEmpty())q.contentBounds=s,q.itemElementOffset=l,q.viewBounds=s,q.viewContentBounds=s,q.textAreaBounds=s,q.textBounds=s,q.imageTransform=lt.LeadMatrix.get_identity(),q.imageTransformFloatingPoint=
lt.LeadMatrix.get_identity(),q.imageTransformNoDpi=lt.LeadMatrix.get_identity(),q.floaterTransform=lt.LeadMatrix.get_identity();else{u=lt.Controls.PrimitivesHelper.toLeadRectD(lt.Controls.PrimitivesHelper.toLeadRect(u));o=lt.LeadRectD.fromLTRB(u.get_x()+e,u.get_y()+f,u.get_right()-g,u.get_bottom()-d);lt.LeadRectD.equals(o,q.contentBounds)||(q.contentBounds=o,w=!0);var x=-(b/2)+c/2,r=lt.LeadPointD.create(e+x,f+x);lt.LeadPointD.equals(r,q.itemElementOffset)||(q.itemElementOffset=r,w=!0);o=this._totalViewTransform.transformRect(u);
lt.LeadRectD.equals(o,q.viewBounds)||(q.viewBounds=o,w=!0);o=lt.Controls.PaddingHelper.removeFromRectD(q.viewBounds,a);lt.LeadRectD.equals(o,q.viewContentBounds)||(q.viewContentBounds=o,w=!0);var z=Type.safeCast(h.get_item(A),lt.Controls.ImageViewerItem),w=this._updateTextBounds(n,m,z,q)||w,w=this._updateItemImageTransform(z,z.get_sizeMode(),k)||w}q.propsChanged=w||q.propsChanged}}finally{n.stop(m)}},_updateTextBounds:function(a,b,c,d){var e=this.get_itemTextFont();if(null==e)return d.textAreaBounds!==
lt.LeadRectD.get_empty()||d.textBounds!==lt.LeadRectD.get_empty()?(d.textAreaBounds=lt.LeadRectD.get_empty(),d.textBounds=lt.LeadRectD.get_empty(),!0):!1;var f=this.getItemBounds(c,2);if(f.get_isEmpty())return d.textAreaBounds!==lt.LeadRectD.get_empty()||d.textBounds!==lt.LeadRectD.get_empty()?(d.textAreaBounds=lt.LeadRectD.get_empty(),d.textBounds=lt.LeadRectD.get_empty(),!0):!1;var g=this.get_itemPadding(),f=lt.LeadRectD.fromLTRB(f.get_left()-g.get_left(),f.get_top()-g.get_top(),f.get_right()+g.get_right(),
f.get_bottom()+g.get_bottom()),h=lt.LeadRectD.create(f.get_x(),f.get_y(),f.get_width(),f.get_height()),i=c.get_textVerticalAlignment(),j=c.get_textHorizontalAlignment();1===i?(h.set_y(f.get_y()+g.get_top()),h.set_height(f.get_height()-g.get_top()-g.get_bottom())):2===i?(h.set_y(f.get_bottom()-g.get_bottom()),h.set_height(g.get_bottom())):(h.set_y(f.get_y()),h.set_height(g.get_top()));f=!1;lt.LeadRectD.equals(d.textAreaBounds,h)||(d.textAreaBounds=h,f=!0);var g=c.get_text(),k=lt.LeadRectD.get_empty();
String.isNullOrEmpty(g)||(c=lt.LeadSizeD.get_empty(),c=a.getSize(b,g,e,this._itemTextFontHeightPixels,h,this.get_itemTextWrap(),this.get_itemTextTrimming()),!c.get_isEmpty()&&0<c.get_width()&&0<c.get_height()&&(a=0,b=c.get_height(),1===i?a=(h.get_height()-b)/2:2===i&&(a=h.get_height()-b),k=lt.LeadRectD.create(h.get_x(),h.get_y()+a,c.get_width(),c.get_height()),1===j?k.set_x(k.get_x()+(h.get_width()-k.get_width())/2):2===j&&k.set_x(k.get_x()+(h.get_width()-k.get_width()))));lt.LeadRectD.equals(d.textBounds,
k)||(d.textBounds=k,f=!0);return f},get_viewSize:function(){return lt.Controls.PrimitivesHelper.toLeadSize(this._viewSize)},_internalUpdateTransform:function(a,b){if(this.get_canTransform()){this._transformCounter++;var c=!1,d=lt.LeadSizeD.create(0,0),e=lt.LeadRectD.get_empty(),f=this.get_aspectRatioCorrection(),g=!1;if(this.get_hasItems()){e=this._getClientRectangle();if(1>e.get_width()||1>e.get_height()){this._transformCounter--;return}for(var g=this.get_viewMargin(),h=this.get_viewBorderThickness(),
i=this.get_viewPadding(),j=lt.LeadRectD.fromLTRB(e.get_left()+g.get_left()+h+i.get_left(),e.get_top()+g.get_top()+h+i.get_top(),e.get_right()-(g.get_right()+h+i.get_right()),e.get_bottom()-(g.get_bottom()+h+i.get_bottom())),k=this._items,d=k.get__props(),k=k.get_count(),n=Array(k),m=0;m<k;m++)n[m]=lt.LeadRectD.get_empty();var m=1,s=0,l=this.get_sizeMode();if(l){this._viewLayout.updateTransform(this,1,1*f,l,lt.LeadRectD.get_empty(),n);var o=this.get_itemMargin(),r=this.get_itemPadding(),q=this.get_itemBorderThickness(),
u=o.get_left()+o.get_right()+r.get_left()+r.get_right()+2*q,r=o.get_top()+o.get_bottom()+r.get_top()+r.get_bottom()+2*q,u=j.get_width()-u*this._viewLayout.get_sizeModeWidthItemCount()-this.get_itemSpacing().get_width()*(this._viewLayout.get_sizeModeWidthItemCount()-1),o=this._viewLayout.get_sizeModeWidth(),r=j.get_height()-r*this._viewLayout.get_sizeModeHeightItemCount()-this.get_itemSpacing().get_height()*(this._viewLayout.get_sizeModeHeightItemCount()-1),q=this._viewLayout.get_sizeModeHeight();
0<o&&0<q&&0<u&&0<r?(2===l&&(l=o>u||q>r?3:0),4===l?m=u/o:5===l?m=r/q:3===l?u>r?(m=u/o,m*q>r&&(m=r/q)):(m=r/q,m*o>u&&(m=u/o)):6===l&&(m=u/o,s=r/q)):m=0}s||(s=m);this._xScaleFactor=this._zoomValue*m;this._yScaleFactor=this._zoomValue*s;0>=this._xScaleFactor&&(this._xScaleFactor=0);0>=this._yScaleFactor&&(this._yScaleFactor=0);this._viewLayout.updateTransform(this,this._xScaleFactor,this._yScaleFactor,0,j,n);j=lt.LeadRectD.get_empty();for(m=0;m<k;m++)s=n[m],l=d[m],l.propsChanged=!lt.LeadRectD.equals(l.bounds,
s)||l.propsChanged,d[m].bounds=s,j=lt.LeadRectD.unionRects(j,s);d=!j.get_isEmpty()?lt.LeadSizeD.create(j.get_width(),j.get_height()):lt.LeadSizeD.create(0,0);lt.LeadSizeD.equals(this._totalViewSize,d)||(c=!0,this._totalViewSize=d);d=lt.LeadSizeD.create(g.get_left()+h+i.get_left()+this._totalViewSize.get_width()+i.get_right()+h+g.get_right(),g.get_top()+h+i.get_top()+this._totalViewSize.get_height()+i.get_bottom()+h+g.get_bottom());k=lt.LeadMatrix.get_identity();n=lt.LeadPointD.create(0,0);e.get_width()>
d.get_width()&&(j=this.get_viewHorizontalAlignment(),1===j?n.set_x((e.get_width()-d.get_width())/2):2===j&&n.set_x(e.get_width()-d.get_width()));e.get_height()>d.get_height()&&(j=this.get_viewVerticalAlignment(),1===j?n.set_y((e.get_height()-d.get_height())/2):2===j&&n.set_y(e.get_height()-d.get_height()));k.translate(n.get_x()+g.get_left()+h+i.get_left(),n.get_y()+g.get_top()+h+i.get_top());k=lt.Controls.PrimitivesHelper.toRenderTransform(k);c=this._setViewTransform(k,!1)||c;g=!0}else this._totalViewSize=
lt.LeadSizeD.create(0,0),c=this._setViewTransform(lt.LeadMatrix.get_identity(),!0),this._hideNativeScrollbars();if(this.get__hasGoodScaleFactors()){if(this._viewSize=lt.LeadSizeD.create(this._totalViewSize.get_width()/this._xScaleFactor,this._totalViewSize.get_height()/this._yScaleFactor*f),e=this._getClientRectangle(),this._maximumScrollSize=lt.LeadSizeD.create(Math.max(0,lt.Controls.PrimitivesHelper.toInt(d.get_width()-e.get_width())),Math.max(0,lt.Controls.PrimitivesHelper.toInt(d.get_height()-
e.get_height()))),this._setNativeScrollSize(lt.Controls.PrimitivesHelper.toLeadSize(d),0<this._maximumScrollSize.get_width(),0<this._maximumScrollSize.get_height())&&this._updateMainDivSize(),f=this._getClientRectangle(),!lt.LeadRectD.equals(e,f)){this._clientSizeTransformCounter++;if(2>this._clientSizeTransformCounter){this._transformCounter--;this._internalUpdateTransform(a,!0);return}this._clientSizeTransformCounter=0}}else this._viewSize=lt.LeadSizeD.create(0,0),this._maximumScrollSize=lt.LeadSizeD.create(0,
0),this._setNativeScrollSize(lt.LeadSizeD.create(0,0),!0,!0);this._clientSizeTransformCounter=0;e=this._ScrollOffset.clone();f=this.restrictScrollOffset(this._ScrollOffset);this._ScrollOffset=lt.LeadPointD.create(0,0);c=this._updateViewTransformFromScroll(f,g)||c;lt.LeadPointD.equals(e,this._ScrollOffset)||(this.onScrollOffsetChanged(lt.LeadEventArgs.Empty),c=!0);if(c||b)if(this.get_canRender())this.onTransformChanged(lt.LeadEventArgs.Empty);else this._needTransformChanged=!0;this._transformCounter--;
a&&(this._resizeForeCanvas(),this._nativeInvalidate(lt.LeadRectD.get_empty()))}},get_defaultZoomOrigin:function(){var a=lt.LeadPointD.create(0,0);if(!this._totalViewSize.get_isEmpty()){var b=this._getClientRectangle();1===this._ViewHorizontalAlignment?a.set_x(lt.Controls.PrimitivesHelper.toInt(b.get_width()/2)):2===this._ViewHorizontalAlignment&&a.set_x(lt.Controls.PrimitivesHelper.toInt(b.get_width()/2));1===this._ViewVerticalAlignment?a.set_y(b.get_height()/2):2===this._ViewVerticalAlignment&&a.set_y(b.get_height())}return a},
_isOptimizedZoom:!1,_optimizedZoomItem:null,_internalOptimizedZoom:function(a,b,c){var d=lt.Controls.ImageViewerSyncManager.beginSync(this._syncId);lt.LeadPointD.equals(c,this._optimizedZoomOrigin)||(this._optimizedZoomOrigin=c.clone(),this._optimizedZoomItem=this.findNearestItem(this._optimizedZoomOrigin));this._isOptimizedZoom=!0;this.zoom(a,b,c);if(this._isSyncSource&&null!=d)for(var e=0;e<d.length;e++){var f=d[e];f!==this&&f.get_isSyncTarget()&&f._internalOptimizedZoom(a,b,c)}lt.Controls.ImageViewerSyncManager.endSync(this._syncId)},
_internalEndOptimizedZoom:function(){var a=lt.Controls.ImageViewerSyncManager.beginSync(this._syncId);this._optimizedZoomOrigin=lt.LeadPointD.get_empty();this._optimizedZoomItem=null;if(this._isSyncSource&&null!=a)for(var b=0;b<a.length;b++){var c=a[b];c!==this&&c.get_isSyncTarget()&&c._internalEndOptimizedZoom()}lt.Controls.ImageViewerSyncManager.endSync(this._syncId)},zoom:function(a,b,c){var d=lt.Controls.ImageViewerSyncManager.beginSync(this._syncId);lt.Controls.ControlsHelper.checkIfNull(c,"origin");
if(lt.LeadDoubleTools.isNaN(b)||lt.LeadDoubleTools.isZero(b)||0>b)throw new lt.ArgumentOutOfRangeException("zoomValue",b,"Must be a value greater than 0");var e=Math.max(this.get_minimumScaleFactor(),Math.min(this.get_maximumScaleFactor(),b)),f=!1;this.get_useElements()&&!a&&(f=!0,this.disableTransitions());this.beginRender();try{var g=c.clone(),h;this._isOptimizedZoom?(this._isOptimizedZoom=!1,h=this._optimizedZoomItem):h=this.findNearestItem(g);var i=null!=h?4:1,j=this.convertPoint(h,0,i,lt.Controls.PrimitivesHelper.toLeadPointD(g)),
k=this._sizeMode;if(a)this._setZoomValue(e),this._setSizeMode(a,1!==k),this.set_scrollOffset(lt.LeadPointD.create(0,0));else{if(4===this._sizeMode||1===this._sizeMode||2===this._sizeMode||5===this._sizeMode||3===this._sizeMode||6===this._sizeMode)this._sizeMode=0;this._setZoomValue(e)}var n=this.convertPoint(h,i,0,j),m=lt.LeadPointD.create(n.get_x()-g.get_x(),n.get_y()-g.get_y());this.scrollBy(lt.Controls.PrimitivesHelper.toLeadPoint(m))}finally{this.endRender(),f&&this.enableTransitions()}if(this._isSyncSource&&
null!=d)for(e=0;e<d.length;e++)f=d[e],f!==this&&f.get_isSyncTarget()&&f.zoom(a,b,c);lt.Controls.ImageViewerSyncManager.endSync(this._syncId)},_setSizeMode:function(a,b){this._sizeMode!==a&&(this._sizeMode=a,b&&1===this._sizeMode&&1!==this._zoomValue&&(this._zoomValue=1),this._internalUpdateTransform(!0,!1))},_setZoomValue:function(a){var b=!1;this._zoomValue!==a&&(this._zoomValue=a,b=!0);1===this._zoomValue&&!this._sizeMode?(this._sizeMode=1,b=!0):1!==this._zoomValue&&1===this._sizeMode&&(this._sizeMode=
0,b=!0);b&&this._internalUpdateTransform(!0,!1)},scrollBy:function(a){this._doScrollByRestrict(a,!1)},scrollByRestrict:function(a){this._doScrollByRestrict(a,!0)},_doScrollByRestrict:function(a,b){var c=b,d=lt.Controls.ImageViewerSyncManager.beginSync(this._syncId);lt.Controls.ControlsHelper.checkIfNull(a,"point");this.get_scrollMode()||(b=!0);if(this.get_hasItems()){var e=a.clone();lt.Controls.PrimitivesHelper.isEmptyOrZeroPoint(e)||(e.set_x(parseInt(this._ScrollOffset.get_x()+e.get_x())),e.set_y(parseInt(this._ScrollOffset.get_y()+
e.get_y())),b&&(e=this._forceRestrictScrollOffset(e)),e=this.restrictScrollOffset(e),this.set_scrollOffset(e))}if(this._isSyncSource&&null!=d)for(e=0;e<d.length;e++){var f=d[e];f!==this&&f.get_isSyncTarget()&&f._doScrollByRestrict(a,c)}lt.Controls.ImageViewerSyncManager.endSync(this._syncId)},zoomToRect:function(a){lt.Controls.ControlsHelper.checkIfNull(a,"rect");if(this.get_hasItems()&&!a.get_isEmpty()){var b=1,c=lt.Controls.PrimitivesHelper.toLeadRectD(this._getClientRectangle());this.get__hasGoodScaleFactors()&&
(b=a.get_width()>=a.get_height()?c.get_width()/(a.get_width()/this._xScaleFactor):c.get_height()/(a.get_height()/this._yScaleFactor*this.get_aspectRatioCorrection()));if(!lt.LeadDoubleTools.isZero(b)&&!(0>b||b<this.get_minimumScaleFactor()||b>this.get_maximumScaleFactor())){var d=lt.LeadPointD.create(0,0);d.set_x(a.get_width()/2+a.get_left());d.set_y(a.get_height()/2+a.get_top());var c=lt.Controls.ImageViewerSyncManager.beginSync(this._syncId),e=this.hitTestItem(lt.Controls.PrimitivesHelper.toLeadPoint(d)),
d=null!=e?this.convertPoint(e,0,3,d):this.convertPoint(null,0,1,d);this.beginRender();this.disableTransitions();try{this.beginTransform(),this._setSizeMode(0,!0),this._setZoomValue(b),this.endTransform(),d=null!=e?this.convertPoint(e,3,0,d):this.convertPoint(null,1,0,d),this.centerAtPoint(lt.Controls.PrimitivesHelper.toLeadPoint(d))}finally{this.endRender(),this.enableTransitions()}if(this._isSyncSource&&null!=c)for(b=0;b<c.length;b++)d=c[b],d!==this&&d.get_isSyncTarget()&&d.zoomToRect(a);lt.Controls.ImageViewerSyncManager.endSync(this._syncId)}}},
centerAtPoint:function(a){lt.Controls.ControlsHelper.checkIfNull(a,"point");if(this.get_hasItems()){var a=lt.Controls.PrimitivesHelper.cloneOrZeroPoint(a),b=this._getClientRectangle(),c=lt.Controls.PrimitivesHelper.toInt((b.get_width()-this._scrollbarSize.get_width())/2),b=lt.Controls.PrimitivesHelper.toInt((b.get_height()-this._scrollbarSize.get_height())/2);a.set_x(a.get_x()-c);a.set_y(a.get_y()-b);this.scrollBy(a)}},get_ownerDraw:function(){return this._OwnerDraw},set_ownerDraw:function(a){this._OwnerDraw!==
a&&(this._OwnerDraw=a,this._nativeInvalidate(lt.LeadRectD.get_empty()),this.onPropertyChanged(lt.Controls.ImageViewer._OwnerDraw_Name));return a},get_imageRegionRenderMode:function(){return this._ImageRegionRenderMode},set_imageRegionRenderMode:function(a){this._ImageRegionRenderMode!==a&&(this._ImageRegionRenderMode=a,this._updateRegionRenderer(),this.onPropertyChanged(lt.Controls.ImageViewer._ImageRegionRenderMode_Name),this._nativeInvalidate(lt.LeadRectD.get_empty()));return a},get_floaterRegionRenderMode:function(){return this._FloaterRegionRenderMode},
set_floaterRegionRenderMode:function(a){this._FloaterRegionRenderMode!==a&&(this._FloaterRegionRenderMode=a,this._updateRegionRenderer(),this.onPropertyChanged(lt.Controls.ImageViewer._FloaterRegionRenderMode_Name),this._nativeInvalidate(lt.LeadRectD.get_empty()));return a},get_floaterOpacity:function(){return this._FloaterOpacity},set_floaterOpacity:function(a){if(lt.LeadDoubleTools.lessThan(a,0)||lt.LeadDoubleTools.greaterThan(a,1))throw new lt.ArgumentOutOfRangeException("FloaterOpacity",a,"Must be a value between 0 and 1");
lt.LeadDoubleTools.areClose(this._FloaterOpacity,a)||(this._FloaterOpacity=a);this._setItemsValue(this._FloaterOpacity,a,lt.Controls.ImageViewer._FloaterOpacity_Name,!1);return a},_updateRegionRenderer:function(){2===this.get_imageRegionRenderMode()||2===this.get_floaterRegionRenderMode()?lt.Controls.ControlRegionRenderer.get_instance()._addTarget(this,this._animateRegions_Delegate):lt.Controls.ControlRegionRenderer.get_instance()._removeTarget(this);for(var a=ss.IEnumerator.getEnumerator(this._items);a.moveNext();)this._doUpdateItemRegion(a.current);
this._updateHasAnyRegions();this._updateHasAnyFloaterRegions()},combineFloater:function(a){var b=!1;this.beginTransform();for(var c=ss.IEnumerator.getEnumerator(this._items);c.moveNext();){var d=c.current,e=lt.LeadRectD.get_empty();if(d.get_hasVisibleFloater()){for(var f=this.getItemViewBounds(d,6,!1),g=this.hitTestItems(f),g=ss.IEnumerator.getEnumerator(g);g.moveNext();){var h=g.current;h.get_hasImage()&&(b=d.combineFloater(h,!1)||b)}a&&(e=e.get_isEmpty()?lt.LeadRectD.unionRects(e,f):f,d._internalDeleteFloater(),
d.set_floaterTransform(lt.LeadMatrix.get_identity()))}e.get_isEmpty()||this._nativeInvalidate(e)}this._internalEndTransform(b,!0)},convertTransform:function(a,b,c){var d=lt.LeadRectD.get_empty(),e=lt.LeadRectD.get_empty();null!=b&&(d=this.getItemViewBounds(b,1,!1));null!=c&&(e=this.getItemViewBounds(c,1,!1));d.get_isEmpty()&&(d=lt.LeadRectD.create(0,0,0,0));e.get_isEmpty()&&(e=lt.LeadRectD.create(0,0,0,0));a=a.clone();b=d.get_x()-e.get_x();d=d.get_y()-e.get_y();a.translate(b,d);return a},_renderCounter:0,
beginRender:function(){this._renderCounter++},endRender:function(){this._internalEndUpdate(!0)},_internalEndUpdate:function(a){if(!this._renderCounter)throw new lt.InvalidOperationException("'EndRender' called without a matching 'BeginRender'");this._renderCounter--;if(!this._renderCounter&&a){lt.Controls.PrimitivesHelper.isEmptyOrZeroRect(this._renderInvalidateRect)&&(this._renderInvalidateRect=this._getClientRectangle());if(this._needTransformChanged)this.onTransformChanged(lt.LeadEventArgs.Empty);
this._nativeInvalidate(lt.Controls.PrimitivesHelper.toLeadRectD(this._renderInvalidateRect))}},get_canRender:function(){return!this._renderCounter},_isRenderRedirected:!1,get_isRenderRedirected:function(){return this._isRenderRedirected},_renderRedirectOptions:null,add_redirectRender:function(a){this.__redirectRender=ss.Delegate.combine(this.__redirectRender,a)},remove_redirectRender:function(a){this.__redirectRender=ss.Delegate.remove(this.__redirectRender,a)},__redirectRender_handler_get:function(){null==
this.__redirectRender_handler&&(this.__redirectRender_handler=ss.EventHandler.create(this,this.add_redirectRender,this.remove_redirectRender));return this.__redirectRender_handler},__redirectRender:null,__redirectRender_handler:null,onRedirectRender:function(a){null!=this.__redirectRender&&this.__redirectRender(this,a)},add_renderError:function(a){this.__renderError=ss.Delegate.combine(this.__renderError,a)},remove_renderError:function(a){this.__renderError=ss.Delegate.remove(this.__renderError,a)},
__renderError_handler_get:function(){null==this.__renderError_handler&&(this.__renderError_handler=ss.EventHandler.create(this,this.add_renderError,this.remove_renderError));return this.__renderError_handler},__renderError:null,__renderError_handler:null,onRenderError:function(a){null!=this.__renderError&&this.__renderError(this,a)},add_preRender:function(a){this.__preRender=ss.Delegate.combine(this.__preRender,a)},remove_preRender:function(a){this.__preRender=ss.Delegate.remove(this.__preRender,
a)},__preRender_handler_get:function(){null==this.__preRender_handler&&(this.__preRender_handler=ss.EventHandler.create(this,this.add_preRender,this.remove_preRender));return this.__preRender_handler},__preRender:null,__preRender_handler:null,onPreRender:function(a){null!=this.__preRender&&this.__preRender(this,a)},add_render:function(a){this.__render=ss.Delegate.combine(this.__render,a)},remove_render:function(a){this.__render=ss.Delegate.remove(this.__render,a)},__render_handler_get:function(){null==
this.__render_handler&&(this.__render_handler=ss.EventHandler.create(this,this.add_render,this.remove_render));return this.__render_handler},__render:null,__render_handler:null,onRender:function(a){null!=this.__render&&this.__render(this,a)},add_postRender:function(a){this.__postRender=ss.Delegate.combine(this.__postRender,a)},remove_postRender:function(a){this.__postRender=ss.Delegate.remove(this.__postRender,a)},__postRender_handler_get:function(){null==this.__postRender_handler&&(this.__postRender_handler=
ss.EventHandler.create(this,this.add_postRender,this.remove_postRender));return this.__postRender_handler},__postRender:null,__postRender_handler:null,onPostRender:function(a){null!=this.__postRender&&this.__postRender(this,a);this._renderFloaters(a);this._renderRegions(a)},_animateRegions_Delegate:null,_animateRegions:function(){var a=!1,b=!1;2===this.get_imageRegionRenderMode()&&this._hasAnyRegion&&(a=!0);2===this.get_floaterRegionRenderMode()&&this._hasAnyFloaterRegions&&(b=!0);if(a||b){var c=
lt.Controls.ImageViewerRenderEventArgs.createForControl(this.get_foreCanvas());if(null!=c)try{if(a&&(this._renderRegions(c),this._regionAnimateIndex++,this._regionAnimateIndex>lt.Controls.ControlRegionRenderer.maximumAnimateIndex&&(this._regionAnimateIndex=0)),b)this._renderFloaterRegions(c),this._floaterAnimateIndex++,this._floaterAnimateIndex>lt.Controls.ControlRegionRenderer.maximumAnimateIndex&&(this._floaterAnimateIndex=0)}finally{lt.Controls.ImageViewerRenderEventArgs.destroyForControl(c)}}},
_hasAnyRegion:!1,_regionAnimateIndex:0,_hasAnyFloaterRegions:!1,_floaterAnimateIndex:0,_updateHasAnyRegions:function(){this._hasAnyRegion=!1;var a=this._items.get__props(),b=a.length;if(!(0>b))for(var c=0;c<b;c++)if(null!=a[c].region){this._hasAnyRegion=!0;break}},_updateHasAnyFloaterRegions:function(){this._hasAnyFloaterRegions=!1;for(var a=this._items.get__props(),b=this._items,c=b.get_count(),d=0;d<c&&!this._hasAnyFloaterRegions;d++)null!=a[d].floaterRegion&&Type.safeCast(b.get_item(d),lt.Controls.ImageViewerItem).get_hasVisibleFloater()&&
(this._hasAnyFloaterRegions=!0)},_renderRegions:function(a){if(this._hasAnyRegion&&!this.get_ownerDraw()&&!this._isRenderRedirected&&this.get_imageRegionRenderMode())for(var b=this._items,c=b.get_count(),d=b.get__props(),e=0;e<c;e++)if(null!=d[e].region){var f=Type.safeCast(b.get_item(e),lt.Controls.ImageViewerItem);a._setFor(f,1);this.onRenderItemRegion(a)}},_renderFloaterRegions:function(a){if(this._hasAnyFloaterRegions&&!this.get_ownerDraw()&&!this._isRenderRedirected&&this.get_floaterRegionRenderMode())for(var b=
this._items,c=b.get_count(),b=b.get__props(),d=0;d<c;d++){var e=Type.safeCast(this._items.get_item(d),lt.Controls.ImageViewerItem);null!=b[d].floaterRegion&&e.get_hasVisibleFloater()&&(a._setFor(e,1),this.onRenderItemFloaterRegion(a))}},_renderFloaters:function(a){if(!this.get_ownerDraw()&&!this._isRenderRedirected)for(var b=this._items,c=b.get_count(),d=0;d<c;d++){var e=Type.safeCast(b.get_item(d),lt.Controls.ImageViewerItem);e.get_hasVisibleFloater()&&(a._setFor(e,6),this.onRenderItemFloater(a))}},
add_preRenderItem:function(a){this.__preRenderItem=ss.Delegate.combine(this.__preRenderItem,a)},remove_preRenderItem:function(a){this.__preRenderItem=ss.Delegate.remove(this.__preRenderItem,a)},__preRenderItem_handler_get:function(){null==this.__preRenderItem_handler&&(this.__preRenderItem_handler=ss.EventHandler.create(this,this.add_preRenderItem,this.remove_preRenderItem));return this.__preRenderItem_handler},__preRenderItem:null,__preRenderItem_handler:null,onPreRenderItem:function(a){null!=this.__preRenderItem&&
this.__preRenderItem(this,a)},add_renderItem:function(a){this.__renderItem=ss.Delegate.combine(this.__renderItem,a)},remove_renderItem:function(a){this.__renderItem=ss.Delegate.remove(this.__renderItem,a)},__renderItem_handler_get:function(){null==this.__renderItem_handler&&(this.__renderItem_handler=ss.EventHandler.create(this,this.add_renderItem,this.remove_renderItem));return this.__renderItem_handler},__renderItem:null,__renderItem_handler:null,onRenderItem:function(a){null!=this.__renderItem&&
this.__renderItem(this,a)},add_postRenderItem:function(a){this.__postRenderItem=ss.Delegate.combine(this.__postRenderItem,a)},remove_postRenderItem:function(a){this.__postRenderItem=ss.Delegate.remove(this.__postRenderItem,a)},__postRenderItem_handler_get:function(){null==this.__postRenderItem_handler&&(this.__postRenderItem_handler=ss.EventHandler.create(this,this.add_postRenderItem,this.remove_postRenderItem));return this.__postRenderItem_handler},__postRenderItem:null,__postRenderItem_handler:null,
onPostRenderItem:function(a){null!=this.__postRenderItem&&this.__postRenderItem(this,a)},add_renderItemRegion:function(a){this.__renderItemRegion=ss.Delegate.combine(this.__renderItemRegion,a)},remove_renderItemRegion:function(a){this.__renderItemRegion=ss.Delegate.remove(this.__renderItemRegion,a)},__renderItemRegion_handler_get:function(){null==this.__renderItemRegion_handler&&(this.__renderItemRegion_handler=ss.EventHandler.create(this,this.add_renderItemRegion,this.remove_renderItemRegion));return this.__renderItemRegion_handler},
__renderItemRegion:null,__renderItemRegion_handler:null,onRenderItemRegion:function(a){null!=this.__renderItemRegion&&this.__renderItemRegion(this,a);if(this.get_imageRegionRenderMode()){var b=a.get_item();if(null!=b){var c=this.getItemViewBounds(b,2,!0);if(!c.get_isEmpty()){var d=this._items.indexOf(b),d=this._items.get__props()[d];if(null!=d.region){var e=null,f=lt.Controls.GraphicsHelper.getNativeContext(a);try{b.get_clipImageToContent()&&!this._isRenderRedirected&&(e=lt.Controls.GraphicsHelper.saveContext(f),
lt.Controls.GraphicsHelper.intersectClip(f,c));var g=this.getItemImageTransform(b);lt.Controls.ControlRegionRenderer.get_instance()._render(this,a,g,d.region,1,this._regionAnimateIndex)}finally{null!=e&&lt.Controls.GraphicsHelper.restoreContext(f,e)}}}}}},add_renderItemFloaterRegion:function(a){this.__renderItemFloaterRegion=ss.Delegate.combine(this.__renderItemFloaterRegion,a)},remove_renderItemFloaterRegion:function(a){this.__renderItemFloaterRegion=ss.Delegate.remove(this.__renderItemFloaterRegion,
a)},__renderItemFloaterRegion_handler_get:function(){null==this.__renderItemFloaterRegion_handler&&(this.__renderItemFloaterRegion_handler=ss.EventHandler.create(this,this.add_renderItemFloaterRegion,this.remove_renderItemFloaterRegion));return this.__renderItemFloaterRegion_handler},__renderItemFloaterRegion:null,__renderItemFloaterRegion_handler:null,onRenderItemFloaterRegion:function(a){null!=this.__renderItemFloaterRegion&&this.__renderItemFloaterRegion(this,a);if(this.get_floaterRegionRenderMode()){var b=
a.get_item();if(null!=b){var c=this._items.indexOf(b),c=this._items.get__props()[c];null!=c.floaterRegion&&b.get_hasVisibleFloater()&&(b=this.getItemFloaterTransform(b),lt.Controls.ControlRegionRenderer.get_instance()._render(this,a,b,c.floaterRegion,1,this._floaterAnimateIndex))}}},add_renderItemFloater:function(a){this.__renderItemFloater=ss.Delegate.combine(this.__renderItemFloater,a)},remove_renderItemFloater:function(a){this.__renderItemFloater=ss.Delegate.remove(this.__renderItemFloater,a)},
__renderItemFloater_handler_get:function(){null==this.__renderItemFloater_handler&&(this.__renderItemFloater_handler=ss.EventHandler.create(this,this.add_renderItemFloater,this.remove_renderItemFloater));return this.__renderItemFloater_handler},__renderItemFloater:null,__renderItemFloater_handler:null,onRenderItemFloater:function(a){null!=this.__renderItemFloater&&this.__renderItemFloater(this,a);var b=a.get_item();null!=b&&b.get_hasVisibleFloater()&&(this._nativeRenderFloater(a,b),this.onRenderItemFloaterRegion(a))},
add_renderShadow:function(a){this.__renderShadow=ss.Delegate.combine(this.__renderShadow,a)},remove_renderShadow:function(a){this.__renderShadow=ss.Delegate.remove(this.__renderShadow,a)},__renderShadow_handler_get:function(){null==this.__renderShadow_handler&&(this.__renderShadow_handler=ss.EventHandler.create(this,this.add_renderShadow,this.remove_renderShadow));return this.__renderShadow_handler},__renderShadow:null,__renderShadow_handler:null,onRenderShadow:function(a){null!=this.__renderShadow&&
this.__renderShadow(this,a);if(!(this.get_ownerDraw()||this.get_useElements()&&!this._isRenderRedirected||this._isRenderRedirected&&null!=this._renderRedirectOptions&&!this._renderRedirectOptions.get_renderShadows())){var b=lt.Controls.GraphicsHelper.getNativeContext(a),c=a.get_item(),d;this._isRenderRedirected?(d=this._renderRedirectOptions.get_backgroundColor(),lt.Controls.GraphicsHelper.isTransparentColor(d)&&(d=this.get__nativeBackColor())):d=this.get__nativeBackColor();var e=1;this._isRenderRedirected&&
(e=lt.Controls.GraphicsHelper.getScaleFactor(b),e=Math.max(e.get_width(),e.get_height()));if(null==c&&!a.get_part())c=lt.LeadRectD.create(0,0,this._totalViewSize.get_width(),this._totalViewSize.get_height()),lt.Controls.GraphicsHelper.renderShadow(b,e,this.get_viewDropShadow(),c,this.get_viewPadding(),this._totalViewTransform,d);else if(null!=c&&3===a.get_part()){var a=this.getItemImageTransform(c),f=this.getItemImageSize(c,!1);lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(f)||(f=lt.LeadRectD.create(0,
0,f.get_width(),f.get_height()),c=this._getItemBackgroundColors(c)[0],lt.Controls.GraphicsHelper.isTransparentColor(c)&&(c=d),lt.Controls.GraphicsHelper.renderShadow(b,e,this.get_imageDropShadow(),f,lt.Controls.ControlPadding.get_empty(),a,c))}}},add_renderBorder:function(a){this.__renderBorder=ss.Delegate.combine(this.__renderBorder,a)},remove_renderBorder:function(a){this.__renderBorder=ss.Delegate.remove(this.__renderBorder,a)},__renderBorder_handler_get:function(){null==this.__renderBorder_handler&&
(this.__renderBorder_handler=ss.EventHandler.create(this,this.add_renderBorder,this.remove_renderBorder));return this.__renderBorder_handler},__renderBorder:null,__renderBorder_handler:null,onRenderBorder:function(a){null!=this.__renderBorder&&this.__renderBorder(this,a);if(!(this.get_ownerDraw()||this.get_useElements()&&!this._isRenderRedirected||this._isRenderRedirected&&null!=this._renderRedirectOptions&&!this._renderRedirectOptions.get_renderBorders())){var b=lt.Controls.GraphicsHelper.getNativeContext(a),
c=a.get_item(),d=1;this._isRenderRedirected&&(d=lt.Controls.GraphicsHelper.getScaleFactor(b),d=Math.max(d.get_width(),d.get_height()));if(null==c&&!a.get_part())c=lt.LeadRectD.create(0,0,this._totalViewSize.get_width(),this._totalViewSize.get_height()),lt.Controls.GraphicsHelper.renderBorder(b,d,this.get_viewBorderThickness(),this.get_viewBorderColor(),c,this.get_viewPadding(),this._totalViewTransform,!1);else if(null!=c&&2===a.get_part())for(var a=this.getItemBounds(c,2),c=this._getItemBorderColors(c),
e=0;e<c.length;e++)lt.Controls.GraphicsHelper.renderBorder(b,d,this.get_itemBorderThickness(),c[e],a,this.get_itemPadding(),this._totalViewTransform,!1);else null!=c&&3===a.get_part()&&(e=this.getItemImageSize(c,!1),a=this.getItemBounds(c,2),!a.get_isEmpty()&&!lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(e)&&(a=lt.LeadRectD.create(0,0,e.get_width(),e.get_height()),c=this.getItemImageTransform(c),lt.Controls.GraphicsHelper.renderBorder(b,d,this.get_imageBorderThickness(),this.get_imageBorderColor(),
a,lt.Controls.ControlPadding.get_empty(),c,!0)))}},add_renderBackground:function(a){this.__renderBackground=ss.Delegate.combine(this.__renderBackground,a)},remove_renderBackground:function(a){this.__renderBackground=ss.Delegate.remove(this.__renderBackground,a)},__renderBackground_handler_get:function(){null==this.__renderBackground_handler&&(this.__renderBackground_handler=ss.EventHandler.create(this,this.add_renderBackground,this.remove_renderBackground));return this.__renderBackground_handler},
__renderBackground:null,__renderBackground_handler:null,onRenderBackground:function(a){null!=this.__renderBackground&&this.__renderBackground(this,a);if(!(this.get_ownerDraw()||this.get_useElements()&&!this._isRenderRedirected||this._isRenderRedirected&&null!=this._renderRedirectOptions&&!this._renderRedirectOptions.get_renderBackgrounds())){var b=lt.Controls.GraphicsHelper.getNativeContext(a),c=a.get_item();if(null!=c&&1===a.get_part()&&(a=this.getItemBounds(c,2),!a.get_isEmpty()))for(var a=lt.LeadRectD.fromLTRB(a.get_left()-
this.get_itemPadding().get_left(),a.get_top()-this.get_itemPadding().get_top(),a.get_right()+this.get_itemPadding().get_right(),a.get_bottom()+this.get_itemPadding().get_bottom()),c=this._getItemBackgroundColors(c),d=0;d<c.length;d++)lt.Controls.GraphicsHelper.fillBackground(b,c[d],a,this._totalViewTransform)}},_getItemBorderColors:function(a){if(!this._isRenderRedirected||null!=this._renderRedirectOptions&&this._renderRedirectOptions.get_renderItemStates()){var b,c;a.get_isHovered()?(b=this.get_hoveredItemBorderColor(),
lt.Controls.GraphicsHelper.isTransparentColor(b)?c=Array(1):(c=Array(2),c[1]=b)):c=Array(1);b=null;a.get_isSelected()?b=this.get_selectedItemBorderColor():a===this.get_activeItem()&&(b=this.get_activeItemBorderColor());lt.Controls.GraphicsHelper.isTransparentColor(b)&&(b=this.get_itemBorderColor());c[0]=b;return c}return[this.get_itemBorderColor()]},_getItemBackgroundColors:function(a){if(!this._isRenderRedirected||null!=this._renderRedirectOptions&&this._renderRedirectOptions.get_renderItemStates()){var b,
c;a.get_isHovered()?(b=this.get_hoveredItemBackgroundColor(),lt.Controls.GraphicsHelper.isTransparentColor(b)?c=Array(1):(c=Array(2),c[1]=b)):c=Array(1);b=null;a.get_isSelected()?b=this.get_selectedItemBackgroundColor():a===this.get_activeItem()&&(b=this.get_activeItemBackgroundColor());lt.Controls.GraphicsHelper.isTransparentColor(b)&&(b=this.get_itemBackgroundColor());c[0]=b;return c}return[this.get_itemBackgroundColor()]},add_renderImage:function(a){this.__renderImage=ss.Delegate.combine(this.__renderImage,
a)},remove_renderImage:function(a){this.__renderImage=ss.Delegate.remove(this.__renderImage,a)},__renderImage_handler_get:function(){null==this.__renderImage_handler&&(this.__renderImage_handler=ss.EventHandler.create(this,this.add_renderImage,this.remove_renderImage));return this.__renderImage_handler},__renderImage:null,__renderImage_handler:null,onRenderImage:function(a){null!=this.__renderImage&&this.__renderImage(this,a)},_doRenderImage:function(a,b,c){this.onRenderImage(a);if(!(this.get_ownerDraw()||
this.get_useElements()&&!this._isRenderRedirected)&&null!=b&&b.get_hasImage()){var d=lt.LeadRectD.get_empty();if(!this._isRenderRedirected&&(d=this.getItemViewBounds(b,2,!0),d.get_isEmpty()))return;var e=null,f=lt.Controls.GraphicsHelper.getNativeContext(a);try{b.get_clipImageToContent()&&!this._isRenderRedirected&&(e=lt.Controls.GraphicsHelper.saveContext(f),lt.Controls.GraphicsHelper.intersectClip(f,d)),a._setFor(b,3),this._nativeRenderImage(a,b,c)}finally{null!=e&&lt.Controls.GraphicsHelper.restoreContext(f,
e)}}},_doRenderImageBorder:function(a,b){if(!(this.get_useElements()&&!this._isRenderRedirected||this._isRenderRedirected&&null!=this._renderRedirectOptions&&!this._renderRedirectOptions.get_renderBorders())){var c=null,d=lt.Controls.GraphicsHelper.getNativeContext(a);try{if(!this._isRenderRedirected){var c=lt.Controls.GraphicsHelper.saveContext(d),e=this.getItemViewBounds(b,2,!0);if(!e.get_isEmpty()){var f=this.get_imageBorderThickness();e.inflate(f,f);e=lt.Controls.PaddingHelper.addToRectD(e,this.get_itemPadding());
lt.Controls.GraphicsHelper.intersectClip(d,lt.Controls.PrimitivesHelper.toLeadRectD(lt.Controls.PrimitivesHelper.toLeadRect(e)));a._setFor(b,3);this.onRenderBorder(a)}}}finally{null!=c&&lt.Controls.GraphicsHelper.restoreContext(d,c)}}},_doRenderImageShadow:function(a,b){if(!(this.get_useElements()&&!this._isRenderRedirected||this._isRenderRedirected&&null!=this._renderRedirectOptions&&!this._renderRedirectOptions.get_renderText())){var c=null,d=lt.Controls.GraphicsHelper.getNativeContext(a);try{if(!this._isRenderRedirected){var c=
lt.Controls.GraphicsHelper.saveContext(d),e=this.getItemViewBounds(b,2,!0);if(!e.get_isEmpty()){var f=this.get_imageBorderThickness();e.inflate(f,f);e=lt.Controls.PaddingHelper.addToRectD(e,this.get_itemPadding());lt.Controls.GraphicsHelper.intersectClip(d,lt.Controls.PrimitivesHelper.toLeadRectD(lt.Controls.PrimitivesHelper.toLeadRect(e)));a._setFor(b,3);this.onRenderShadow(a)}}}finally{null!=c&&lt.Controls.GraphicsHelper.restoreContext(d,c)}}},add_renderText:function(a){this.__renderText=ss.Delegate.combine(this.__renderText,
a)},remove_renderText:function(a){this.__renderText=ss.Delegate.remove(this.__renderText,a)},__renderText_handler_get:function(){null==this.__renderText_handler&&(this.__renderText_handler=ss.EventHandler.create(this,this.add_renderText,this.remove_renderText));return this.__renderText_handler},__renderText:null,__renderText_handler:null,onRenderText:function(a){null!=this.__renderText&&this.__renderText(this,a);if(!(this.get_ownerDraw()||this.get_useElements()&&!this._isRenderRedirected||this._isRenderRedirected&&
null!=this._renderRedirectOptions&&!this._renderRedirectOptions.get_renderText())){var b=lt.Controls.GraphicsHelper.getNativeContext(a),c=a.get_item(),d=this.get_itemTextFont(),e=c.get_text();if(null!=c&&5===a.get_part()&&null!=e&&null!=d){var a=this.getItemBounds(c,5),f=this.getItemViewBounds(c,4,!0);!a.get_isEmpty()&&!f.get_isEmpty()&&lt.Controls.GraphicsHelper.renderText(b,e,d,c.get_isSelected()?this.get_selectedItemTextColor():this.get_itemTextColor(),this.get_itemTextWrap(),this.get_itemTextTrimming(),
a,f,this._totalViewTransform)}}},_doRenderView:function(a,b){a._setFor(null,0);this.onPreRender(a);a._setFor(null,0);this.onRender(a);a._setFor(null,0);this.onRenderShadow(a);a._setFor(null,0);this.onRenderBorder(a);a._setFor(null,0);this._updateViewElement(a);for(var c=b.get_isEmpty(),d=this._items,e=d.get_count(),f=d.get__props(),g=[],h=0;h<e;h++){var i=f[h],j=i.viewContentBounds.clone(),k=Type.safeCast(d.get_item(h),lt.Controls.ImageViewerItem),n=c||j.intersectsWith(b),m=this._getClientRectangle(),
m=lt.LeadRectD.fromLTRB(m.get_left(),m.get_top(),m.get_right(),m.get_bottom()),m=j.intersectsWith(m);if(j.get_isEmpty()){if(!this.get_useElements())continue}else j.inflate(-1,-1);if(n||m)try{a._setFor(k,1),this.onPreRenderItem(a),a._setFor(k,1),this.onRenderItem(a),this._doRenderContentBorders(a,k),this._doRenderImageShadow(a,k),this._doRenderImage(a,k,i),this._doRenderImageBorder(a,k),this._doRenderText(a,k),a._setFor(k,1),this._updateItemElement(a,k,i,n,m,g),a._setFor(k,1),this.onPostRenderItem(a)}catch(s){a._setError(s),
this.onRenderError(a),a._setError(null)}else a._setFor(k,1),this._updateItemElement(a,k,i,n,m,g)}this._updatedAllItemElements(a,g);a._setFor(null,0);this.onPostRender(a)},_doRenderContentBorders:function(a,b){a._setFor(b,1);this.onRenderBackground(a);a._setFor(b,2);this.onRenderBorder(a)},_doRenderText:function(a,b){a._setFor(b,5);this.onRenderText(a)},_checkAllCanRender:function(a){return!this.get__isRenderEnabled()||!this.get_canRender()||!this.get_canTransform()?(a=lt.Controls.PrimitivesHelper.toLeadRect(a),
this._renderInvalidateRect=lt.Controls.PrimitivesHelper.isEmptyOrZeroRect(this._renderInvalidateRect)?a:lt.Controls.PrimitivesHelper.unionRects(this._renderInvalidateRect,a),!1):!0},_doRender:function(a,b,c){if(this._checkAllCanRender(lt.Controls.PrimitivesHelper.toLeadRectD(a.get_clipRectangle()))){this._renderInvalidateRect=lt.LeadRectD.get_empty();this._isRenderRedirected=c;this._renderRedirectOptions=b;var b=null,d=lt.Controls.GraphicsHelper.getNativeContext(a);try{null!=this._renderRedirectOptions&&
!this._renderRedirectOptions.get_transform().get_isIdentity()&&(b=lt.Controls.GraphicsHelper.saveContext(d),lt.Controls.GraphicsHelper.multiplyTransform(d,this._renderRedirectOptions.get_transform()));this._resizeForeCanvas();var e=lt.Controls.PrimitivesHelper.toLeadRectD(a.get_clipRectangle()),f=lt.Controls.PrimitivesHelper.isEmptyOrZeroRect(e);if(f&&!c)var g=this._getClientRectangle(),e=lt.LeadRectD.fromLTRB(g.get_left(),g.get_top(),g.get_right(),g.get_bottom()),f=lt.Controls.PrimitivesHelper.isEmptyOrZeroRect(e);
!f&&!a.get__autoClip()&&(null==b&&(b=lt.Controls.GraphicsHelper.saveContext(d)),lt.Controls.GraphicsHelper.intersectClip(d,e));this.onEraseBackground(a);this.get_hasItems()&&this._doRenderView(a,e);if(!c)this.onRedirectRender(a)}catch(h){a._setError(h),this.onRenderError(a)}finally{null!=b&&lt.Controls.GraphicsHelper.restoreContext(d,b),this._isRenderRedirected=!1,this._renderRedirectOptions=null}}},_interactiveService:null,get_interactiveService:function(){return this._interactiveService},set_interactiveService:function(a){this._interactiveService!==
a&&(this._doInteractiveServiceChanged(!1),this._interactiveService=a,this._doInteractiveServiceChanged(!0),this.onPropertyChanged(lt.Controls.ImageViewer._InteractiveService_Name));return a},_interactiveModes:null,get_interactiveModes:function(){return this._interactiveModes},_workingInteractiveMode:null,get_workingInteractiveMode:function(){return this._workingInteractiveMode},_setWorkingInteractiveMode:function(a){this._workingInteractiveMode!==a&&(this._workingInteractiveMode=a,this.onPropertyChanged(lt.Controls.ImageViewer._WorkingInteractiveMode_Name))},
_idleInteractiveMode:null,get_idleInteractiveMode:function(){return this._idleInteractiveMode},_setIdleInteractiveMode:function(a){this._idleInteractiveMode!==a&&(this._idleInteractiveMode=a,this.onPropertyChanged(lt.Controls.ImageViewer._IdleInteractiveMode_Name))},_hitTestStateInteractiveMode:null,get_hitTestStateInteractiveMode:function(){return this._hitTestStateInteractiveMode},_setHitTestStateInteractiveMode:function(a){this._hitTestStateInteractiveMode!==a&&(this._hitTestStateInteractiveMode=
a,this.onPropertyChanged(lt.Controls.ImageViewer._HitTestStateInteractiveMode_Name))},_initializeInteractiveModes:function(){this._interactiveModes=new lt.Controls.ImageViewerInteractiveModes(this)},_deInitializeInteractiveModes:function(){},get_defaultInteractiveMode:function(){for(var a=ss.IEnumerator.getEnumerator(this._interactiveModes);a.moveNext();){var b=a.current;if(b.get_isEnabled()&&b._hasMouseButton(1))return b}return null},set_defaultInteractiveMode:function(a){var b;b=null==a?1:a.get_mouseButtons();
for(var c=-1,d=this._interactiveModes.get_count(),e=0;e<d&&-1===c;e++){var f=this._interactiveModes.get_item(e);f.get_isEnabled()&&f._hasMouseButton(b)&&(c=e)}-1!==c?(this._interactiveModes.beginUpdate(),this._interactiveModes.removeAt(c),null!=a&&this._interactiveModes.insert(c,a),this._interactiveModes.endUpdate()):null!=a&&(this._interactiveModes.beginUpdate(),this._interactiveModes.insert(0,a),this._interactiveModes.endUpdate());return a},get_dropCopyKeyState:function(){return this._DropCopyKeyState},
set_dropCopyKeyState:function(a){a!==this._DropCopyKeyState&&(this._DropCopyKeyState=a,this.onPropertyChanged(lt.Controls.ImageViewer._DropCopyKeyState_Name));return a},get_dropMoveKeyState:function(){return this._DropMoveKeyState},set_dropMoveKeyState:function(a){a!==this._DropMoveKeyState&&(this._DropMoveKeyState=a,this.onPropertyChanged(lt.Controls.ImageViewer._DropMoveKeyState_Name));return a},get_dropLinkKeyState:function(){return this._DropLinkKeyState},set_dropLinkKeyState:function(a){a!==
this._DropLinkKeyState&&(this._DropLinkKeyState=a,this.onPropertyChanged(lt.Controls.ImageViewer._DropLinkKeyState_Name));return a},add_itemDragDrop:function(a){this.__itemDragDrop=ss.Delegate.combine(this.__itemDragDrop,a)},remove_itemDragDrop:function(a){this.__itemDragDrop=ss.Delegate.remove(this.__itemDragDrop,a)},__itemDragDrop_handler_get:function(){null==this.__itemDragDrop_handler&&(this.__itemDragDrop_handler=ss.EventHandler.create(this,this.add_itemDragDrop,this.remove_itemDragDrop));return this.__itemDragDrop_handler},
__itemDragDrop:null,__itemDragDrop_handler:null,onItemDragDrop:function(a){null!=this.__itemDragDrop&&this.__itemDragDrop(this,a)},_dragEnterData:null,_doDragEnter:function(a){this._dragEnterData=lt.Controls._dragDropHelper.getDragData(this,a.get_nativeEvent());var b=this._getDefaultDragItem(a);a._setValues(lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceViewer,this,lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceItem,b,0,this._dragEnterData.format);a.set_effect(this._dragEnterData.effect);
null!=a.get_sourceItem()&&a.get_sourceItem()===a.get_targetItem()||a.get_sourceImageViewer()!==this&&1===lt.Controls.ImageViewerDragInteractiveMode._globalTargetImageViewerMode?a.set_effect("none"):a.set_effect(this._dragEnterData.effect);this.onItemDragDrop(a)},_doDragOver:function(a){null==this._dragEnterData&&(this._dragEnterData=lt.Controls._dragDropHelper.getDragData(this,a.get_nativeEvent()));var b=this._getDefaultDragItem(a);a._setValues(lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceViewer,
this,lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceItem,b,1,this._dragEnterData.format);null!=a.get_sourceItem()&&a.get_sourceItem()===a.get_targetItem()||a.get_sourceImageViewer()!==this&&1===lt.Controls.ImageViewerDragInteractiveMode._globalTargetImageViewerMode?a.set_effect("none"):a.set_effect(this._dragEnterData.effect);this.onItemDragDrop(a)},_doDragLeave:function(a){a._setValues(lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceViewer,this,lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceItem,
a.get_targetItem(),2,null!=this._dragEnterData?this._dragEnterData.format:null);this.onItemDragDrop(a);this._dragEnterData=null},_doDrop:function(a){var b=this._getDefaultDragItem(a);a._setValues(lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceViewer,this,lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceItem,b,3,this._dragEnterData.format);this.onItemDragDrop(a);this._dragEnterData=null},get_imageResolution:function(){var a=this.get_activeItem();return null!=a?a.get_resolution():
lt.LeadSizeD.create(0,0)},set_imageResolution:function(a){lt.Controls.ControlsHelper.checkResolution(a,"ImageResolution");var b=this.get_activeItem();null!=b&&(b.set_resolution(a),this.onPropertyChanged(lt.Controls.ImageViewer._ImageResolution_Name));return a},get_imageSize:function(){var a=this.get_activeItem();return null!=a?a.get_imageSize():lt.LeadSizeD.create(0,0)},set_imageSize:function(a){var b=this.get_activeItem();null!=b&&(b.set_imageSize(a),this.onPropertyChanged(lt.Controls.ImageViewer._ImageSize_Name));
return a},get_imageScale:function(){var a=this.get_activeItem();return null!=a?a.get_imageScale():1},set_imageScale:function(a){var b=this.get_activeItem();null!=b&&(b.set_imageScale(a),this.onPropertyChanged(lt.Controls.ImageViewer._ImageScale_Name));return a},get_hasImage:function(){var a=this.get_activeItem();return null!=a?a.get_hasImage():!1},get_imageTransform:function(){var a=this.get_activeItem();return null!=a?this.getItemImageTransform(a):lt.LeadMatrix.get_identity()},getImageTransformWithDpi:function(a){var b=
this.get_activeItem();return null!=b?this.getItemImageTransformWithDpi(b,a):lt.LeadMatrix.get_identity()},get_floaterTransform:function(){var a=this.get_activeItem();return null!=a?a.get_floaterTransform():lt.LeadMatrix.get_identity()},set_floaterTransform:function(a){var b=this.get_activeItem();null!=b&&(b.set_floaterTransform(a),this.onPropertyChanged(lt.Controls.ImageViewer._FloaterTransform_Name));return a},get_autoResetOptions:function(){return this._AutoResetOptions},set_autoResetOptions:function(a){a!==
this._AutoResetOptions&&(this._AutoResetOptions=a,this.onPropertyChanged(lt.Controls.ImageViewer._AutoResetOptions_Name));return a},reset:function(){this._updateForResetOptions()},_updateForResetOptions:function(){var a=this.get_autoResetOptions();if(a){if(4===(a&4)){this.get_flip()&&this.set_flip(!1);this.get_reverse()&&this.set_reverse(!1);lt.LeadDoubleTools.areClose(this.get_rotateAngle(),0)||this.set_rotateAngle(0);var b=this.get_activeItem();null!=b&&(b.set_transform(lt.LeadMatrix.get_identity()),
b.set_floaterTransform(lt.LeadMatrix.get_identity()))}8===(a&8)&&this.get_invert()&&this.set_invert(!1);1===(a&1)&&this.set_scrollOffset(lt.LeadPointD.create(0,0));2===(a&2)&&(lt.LeadDoubleTools.areClose(this._zoomValue,1)||this.zoom(this.get_sizeMode(),1,this.get_defaultZoomOrigin()))}},get_imageBounds:function(){var a=this.get_activeItem();if(null!=a){var b=this.getItemViewBounds(a,0,!1),b=lt.LeadRectD.intersectRects(b,lt.Controls.PrimitivesHelper.toLeadRectD(this._getClientRectangle())),b=this.convertRect(a,
0,4,b);return lt.Controls.PrimitivesHelper.toLeadRect(b)}return lt.LeadRectD.get_empty()},get_viewBounds:function(){var a=this.get_activeItem();return null!=a?lt.Controls.PrimitivesHelper.toLeadRect(this.getItemViewBounds(a,0,!1)):lt.LeadRectD.get_empty()},_stopVirtulizer:function(){},get__globalId:function(){return this._globalId},_jsBindDelegates:function(){this._mainDiv_Scroll_Delegate=ss.Delegate.create(this,this._mainDiv_Scroll);this._element_DragEnter_Delegate=ss.Delegate.create(this,this._element_DragEnter);
this._element_DragOver_Delegate=ss.Delegate.create(this,this._element_DragOver);this._element_DragLeave_Delegate=ss.Delegate.create(this,this._element_DragLeave);this._element_Drop_Delegate=ss.Delegate.create(this,this._element_Drop);this._animationRender_Delegate=ss.Delegate.create(this,this._animationRender);this._animationRenderDisableTransitions_Delegate=ss.Delegate.create(this,this._animationRenderDisableTransitions)},_useElements:!1,get_useElements:function(){return this._useElements},_checkCanSet:function(a){if(this._useElements)throw new lt.ArgumentException("Cannot change this property when UseElements mode is on",
a);},_options:null,_useElementsOptions:null,_styleNamespaceTagId:"",_styleElementsPrefixTagId:"",_tag:null,get_tag:function(){return this._tag},set_tag:function(a){return this._tag=a},_setItemsValue:function(a,b,c,d){var e=!1;d?this.beginTransform():this.beginRender();for(var f=ss.IEnumerator.getEnumerator(this._items);f.moveNext();){var g=f.current;b!==g[c]&&(g[c]=b,g.get__useElements()&&(g._itemChanged=!0),e=!0)}d?this._internalEndTransform(e,!0):this._internalEndUpdate(e);if(b!==a)this.onPropertyChanged(c)},
dispose:function(){lt.Controls._imageViewerGroup.removeViewer(this);this._cleanUp(!0);null!=this._parentDiv&&(lt.LTHelper.removeClass(this._parentDiv,"lt_no_overflow"),lt.LTHelper.removeClass(this._parentDiv,"lt_no_display"),lt.LTHelper.removeClass(this._parentDiv,"lt_pointer_events"),lt.LTHelper.removeClass(this._parentDiv,this._options.get_parentDivClass()));-1!==this._mainDivPrecisionScrollDelegateTimeout&&(clearTimeout(this._mainDivPrecisionScrollDelegateTimeout),this._mainDivPrecisionScrollDelegateTimeout=
-1);null!=this._mainDiv&&(lt.Controls._eventHelper.removeEventListener(this._mainDiv,"scroll",this._mainDiv_Scroll_Delegate),null!=this._mainDiv.parentNode&&this._mainDiv.parentNode.removeChild(this._mainDiv),this._mainDiv=null);null!=this._imagesDiv&&(null!=this._imagesDiv.parentNode&&this._imagesDiv.parentNode.removeChild(this._imagesDiv),this._imagesDiv=null);null!=this._viewDiv&&(null!=this._viewDiv.parentNode&&this._viewDiv.parentNode.removeChild(this._viewDiv),this._viewDiv=null);null!=this._viewDivHolder&&
(null!=this._viewDivHolder.parentNode&&this._viewDivHolder.parentNode.removeChild(this._viewDivHolder),this._viewDivHolder=null);null!=this._eventCanvas&&(null!=this._eventCanvas.parentNode&&this._eventCanvas.parentNode.removeChild(this._eventCanvas),this._eventCanvas=null);null!=this._passthroughDiv&&(null!=this._passthroughDiv.parentNode&&this._passthroughDiv.parentNode.removeChild(this._passthroughDiv),this._passthroughDiv=null);null!=this._foreCanvas&&(null!=this._foreCanvas.parentNode&&this._foreCanvas.parentNode.removeChild(this._foreCanvas),
this._foreCanvas=null);if(1>lt.Controls._imageViewerGroup.get_count())try{var a=document.getElementById("_ltiv-styles");null!=a&&null!=a.parentNode&&a.parentNode.removeChild(a)}catch(b){}if(null!=this._options&&1>lt.Controls._imageViewerGroup.namespaceCount(this._options.get_parentDivClass()))try{var c=document.getElementById(this._styleNamespaceTagId);null!=c&&null!=c.parentNode&&c.parentNode.removeChild(c)}catch(d){}if(this.get_useElements()){if(1>lt.Controls._imageViewerGroup.get_elementsModeCount())try{var e=
document.getElementById(lt.Controls.ImageViewer._StyleElementsTagIdBase);null!=e&&null!=e.parentNode&&e.parentNode.removeChild(e)}catch(f){}if(null!=this._useElementsOptions&&1>lt.Controls._imageViewerGroup.prefixCount(this._useElementsOptions.get_classPrefix()))try{var g=document.getElementById(this._styleElementsPrefixTagId);null!=g&&null!=g.parentNode&&g.parentNode.removeChild(g)}catch(h){}}lt.Controls._windowViewerHelper.remove(this);this._animationRenderDisableTransitions_Delegate=this._animationRender_Delegate=
this._element_Drop_Delegate=this._element_DragLeave_Delegate=this._element_DragOver_Delegate=this._element_DragEnter_Delegate=this._mainDiv_Scroll_Delegate=this._useElementsOptions=this._options=null},_findScreenDpi:function(){(this._ScreenDpi.get_isEmpty()||!this._ScreenDpi.get_width())&&this._ScreenDpi.set_width(this._defaultDpi.get_width());(this._ScreenDpi.get_isEmpty()||!this._ScreenDpi.get_height())&&this._ScreenDpi.set_height(this._defaultDpi.get_height())},_parentDiv:null,_imagesDiv:null,
get_imagesDiv:function(){return this._imagesDiv},_mainDiv:null,get_mainDiv:function(){return this._mainDiv},_isScrollCausedProgrammatically:!1,_mainDivStyleOverflowX:null,_mainDivStyleOverflowY:null,_mainDivClientWidth:0,_mainDivClientHeight:0,_updateMainDivSize:function(){lt.Controls._elementsHelper.repaint(this._mainDiv);var a=Math.max(this._mainDiv.clientWidth,0),b=Math.max(this._mainDiv.clientHeight,0);return a!==this._mainDivClientWidth||b!==this._mainDivClientHeight?(this._mainDivClientWidth=
a,this._mainDivClientHeight=b,!0):!1},_autoScrollDiv:null,get_autoScrollDiv:function(){return this._autoScrollDiv},_foreCanvas:null,get_foreCanvas:function(){return this._foreCanvas},_foreCanvasWidth:0,_foreCanvasHeight:0,_eventCanvas:null,get_eventCanvas:function(){return this._eventCanvas},_passthroughDiv:null,get_passthroughDiv:function(){return this._passthroughDiv},_viewDiv:null,get_viewDiv:function(){return this._viewDiv},_viewDivHolder:null,get_viewDivHolder:function(){return this._viewDivHolder},
_viewDivHolderClientWidth:0,_viewDivHolderClientHeight:0,_buildControl:function(a){var a=a.get_parentDivClass(),b=lt.LTHelper.supportsScroll;this._styleNamespaceTagId="_ltiv-styles_"+a;1===lt.Controls._imageViewerGroup.namespaceCount(a)&&lt.Controls._elementsHelper.createNamespaceClasses(a,this._styleNamespaceTagId);1===lt.Controls._imageViewerGroup.get_count()&&lt.Controls._elementsHelper.createCommonClasses("_ltiv-styles");lt.LTHelper.addClass(this._parentDiv,String.format("{0}",a));lt.LTHelper.addClass(this._parentDiv,
"lt_no_overflow");b&&(b=document.createElement("div"),lt.LTHelper.addClass(b,String.format("{0}-{1}",a,"autoscroll")),this._autoScrollDiv=b);b=document.createElement("div");lt.LTHelper.addClass(b,String.format("{0}-{1}",a,"main"));lt.LTHelper.addClass(b,"lt_no_overflow");this._mainDiv=b;null!=this._autoScrollDiv&&this._mainDiv.appendChild(this._autoScrollDiv);this._parentDiv.appendChild(this._mainDiv);this._updateMainDivSize();b=document.createElement("canvas");null!=b&&(lt.LTHelper.addClass(b,String.format("{0}-{1}",
a,"forecanvas")),this._foreCanvasWidth=this._mainDivClientWidth,this._foreCanvasHeight=this._mainDivClientHeight,b.width=this._foreCanvasWidth,b.height=this._foreCanvasHeight,this._foreCanvas=b,this._parentDiv.appendChild(this._foreCanvas));this._imagesDiv=document.createElement("div");lt.LTHelper.addClass(this._imagesDiv,String.format("{0}-{1}",a,"images"));this._parentDiv.appendChild(this._imagesDiv);if(null!=b&&this._useElements){b=document.createElement("div");this._viewDivHolderClientWidth=this._mainDivClientWidth;
this._viewDivHolderClientHeight=this._mainDivClientHeight;b.style.width=this._viewDivHolderClientWidth.toString()+"px";b.style.height=this._viewDivHolderClientHeight.toString()+"px";lt.LTHelper.addClass(b,String.format("{0}-{1}",a,"viewholder"));var c=document.createElement("div");lt.LTHelper.addClass(c,this._useElementsOptions.get_viewElementClass());b.appendChild(c);this._viewDivHolder=b;this._parentDiv.insertBefore(b,this._foreCanvas);this._viewDiv=c;lt.LTHelper.supportsHTMLPointerEvents&&(lt.LTHelper.addClass(this._parentDiv,
"lt_pointer_events"),b=document.createElement("canvas"),null!=b&&(lt.LTHelper.addClass(b,String.format("{0}-{1}",a,"eventcanvas")),b.width=this._mainDivClientWidth,b.height=this._mainDivClientHeight,this._eventCanvas=b,this._viewDivHolder.appendChild(this._eventCanvas)),this._passthroughDiv=document.createElement("div"),lt.LTHelper.addClass(this._passthroughDiv,String.format("{0}-{1}",a,"passthrough")),this._viewDivHolder.appendChild(this._passthroughDiv))}lt.Controls._eventHelper.addEventListener(this._mainDiv,
"scroll",this._mainDiv_Scroll_Delegate)},onSizeChanged:function(){if(!(null==this._mainDiv||null==this._foreCanvas))if(this._updateMainDivSize()||this._foreCanvasWidth!==this._mainDivClientWidth||this._foreCanvasHeight!==this._mainDivClientHeight)if(this._doOnSizeChanged(),null!=this._interactiveService)this._interactiveService.onSizeChanged()},_disableTransitionsOnScroll:!0,_mainDiv_Scroll_Delegate:null,_mainDiv_Scroll:function(a){-1!==this._mainDivPrecisionScrollDelegateTimeout&&(clearTimeout(this._mainDivPrecisionScrollDelegateTimeout),
this._mainDivPrecisionScrollDelegateTimeout=-1);if(lt.LTHelper.OS===lt.LTOS.android)null!=a&&a.preventDefault();else if(null!=this._mainDiv){a=lt.Controls.ImageViewerSyncManager.beginSync(this._syncId);this._disableTransitionsOnScroll&&this.disableTransitions();var b=this._isScrollCausedProgrammatically;b?this._isScrollCausedProgrammatically=!1:(this._mainDivScrollOffset=lt.LeadPointD.create(this._mainDiv.scrollLeft,this._mainDiv.scrollTop),lt.Controls._controlInertiaScroller.get_instance()._removeParams(this));
var c=this._mapMainDivToPosition(this._mainDivScrollOffset);this._mapPositionToMainDiv(c);var d=lt.LeadPointD.create(c.get_x()-this._ScrollOffset.get_x(),c.get_y()-this._ScrollOffset.get_y());if(this._updateViewTransformFromScroll(c,!lt.LeadPointD.equals(c,this._ScrollOffset)))this.onTransformChanged(lt.LeadEventArgs.Empty);this.invalidate(lt.LeadRectD.get_empty());this._disableTransitionsOnScroll?this.enableTransitions():this._disableTransitionsOnScroll=!0;if(this._isSyncSource&&null!=a)for(c=0;c<
a.length;c++){var e=a[c];if(e!==this&&e.get_isSyncTarget()&&(b||lt.Controls._controlInertiaScroller.get_instance()._removeParams(e),d.get_x()||d.get_y()))e.disableTransitions(),e.scrollBy(d),e.enableTransitions()}lt.Controls.ImageViewerSyncManager.endSync(this._syncId)}},get_controlSize:function(){return lt.LeadSizeD.create(this._mainDivClientWidth,this._mainDivClientHeight)},get_hasSize:function(){var a=this.get_controlSize();return!a.get_isEmpty()&&0<a.get_width()&&0<a.get_height()},_getClientRectangle:function(){return lt.LeadRectD.create(0,
0,this._mainDivClientWidth,this._mainDivClientHeight)},_getForeCanvasRectangle:function(){return lt.LeadRectD.create(0,0,this._foreCanvasWidth,this._foreCanvasHeight)},get_enableRequestAnimationFrame:function(){return this._EnableRequestAnimationFrame},set_enableRequestAnimationFrame:function(a){this._EnableRequestAnimationFrame!==a&&(this._EnableRequestAnimationFrame=a,this.onPropertyChanged(lt.Controls.ImageViewer._EnableRequestAnimationFrame_Name));return a},get_autoCreateCanvas:function(){return this._AutoCreateCanvas},
set_autoCreateCanvas:function(a){this._AutoCreateCanvas!==a&&(this._AutoCreateCanvas=a);this._setItemsValue(this._AutoCreateCanvas,a,lt.Controls.ImageViewer._AutoCreateCanvas_Name,!0);return a},get_resizeElementForView:function(){return this._ResizeElementForView},set_resizeElementForView:function(a){this._ResizeElementForView!==a&&(this._ResizeElementForView=a);this._setItemsValue(this._ResizeElementForView,a,lt.Controls.ImageViewer._ResizeElementForView_Name,!0);return a},_createInteractiveService:function(){this._interactiveService=
lt.Controls.InteractiveService.create(this,this._parentDiv,null!=this._eventCanvas?this._eventCanvas:this._foreCanvas);this._doInteractiveServiceChanged(!0)},_element_DragEnter_Delegate:null,_element_DragOver_Delegate:null,_element_DragLeave_Delegate:null,_element_Drop_Delegate:null,_doInteractiveServiceChanged:function(a){var b=this._interactiveService;if(null!=b){var c=b.get_eventsSource();a?(null!=c&&(lt.Controls._eventHelper.addEventListener(c,"dragenter",this._element_DragEnter_Delegate),lt.Controls._eventHelper.addEventListener(c,
"dragover",this._element_DragOver_Delegate),lt.Controls._eventHelper.addEventListener(c,"dragleave",this._element_DragLeave_Delegate),lt.Controls._eventHelper.addEventListener(c,"drop",this._element_Drop_Delegate)),b.add_move(ss.Delegate.create(this,this._viewer_CustomDrag_Move)),b.add__up(ss.Delegate.create(this,this._viewer_CustomDrag_Up))):(null!=c&&(lt.Controls._eventHelper.removeEventListener(c,"dragenter",this._element_DragEnter_Delegate),lt.Controls._eventHelper.removeEventListener(c,"dragover",
this._element_DragOver_Delegate),lt.Controls._eventHelper.removeEventListener(c,"dragleave",this._element_DragLeave_Delegate),lt.Controls._eventHelper.removeEventListener(c,"drop",this._element_Drop_Delegate)),b.remove_move(ss.Delegate.create(this,this._viewer_CustomDrag_Move)),b.remove__up(ss.Delegate.create(this,this._viewer_CustomDrag_Up)),this._customDragIndex=-1,this._customDragInControl=this._customDragCanDrop=!1,this._customDragTargetItem=lt.Controls.ImageViewer._customDragCursorStyle=null)}},
_hideNativeScrollbars:function(){lt.LTHelper.removeClass(this._mainDiv,"lt_no_overflow")},_showNativeScrollbars:function(a,b){lt.LTHelper.addClass(this._mainDiv,"lt_no_overflow");var c=a?"scroll":"",d=this._mainDivStyleOverflowX!==c;d&&(this._mainDivStyleOverflowX=c,this._mainDiv.style.overflowX=c);var c=b?"scroll":"",e=this._mainDivStyleOverflowY!==c;e&&(this._mainDivStyleOverflowY=c,this._mainDiv.style.overflowY=c);return d||e},_scrollModeChanged:function(a){if(lt.LTHelper.supportsScroll){if(1===
this._ScrollMode||2===this._ScrollMode)this._mainDivStyleOverflowX&&(this._mainDivStyleOverflowX="",this._mainDiv.style.overflowX=""),this._mainDivStyleOverflowY&&(this._mainDivStyleOverflowY="",this._mainDiv.style.overflowY=""),lt.LTHelper.addClass(this._mainDiv,"lt_no_overflow");1===a&&!this._ScrollMode?this._variablesToScroll(this._ScrollOffset):!a&&1===this._ScrollMode&&(this._isScrollCausedProgrammatically=!0,this._mainDivScrollOffset=lt.LeadPointD.create(0,0),this._mainDiv.scrollLeft=0,this._mainDiv.scrollTop=
0)}},get__supportsScroll:function(){return lt.LTHelper.supportsScroll},_setNativeScrollPosition:function(a){a=this._mapPositionToMainDiv(this.restrictScrollOffset(a));if(this._mainDivScrollOffset.get_x()!==a.get_x()||this._mainDivScrollOffset.get_y()!==a.get_y()){if(!isNaN(this._mainDivScrollOffset.get_x())&&!isNaN(this._mainDivScrollOffset.get_y())||!(0===a.get_x()&&0===a.get_y()))this._isScrollCausedProgrammatically=!0,this.get_isTransitionsEnabled()&&(this._disableTransitionsOnScroll=!1);var b=
lt.Controls.PrimitivesHelper.toInt(this._mainDivScrollOffset.get_x()),c=lt.Controls.PrimitivesHelper.toInt(this._mainDivScrollOffset.get_y()),d=lt.Controls.PrimitivesHelper.toInt(a.get_x()),e=lt.Controls.PrimitivesHelper.toInt(a.get_y());this._mainDivScrollOffset=a;b!==d||c!==e?(-1!==this._mainDivPrecisionScrollDelegateTimeout&&(clearTimeout(this._mainDivPrecisionScrollDelegateTimeout),this._mainDivPrecisionScrollDelegateTimeout=-1),this._mainDiv.scrollLeft=d,this._mainDiv.scrollTop=e):-1===this._mainDivPrecisionScrollDelegateTimeout&&
(this._mainDivPrecisionScrollDelegateTimeout=setTimeout(this._mainDiv_Scroll_Delegate,0))}},_mapMainDivToPosition:function(a){if(a.get_isEmpty()||this._autoScrollDivTrueBrowserRatio.get_isEmpty()||1===this._autoScrollDivTrueBrowserRatio.get_x()&&1===this._autoScrollDivTrueBrowserRatio.get_y())return a;a=a.clone();if(1!==this._autoScrollDivTrueBrowserRatio.get_x()){var b=this._mainDivClientWidth*a.get_x()/(this._autoScrollDivBrowserSize.get_x()-this._mainDivClientWidth);a.set_x(Math.min(a.get_x()+
b,this._autoScrollDivBrowserSize.get_x()));a.set_x(a.get_x()*this._autoScrollDivTrueBrowserRatio.get_x());a.set_x(Math.max(a.get_x()*(this._autoScrollDivTrueSize.get_x()-this._mainDivClientWidth)/this._autoScrollDivTrueSize.get_x(),0))}1!==this._autoScrollDivTrueBrowserRatio.get_y()&&(b=this._mainDivClientHeight*a.get_y()/(this._autoScrollDivBrowserSize.get_y()-this._mainDivClientHeight),a.set_y(Math.min(a.get_y()+b,this._autoScrollDivBrowserSize.get_y())),a.set_y(a.get_y()*this._autoScrollDivTrueBrowserRatio.get_y()),
a.set_y(Math.max(a.get_y()*(this._autoScrollDivTrueSize.get_y()-this._mainDivClientHeight)/this._autoScrollDivTrueSize.get_y(),0)));return a},_mapPositionToMainDiv:function(a){if(a.get_isEmpty()||this._autoScrollDivTrueBrowserRatio.get_isEmpty()||1===this._autoScrollDivTrueBrowserRatio.get_x()&&1===this._autoScrollDivTrueBrowserRatio.get_y())return a;a=a.clone();if(1!==this._autoScrollDivTrueBrowserRatio.get_x()){var b=this._mainDivClientWidth*a.get_x()/(this._autoScrollDivTrueSize.get_x()-this._mainDivClientWidth);
a.set_x(Math.min(a.get_x()+b,this._autoScrollDivTrueSize.get_x()));a.set_x(a.get_x()/this._autoScrollDivTrueBrowserRatio.get_x());a.set_x(Math.max(a.get_x()*(this._autoScrollDivBrowserSize.get_x()-this._mainDivClientWidth)/this._autoScrollDivBrowserSize.get_x(),0))}1!==this._autoScrollDivTrueBrowserRatio.get_y()&&(b=this._mainDivClientHeight*a.get_y()/(this._autoScrollDivTrueSize.get_y()-this._mainDivClientHeight),a.set_y(Math.min(a.get_y()+b,this._autoScrollDivTrueSize.get_y())),a.set_y(a.get_y()/
this._autoScrollDivTrueBrowserRatio.get_y()),a.set_y(Math.max(a.get_y()*(this._autoScrollDivBrowserSize.get_y()-this._mainDivClientHeight)/this._autoScrollDivBrowserSize.get_y(),0)));return a},_setNativeScrollSize:function(a,b,c){var d=!1,e=a.get_width(),a=a.get_height();if(!this.get_scrollMode()&&(d=this._showNativeScrollbars(b,c),null!=this._autoScrollDiv)){this._autoScrollDivTrueSize=lt.LeadPointD.create(e,a);b=Math.min(lt.Controls.ImageViewer._maximumBrowserScroll,e);c=Math.min(lt.Controls.ImageViewer._maximumBrowserScroll,
a);if(-1===this._autoScrollDivBrowserSize.get_x()||-1===this._autoScrollDivBrowserSize.get_y()||this._autoScrollDivBrowserSize.get_x()!==b||this._autoScrollDivBrowserSize.get_y()!==c)this._autoScrollDivBrowserSize=lt.LeadPointD.create(b,c),this._autoScrollDiv.style.width=b.toString()+"px",this._autoScrollDiv.style.height=c.toString()+"px";this._autoScrollDivTrueBrowserRatio=lt.LeadPointD.create(this._autoScrollDivTrueSize.get_x()/this._autoScrollDivBrowserSize.get_x(),this._autoScrollDivTrueSize.get_y()/
this._autoScrollDivBrowserSize.get_y())}return d},_resizeForeCanvas:function(){if(!(null==this._foreCanvas||null==this._mainDiv)){if(this._foreCanvasWidth!==this._mainDivClientWidth||this._foreCanvasHeight!==this._mainDivClientHeight)this._foreCanvasWidth=this._mainDivClientWidth,this._foreCanvasHeight=this._mainDivClientHeight,this._foreCanvas.width=this._foreCanvasWidth,this._foreCanvas.height=this._foreCanvasHeight,null!=this._eventCanvas&&(this._eventCanvas.width=this._foreCanvasWidth,this._eventCanvas.height=
this._foreCanvasHeight),this.onForeCanvasSizeChanged(lt.LeadEventArgs.Empty);if(null!=this._viewDivHolder&&(this._viewDivHolderClientWidth!==this._foreCanvasWidth||this._viewDivHolderClientHeight!==this._foreCanvasHeight))this._viewDivHolderClientWidth=this._foreCanvasWidth,this._viewDivHolderClientHeight=this._foreCanvasHeight,this._viewDivHolder.style.width=this._viewDivHolderClientWidth.toString()+"px",this._viewDivHolder.style.height=this._viewDivHolderClientHeight.toString()+"px"}},add_foreCanvasSizeChanged:function(a){this.__foreCanvasSizeChanged=
ss.Delegate.combine(this.__foreCanvasSizeChanged,a)},remove_foreCanvasSizeChanged:function(a){this.__foreCanvasSizeChanged=ss.Delegate.remove(this.__foreCanvasSizeChanged,a)},__foreCanvasSizeChanged_handler_get:function(){null==this.__foreCanvasSizeChanged_handler&&(this.__foreCanvasSizeChanged_handler=ss.EventHandler.create(this,this.add_foreCanvasSizeChanged,this.remove_foreCanvasSizeChanged));return this.__foreCanvasSizeChanged_handler},__foreCanvasSizeChanged:null,__foreCanvasSizeChanged_handler:null,
onForeCanvasSizeChanged:function(a){null!=this.__foreCanvasSizeChanged&&this.__foreCanvasSizeChanged(this,a)},_doInsertItem:function(a){lt.Controls.ImageViewer._checkWinRTKernelExpired();a._setImageViewer(this);this.get_useElements()&&(a._itemChanged=!0,1===this.get_items().get_count()&&(a._createItemElements(),lt.Controls._elementsHelper.repaint(this.get_viewDiv()),this._internalUpdateStyles()));a.set_autoCreateCanvas(this.get_autoCreateCanvas());var b=!1;a.get_hasImage()?(this._checkLicense(),this.get_useDpi()&&
a._setSize(this._calculateItemSize(a.get_resolution(),a.get_size(),!0),a.get_resolution()),b=!0,this._doItemChanged(a,!1,9)):null!=a.get_url()&&(b=!0,a._updateFromUrl(a.get_url(),a.get_resolution()));b&&null==a.get_backImage()&&null==a.get_backImageElement()&&null!=a.get_backImageUrl()&&a._updateFromImageUrl(a.get_backImageUrl(),a.get_resolution(),!0)},_doRemoveItem:function(a){var b=this._items.indexOf(a),b=this._items.get__props()[b];null!=b.interpolator&&this._stopItemInterpolator(a,b,!0);a.deleteImage();
this.setItemFloater(a,null);a._setImageViewer(null)},_postRemoveItem:function(){this._updateViewElementDisplay()},_tryDispose:function(a){a._tryDispose(this.get_items())},_tryDisposeBackImage:function(a){a._tryDisposeBackImage(this.get_items())},_doItemChanged:function(a,b,c){var d=this._items.indexOf(a),d=this._items.get__props()[d];if(b)switch(c){case 9:case 6:case 7:null!=d.interpolator&&this._stopItemInterpolator(a,d,!0);c=a.get_image();null==c&&(c=a.get_canvas());null!=c&&null!=c.parentNode&&
c.parentNode.removeChild(c);this._deleteItemRegion(a);this._updateHasAnyRegions();this.setItemFloater(a,null);break;case 11:this.setItemFloater(a,null)}else{var e=b=!1,f=!1,g=!1,h=!0,i=!1,j=!1,k=!1;switch(c){case 9:case 6:case 7:this._checkLicense();this._updateItemRegion(a);this._updateHasAnyRegions();j=i=b=!0;break;case 2:case 3:case 5:b=!1;f=!0;break;case 14:case 13:this.get_useElements()&&a._updateBackImageElement();k=!0;b=!1;f=!0;break;case 4:b=!1;f=!lt.Controls.GraphicsHelper.isTransparentColor(this.get_hoveredItemBorderColor())||
!lt.Controls.GraphicsHelper.isTransparentColor(this.get_hoveredItemBackgroundColor());break;case 0:case 8:k=j=b=!0;break;case 1:b=a.get_resizeOnTransform();h=!1;f=g=!0;break;case 11:this._updateHasAnyFloaterRegions();e=!0;break;case 12:this._updateHasAnyFloaterRegions(),e=!0}if(this.get_useElements()&&(j&&(d.removedImageUrl=null),k))d.removedBackImageUrl=null;b?this.get_canTransform()&&this._internalUpdateTransform(!0,h):(g&&(this._updateProps(),this._callInterpolatorsTransformChanged()),e&&this._updateFloaterTransform(a),
f&&this.invalidateItem(a));i&&this.get_interpolationMode()&&this._tryStartItemInterpolator(a,d);this.onItemChanged(lt.Controls.ImageViewerItemChangedEventArgs.create(a,c))}},_deleteItemRegion:function(a){var b=-1;null!=a&&(b=this._getItemIndex(a,"item"));-1!==b&&(a=this._items.get__props()[b],null!=a.region&&(a.region=null))},_updateItemRegion:function(a){this._deleteItemRegion(a);if(this.get_imageRegionRenderMode()){var b=a.get_image(),c=a.get_canvas();null==b&&null==c||(a=this._getItemIndex(a,"item"),
this._items.get__props()[a].region=null)}},_doUpdateItemRegion:function(a){this._updateItemRegion(a);this._updateItemFloaterRegion(a)},setItemFloater:function(a,b){if(null==a)throw new lt.ArgumentNullException("item");this._getItemIndex(a,"item");var c=a.get_floater();b!==c&&(a._setFloater(b),this._updateItemFloaterRegion(a))},_updateItemFloaterRegion:function(a){var b=this._getItemIndex(a,"item");this._items.get__props()[b].floaterRegion=null;null!=a.get_floater()&&this.get_floaterRegionRenderMode()},
get_eraseBackgroundOnInvalidate:function(){return this._EraseBackgroundOnInvalidate},set_eraseBackgroundOnInvalidate:function(a){this._EraseBackgroundOnInvalidate!==a&&(this._EraseBackgroundOnInvalidate=a,this.onPropertyChanged(lt.Controls.ImageViewer._EraseBackgroundOnInvalidate_Name));return a},add_eraseBackground:function(a){this.__eraseBackground=ss.Delegate.combine(this.__eraseBackground,a)},remove_eraseBackground:function(a){this.__eraseBackground=ss.Delegate.remove(this.__eraseBackground,a)},
__eraseBackground_handler_get:function(){null==this.__eraseBackground_handler&&(this.__eraseBackground_handler=ss.EventHandler.create(this,this.add_eraseBackground,this.remove_eraseBackground));return this.__eraseBackground_handler},__eraseBackground:null,__eraseBackground_handler:null,onEraseBackground:function(a){null!=this.__eraseBackground&&this.__eraseBackground(this,a);if(this.get_eraseBackgroundOnInvalidate()){var b=a.get_context(),a=lt.Controls.PrimitivesHelper.toLeadRectD(a.get_clipRectangle());
lt.Controls.PrimitivesHelper.isEmptyOrZeroRect(a)&&(a=this._getForeCanvasRectangle());this._isRenderRedirected&&null!=this._renderRedirectOptions&&null!=this._renderRedirectOptions.get_backgroundColor()?lt.Controls.GraphicsHelper.fillBackground(b,this._renderRedirectOptions.get_backgroundColor(),a,lt.LeadMatrix.get_identity()):lt.Controls.GraphicsHelper.clearBackground(b,a,lt.LeadMatrix.get_identity())}},get__nativeBackColor:function(){return null!=this._mainDiv?lt.LTHelper.getElementStyle(this._mainDiv,
"backgroundColor"):null},renderRedirect:function(a,b,c){if(null==a)throw new lt.ArgumentNullException("context");var c=c.clone(),d=new lt.Controls.ImageViewerRenderEventArgs(a,c),e=null;try{c.get_isEmpty()||(e=lt.Controls.GraphicsHelper.saveContext(a),lt.Controls.GraphicsHelper.intersectClip(a,c)),this._doRender(d,b,!0)}finally{null!=e&&lt.Controls.GraphicsHelper.restoreContext(a,e)}},_needsRender:!1,get__isRenderEnabled:function(){return!this._needsRender?!1:this._needsRender=!0},_InternalImmediateRender:!1,
_nativeInvalidate:function(a){this._needsRender=!0;if(this._checkAllCanRender(a))if(!this._EnableRequestAnimationFrame||this._InternalImmediateRender){this._InternalImmediateRender=!1;var b=this._foreCanvas.getContext("2d");this._doRender(new lt.Controls.ImageViewerRenderEventArgs(b,a),null,!1)}else-1!==this._RequestAnimationFrameIndex&&lt.LTHelper.cancelAnimationFrame(this._RequestAnimationFrameIndex),-1!==this._DisabledRequestAnimationFrameIndex?(lt.LTHelper.cancelAnimationFrame(this._DisabledRequestAnimationFrameIndex),
this._DisabledRequestAnimationFrameIndex=lt.LTHelper.requestAnimationFrame(this._animationRenderDisableTransitions_Delegate)):this.get_isTransitionsEnabled()?this._RequestAnimationFrameIndex=lt.LTHelper.requestAnimationFrame(this._animationRender_Delegate):this._DisabledRequestAnimationFrameIndex=lt.LTHelper.requestAnimationFrame(this._animationRenderDisableTransitions_Delegate)},_animationRender_Delegate:null,_animationRenderDisableTransitions_Delegate:null,_animationRender:function(){this._DisabledRequestAnimationFrameIndex=
this._RequestAnimationFrameIndex=-1;if(null!=this._foreCanvas){var a=this._foreCanvas.getContext("2d");this._doRender(new lt.Controls.ImageViewerRenderEventArgs(a,this._renderInvalidateRect),null,!1)}},_animationRenderDisableTransitions:function(){this.disableTransitions();this._animationRender();this.enableTransitions()},invalidate:function(a){lt.Controls.ControlsHelper.checkIfNull(a,"rc");this._nativeInvalidate(a)},_nativeRenderImage:function(a,b,c){b._render(a,c)},_checkLicense:function(){if(!lt.Controls.ImageViewer._9823H){lt.Controls.ImageViewer._9823H=
!0;var a="function"==typeof Leadtools&&"function"==typeof Leadtools.RasterSupport;if(a)(Leadtools.RasterSupport.kernelType==Leadtools.RasterKernelType.evaluation||Leadtools.RasterSupport.kernelType==Leadtools.RasterKernelType.nag)&&Leadtools.RasterSupport.initialize();else{var b=lt.LTHelper.OS===lt.LTOS.windows&&lt.LTHelper.device===lt.LTDevice.mobile&&"x-wmapp0:"===window.location.protocol,c=null,c=b?new ActiveXObject("Msxml2.XMLHTTP"):new XMLHttpRequest;try{c.onreadystatechange=function(){if(4===
c.readyState){if(200===c.status||"file:"===window.location.protocol&&!c.status||b&&!c.status){var d=c.responseText;null==d&&(d="");for(var e=new ss.StringBuilder,f=ss.IEnumerator.getEnumerator(lt.Controls.ImageViewer._toVerify);f.moveNext();)e.append(String.fromCharCode([f.current^86]));d.startsWith(e.toString())||lt.Controls.ImageViewer._showError(a)}else c.status&&lt.Controls.ImageViewer._showError(a);c=c.onreadystatechange=null}};var d=new ss.StringBuilder;d.append("./");d.append(String.isNullOrWhiteSpace(lt.LTHelper.licenseDirectory)?
null:lt.LTHelper.licenseDirectory+"/");for(var e=ss.IEnumerator.getEnumerator(lt.Controls.ImageViewer._licFile);e.moveNext();)d.append(String.fromCharCode([e.current^102]));c.open("GET",d.toString(),!0);var f=lt.LTHelper.requestCustomHeaders;if(0<Object.getKeyCount(f))for(var g=ss.IEnumerator.getEnumerator(Object.keys(f));g.moveNext();){var h=g.current;c.setRequestHeader(h,f[h])}c.send()}catch(i){lt.Controls.ImageViewer._showError(a)}}}},_nativeRenderFloater:function(a,b){var c=this.getItemFloaterSize(b,
!1);if(!lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(c)){var d=b.get_floater();if(null!=d){var e=this.getItemFloaterTransform(b);if(e.get_hasInverse()){var f=a.get_context(),g=null;try{e.get_isIdentity()||(g=lt.Controls.GraphicsHelper.saveContext(f),lt.Controls.GraphicsHelper.multiplyTransform(f,e)),f.drawImage(d,0,0,c.get_width(),c.get_height())}finally{null!=g&&lt.Controls.GraphicsHelper.restoreContext(f,g)}}}}},get_allowDrop:function(){return this._AllowDrop},set_allowDrop:function(a){this._AllowDrop!==
a&&(this._AllowDrop=a,this.onPropertyChanged(lt.Controls.ImageViewer._AllowDrop_Name));return a},_getDragLocation:function(a){var b=this._interactiveService.get_eventsSource();return null!=b?(b=lt.LTHelper.getPosition(b,null),lt.LeadPointD.create(a.clientX-b.get_x(),a.clientY-b.get_y())):lt.LeadPointD.create(a.offsetX,a.offsetY)},_getDefaultDragItem:function(a){if(null!=a.get_customDragElement())return a.get_targetItem();a=this.hitTestItem(a.get_location());null==a&&(a=this.get_activeItem());return a},
_element_DragEnter:function(a){this._internal_element_DragEnter(a,null,lt.LeadPointD.get_empty(),null)},_internal_element_DragEnter:function(a,b,c,d){if(this.get_allowDrop()&&null!=lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceViewer){var e=null==d,c=e?this._getDragLocation(a):c,f=new lt.Controls.ImageViewerItemDragDropEventArgs;f._setNative(c,a);f._setCustom(b,d);e?f.set_effect(a.dataTransfer.dropEffect):(f.set_effect(this._getCustomDragCursor()),this._setCustomDragCursor(f.get_effect()));
this._doDragEnter(f);e?a.dataTransfer.dropEffect=f.get_effect():this._setCustomDragCursor(f.get_effect());"none"!==f.get_effect()&&a.preventDefault()}},_element_DragOver:function(a){this._internal_element_DragOver(a,null,lt.LeadPointD.get_empty(),null)},_internal_element_DragOver:function(a,b,c,d){if(!this.get_allowDrop()||null==lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceViewer)return!1;var e=null==d,f=e?this._getDragLocation(a):c,c=new lt.Controls.ImageViewerItemDragDropEventArgs;
c._setNative(f,a);c._setCustom(b,d);e?c.set_effect(a.dataTransfer.dropEffect):(c.set_effect(this._getCustomDragCursor()),this._setCustomDragCursor(c.get_effect()));this._doDragOver(c);b=!1;e?a.dataTransfer.dropEffect=c.get_effect():(this._setCustomDragCursor(c.get_effect()),b="none"!==c.get_effect());"none"!==c.get_effect()&&a.preventDefault();return b},_element_DragLeave:function(a){this._internal_element_DragLeave(a,null,lt.LeadPointD.get_empty(),null)},_internal_element_DragLeave:function(a,b,
c,d){if(this.get_allowDrop()&&null!=lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceViewer){var e=null==d,c=e?this._getDragLocation(a):c,f=new lt.Controls.ImageViewerItemDragDropEventArgs;f._setNative(c,a);f._setCustom(b,d);f.set_effect("none");e||this._setCustomDragCursor(f.get_effect());this._doDragLeave(f);e||this._setCustomDragCursor(f.get_effect())}},_element_Drop:function(a){this._internal_element_Drop(a,null,lt.LeadPointD.get_empty(),null)},_internal_element_Drop:function(a,b,c,
d){if(this.get_allowDrop()&&null!=lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceViewer){var e=null==d,f=e?this._getDragLocation(a):c,c=new lt.Controls.ImageViewerItemDragDropEventArgs;c._setNative(f,a);c._setCustom(b,d);c.set_effect("copy");e||this._setCustomDragCursor(c.get_effect());this._doDrop(c);e?a.dataTransfer.dropEffect=c.get_effect():this._resetCustomDragCursor();a.preventDefault();c.get_abort()||"none"===c.get_effect()||(b=null,e?(b=a.dataTransfer.getData("URL"),String.isNullOrEmpty(b)&&
(b=a.dataTransfer.getData("text"))):null!=d&&(b=d.getAttribute("data-drag")),String.isNullOrEmpty(b)||this.processDragDropUrl(c.get_targetItem(),b))}},processDragDropUrl:function(a,b){if(null==a){var c=new lt.Controls.ImageViewerItem;c.set_url(b);this.get_items().add(c)}else this.get_items().updateUrl(a,b,lt.LeadSizeD.get_empty())},_setCustomDragCursor:function(a){if(null!=document.body){var b=null;switch(a){case "link":case "move":b="alias";break;case "none":b="not-allowed";break;default:b="copy"}lt.Controls.ImageViewer._customDragCursorStyle!==
b&&(document.body.style.cursor=b,document.body.parentNode.style.cursor=b);lt.Controls.ImageViewer._customDragCursorStyle=b}},_resetCustomDragCursor:function(){lt.Controls.ImageViewer._customDragCursorStyle=null;null!=document.body&&(document.body.style.cursor="",document.body.parentNode.style.cursor="")},_getCustomDragCursor:function(){switch(lt.Controls.ImageViewer._customDragCursorStyle){case "copy":return"copy";case "alias":return"move";case "not-allowed":return"none";default:return"copy"}},_customDragInControl:!1,
_customDragCanDrop:!1,_customDragTargetItem:null,_viewer_CustomDrag_Move:function(a,b){var c=lt.Controls.ImageViewerDragInteractiveMode._globalDragCustomElement;if(this.get_allowDrop()&&!(null==lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceViewer||b.get_isHandled()||null==c||lt.Controls.ImageViewerDragInteractiveMode._customDragCompleted_DropsOnly)){var d=this._customDragIndex!==lt.Controls.ImageViewerDragInteractiveMode._globalDragIndex,e=this._getClientRectangle().containsPoint(b.get_position());
if(!d||e){d&&(this._customDragIndex=lt.Controls.ImageViewerDragInteractiveMode._globalDragIndex,this._customDragInControl=this._customDragCanDrop=!1,this._customDragTargetItem=lt.Controls.ImageViewer._customDragCursorStyle=null);if(e){var d=this.hitTestItem(b.get_position()),f=!0;this._customDragInControl||this._internal_element_DragEnter(b.get_nativeEvent(),null,b.get_position(),c);d!==this._customDragTargetItem&&(null!=this._customDragTargetItem&&(this._internal_element_DragLeave(b.get_nativeEvent(),
this._customDragTargetItem,b.get_position(),c),this._customDragCanDrop=f=!1),this._customDragTargetItem=d,null!=this._customDragTargetItem&&this._internal_element_DragEnter(b.get_nativeEvent(),this._customDragTargetItem,b.get_position(),c));f&&(this._customDragCanDrop=this._internal_element_DragOver(b.get_nativeEvent(),this._customDragTargetItem,b.get_position(),c))}else this._customDragTargetItem=null,this._customDragCanDrop=!1,this._customDragInControl&&this._internal_element_DragLeave(b.get_nativeEvent(),
this._customDragTargetItem,b.get_position(),c);this._customDragInControl=e}}},_viewer_CustomDrag_Up:function(a,b){var c=lt.Controls.ImageViewerDragInteractiveMode._globalDragCustomElement;if(this.get_allowDrop()&&!(null==lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceViewer||b.get_isHandled()||null==c))this._customDragInControl&&this._customDragIndex===lt.Controls.ImageViewerDragInteractiveMode._globalDragIndex&&(this._customDragCanDrop?this._internal_element_Drop(b.get_nativeEvent(),
this._customDragTargetItem,b.get_position(),c):lt.Controls.ImageViewerDragInteractiveMode._customDragCompleted_DropsOnly||this._internal_element_DragLeave(b.get_nativeEvent(),this._customDragTargetItem,b.get_position(),c))},_InterpolatorManager:null,get_interpolationRunMode:function(){return this._InterpolationRunMode},set_interpolationRunMode:function(a){this._InterpolationRunMode!==a&&(this._stopInterpolators(!0),this._InterpolationRunMode=a,this._InterpolatorManager.set_runMode(this._InterpolationRunMode),
this._tryStartInterpolators(),this.onPropertyChanged(lt.Controls.ImageViewer._InterpolationRunMode_Name),this._nativeInvalidate(lt.LeadRectD.get_empty()));return a},get_interpolationMode:function(){return this._InterpolationMode},set_interpolationMode:function(a){this._InterpolationMode!==a&&(this._stopInterpolators(!0),(this._InterpolationMode=a)&&this._tryStartInterpolators(),this.onPropertyChanged(lt.Controls.ImageViewer._InterpolationMode_Name),this._nativeInvalidate(lt.LeadRectD.get_empty()));
return a},_stopInterpolators:function(a){for(var b=this._items.get_count(),c=this._items.get__props(),d=0;d<b;d++){var e=this._items.get_item(d),f=c[d];null!=f.interpolator&&this._stopItemInterpolator(e,f,a)}},_stopItemInterpolator:function(a,b,c){null==a||null==b.interpolator||(b.interpolator.stop(c,!0),b.interpolator.dispose(),b.interpolator=null)},_tryStartItemInterpolator:function(a,b){null!=a&&null!=a&&a.get_hasImage()&&lt.LTHelper.supportsWebWorker&&(null==b.interpolator&&(b.interpolator=new lt.Controls._interpolator(this,
a)),b.interpolator.start())},_tryStartInterpolators:function(){for(var a=this._getClientRectangle(),b=this._items.get_count(),c=this._items.get__props(),d=0;d<b;d++){var e=c[d];if(e.viewContentBounds.intersectsWith(a)){var f=this._items.get_item(d);f.get_hasImage()&&this._tryStartItemInterpolator(f,e)}}},add_interpolation:function(a){this.__interpolation=ss.Delegate.combine(this.__interpolation,a)},remove_interpolation:function(a){this.__interpolation=ss.Delegate.remove(this.__interpolation,a)},__interpolation_handler_get:function(){null==
this.__interpolation_handler&&(this.__interpolation_handler=ss.EventHandler.create(this,this.add_interpolation,this.remove_interpolation));return this.__interpolation_handler},__interpolation:null,__interpolation_handler:null,_internalOnInterpolation:function(a){null!=this.__interpolation&&this.__interpolation(this,a)},_callInterpolatorsTransformChanged:function(){if(this.get_interpolationMode())for(var a=this._getClientRectangle(),b=this._items.get_count(),c=this._items.get__props(),d=0;d<b;d++){var e=
c[d],f=this._items.get_item(d),g=e.viewContentBounds.intersectsWith(a);if(null!=e.interpolator)if(g)e.interpolator.onTransformChanged();else this._stopItemInterpolator(f,e,!0);else g&&this._tryStartItemInterpolator(f,e)}},get_image:function(){var a=this.get_activeItem();return null!=a?a.get_image():null},set_image:function(a){var b=this.get_activeItem();null!=b&&b.set_image(a);return a},get_element:function(){var a=this.get_activeItem();return null!=a?a.get_element():null},set_element:function(a){var b=
this.get_activeItem();null!=b&&b.set_element(a);return a},get_canvas:function(){var a=this.get_activeItem();return null!=a?a.get_canvas():null},set_canvas:function(a){var b=this.get_activeItem();null!=b&&b.set_canvas(a);return a},get_imageUrl:function(){var a=this.get_activeItem();return null!=a?a.get_url():null},set_imageUrl:function(a){var b=this.get_activeItem();if(null!=b){this.beginTransform();var c=b.get_loadUrlMode();b.set_loadUrlMode(lt.ImageLoaderUrlMode.imageUrl);try{b.set_url(a),this._updateForResetOptions()}finally{b.set_loadUrlMode(c),
this.endTransform()}this.onPropertyChanged(lt.Controls.ImageViewer._ImageUrl_Name)}return a},get_backImageUrl:function(){var a=this.get_activeItem();return null!=a?a.get_backImageUrl():null},set_backImageUrl:function(a){var b=this.get_activeItem();if(null!=b){this.beginTransform();var c=b.get_backImageLoadUrlMode();b.set_backImageLoadUrlMode(lt.ImageLoaderUrlMode.imageUrl);try{b.set_backImageUrl(a),this._updateForResetOptions()}finally{b.set_backImageLoadUrlMode(c),this.endTransform()}this.onPropertyChanged(lt.Controls.ImageViewer._BackImageUrl_Name)}return a},
get_backImage:function(){var a=this.get_activeItem();return null!=a?a.get_backImage():null},set_backImage:function(a){var b=this.get_activeItem();null!=b&&(this.beginTransform(),b.set_backImage(a),this._updateForResetOptions(),this.endTransform(),this.onPropertyChanged(lt.Controls.ImageViewer._BackImage_Name));return a},get_floater:function(){var a=this.get_activeItem();return null!=a?a.get_floater():null},set_floater:function(a){var b=this.get_activeItem();null!=b&&b.set_floater(a);return a},get_loadImageUrlMode:function(){var a=
this.get_activeItem();return null!=a?a.get_loadUrlMode():lt.ImageLoaderUrlMode.imageUrl},set_loadImageUrlMode:function(a){var b=this.get_activeItem();null!=b&&(b.set_loadUrlMode(a),this.onPropertyChanged(lt.Controls.ImageViewer._LoadImageUrlMode_Name));return a},get_backImageLoadImageUrlMode:function(){var a=this.get_activeItem();return null!=a?a.get_backImageLoadUrlMode():lt.ImageLoaderUrlMode.imageUrl},set_backImageLoadImageUrlMode:function(a){var b=this.get_activeItem();null!=b&&(b.set_backImageLoadUrlMode(a),
this.onPropertyChanged(lt.Controls.ImageViewer._BackImageLoadImageUrlMode_Name));return a},_doMouseWheel:function(a){this.disableTransitions();a=lt.LeadPointD.create(0,a);a=lt.Controls.ImageViewerPanZoomInteractiveMode._calculateMouseWheelChange(this,a);(!lt.LeadDoubleTools.isZero(a.get_x())||!lt.LeadDoubleTools.isZero(a.get_y()))&&this.scrollBy(a);this.enableTransitions()},_autoSizeChangedCounter:0,beginAutoSizeChanged:function(){this._autoSizeChangedCounter++},get__canAutoSizeChanged:function(){return!this._autoSizeChangedCounter},
endAutoSizeChanged:function(){if(!this._autoSizeChangedCounter)throw new lt.InvalidOperationException("'EndAutoSizeChanged' called without a matching 'BeginAutoSizeChanged'");this._autoSizeChangedCounter--;if(!this._autoSizeChangedCounter)this.onSizeChanged()},_ActiveItemBackgroundColor:"transparent",_ItemTextColor:"black",_ViewBorderColor:"black",_ItemBorderColor:"black",_ImageBorderColor:"black",_ItemBackgroundColor:"transparent",_ImageBackgroundColor:"transparent",_SelectedItemBorderColor:"transparent",
_SelectedItemBackgroundColor:"transparent",_HoveredItemBorderColor:"transparent",_HoveredItemBackgroundColor:"transparent",_ActiveItemBorderColor:"transparent",_SelectedItemTextColor:"black",get_updateShadowOnRotation:function(){return!1},set_updateShadowOnRotation:function(a){return a},_flipImageElement:!1,get_flipImageElement:function(){return this._flipImageElement},set_flipImageElement:function(a){this._checkSetForUseElements("FlipImageElement");if(this._flipImageElement!==a){this._flipImageElement=
a;var b=!1;this.beginTransform();for(var c=ss.IEnumerator.getEnumerator(this._items);c.moveNext();){var d=c.current;d.get_flipImageElement()!==this._flipImageElement&&(d.set_flipImageElement(this._flipImageElement),b=!0)}this._internalEndTransform(b,b)}return a},_reverseImageElement:!1,get_reverseImageElement:function(){return this._reverseImageElement},set_reverseImageElement:function(a){this._checkSetForUseElements("ReverseImageElement");if(this._reverseImageElement!==a){this._reverseImageElement=
a;var b=!1;this.beginTransform();for(var c=ss.IEnumerator.getEnumerator(this._items);c.moveNext();){var d=c.current;d.get_reverseImageElement()!==this._reverseImageElement&&(d.set_reverseImageElement(this._reverseImageElement),b=!0)}this._internalEndTransform(b,b)}return a},_checkSetForUseElements:function(a){if(!this.get_useElements())throw new lt.ArgumentException("Cannot change this property when UseElements mode is off",a);},updateStyles:function(){this._useElements&&(this._internalUpdateStyles(),
this.updateTransform())},_internalUpdateStyles:function(){if(0<this.get_items().get_count()){for(var a=null,b=0;b<this.get_items().get_count()&&!(a=this.get_items().get_item(b),null!=a.get_itemElement());b++);null!=a&&null!=a.get_itemElement()&&(b=a.get_itemElement(),a=a.get_imageBorderElement(),a=lt.Controls._elementsHelper.getElementComputedStyles(a),this._ImageBorderThickness=lt.Controls._elementsHelper.getElementCSSArrayInt(a,"border","Width")[0],b=lt.Controls._elementsHelper.getElementComputedStyles(b),
this._ItemBorderThickness=lt.Controls._elementsHelper.getElementCSSArrayInt(b,"border","Width")[0],a=lt.Controls._elementsHelper.getElementCSSArrayInt(b,"margin",""),this._ItemMargin=lt.Controls.ControlPadding.create(a[3],a[0],a[1],a[2]),b=lt.Controls._elementsHelper.getElementCSSArrayInt(b,"padding",""),this._ItemPadding=lt.Controls.ControlPadding.create(b[3],b[0],b[1],b[2]))}b=lt.Controls._elementsHelper.getElementComputedStyles(this._viewDiv);this._ViewBorderThickness=lt.Controls._elementsHelper.getElementCSSArrayInt(b,
"border","Width")[0];a=lt.Controls._elementsHelper.getElementCSSArrayInt(b,"margin","");this._ViewMargin=lt.Controls.ControlPadding.create(a[3],a[0],a[1],a[2]);b=lt.Controls._elementsHelper.getElementCSSArrayInt(b,"padding","");this._ViewPadding=lt.Controls.ControlPadding.create(b[3],b[0],b[1],b[2])},add_autoItemElementsAdded:function(a){this.__autoItemElementsAdded=ss.Delegate.combine(this.__autoItemElementsAdded,a)},remove_autoItemElementsAdded:function(a){this.__autoItemElementsAdded=ss.Delegate.remove(this.__autoItemElementsAdded,
a)},__autoItemElementsAdded_handler_get:function(){null==this.__autoItemElementsAdded_handler&&(this.__autoItemElementsAdded_handler=ss.EventHandler.create(this,this.add_autoItemElementsAdded,this.remove_autoItemElementsAdded));return this.__autoItemElementsAdded_handler},__autoItemElementsAdded:null,__autoItemElementsAdded_handler:null,onAutoItemElementsAdded:function(a){null!=this.__autoItemElementsAdded&&this.__autoItemElementsAdded(this,a)},add_autoItemElementsRemoved:function(a){this.__autoItemElementsRemoved=
ss.Delegate.combine(this.__autoItemElementsRemoved,a)},remove_autoItemElementsRemoved:function(a){this.__autoItemElementsRemoved=ss.Delegate.remove(this.__autoItemElementsRemoved,a)},__autoItemElementsRemoved_handler_get:function(){null==this.__autoItemElementsRemoved_handler&&(this.__autoItemElementsRemoved_handler=ss.EventHandler.create(this,this.add_autoItemElementsRemoved,this.remove_autoItemElementsRemoved));return this.__autoItemElementsRemoved_handler},__autoItemElementsRemoved:null,__autoItemElementsRemoved_handler:null,
onAutoItemElementsRemoved:function(a){null!=this.__autoItemElementsRemoved&&this.__autoItemElementsRemoved(this,a)},add_elementsUpdated:function(a){this.__elementsUpdated=ss.Delegate.combine(this.__elementsUpdated,a)},remove_elementsUpdated:function(a){this.__elementsUpdated=ss.Delegate.remove(this.__elementsUpdated,a)},__elementsUpdated_handler_get:function(){null==this.__elementsUpdated_handler&&(this.__elementsUpdated_handler=ss.EventHandler.create(this,this.add_elementsUpdated,this.remove_elementsUpdated));
return this.__elementsUpdated_handler},__elementsUpdated:null,__elementsUpdated_handler:null,onElementsUpdated:function(a){null!=this.__elementsUpdated&&this.__elementsUpdated(this,a)},_elementsViewTransitionEventSent:!1,_updateViewElement:function(){this._elementsViewTransitionEventSent=!1;if(this._useElements){var a=this.getViewBounds(!0,!1),b;if(this._useElementsOptions.get_autoRemoveItemElements()){b=this._getClientRectangle();var c=10+this._ViewMargin.get_top()+this._ViewBorderThickness+this._ViewPadding.get_top(),
d=10+this._ViewMargin.get_left()+this._ViewBorderThickness+this._ViewPadding.get_left();b.inflate(d,c);b=lt.LeadRectD.intersectRects(b,a)}else b=a;c=b.clone();c=lt.Controls.PaddingHelper.removeFromRectD(c,this.get_viewPadding());d=this.get_viewBorderThickness();c.inflate(-d,-d);c=lt.Controls.PaddingHelper.removeFromRectD(c,this.get_viewMargin());this._viewDiv.style.width=c.get_width().toString()+"px";this._viewDiv.style.height=c.get_height().toString()+"px";lt.Controls.ImageViewer._convertToElementCSSTransform(this._viewDiv,
lt.LeadMatrix.create(1,0,0,1,b.get_x(),b.get_y()));this._viewElementInflationOffset=lt.LeadPointD.create(a.get_x()-b.get_x(),a.get_y()-b.get_y());null!=this._passthroughDiv&&(a=a.clone(),a=lt.Controls.PaddingHelper.removeFromRectD(a,this._ViewMargin),this._useElementsOptions.get_autoRemoveItemElements()&&(b=this._getClientRectangle(),c=10+this._ViewBorderThickness+this._ViewPadding.get_top(),d=10+this._ViewBorderThickness+this._ViewPadding.get_left(),b.inflate(d,c),a=lt.LeadRectD.intersectRects(b,
a)),this._passthroughDiv.style.width=a.get_width().toString()+"px",this._passthroughDiv.style.height=a.get_height().toString()+"px",lt.Controls.ImageViewer._convertToElementCSSTransform(this._passthroughDiv,lt.LeadMatrix.create(1,0,0,1,a.get_x(),a.get_y())));this._updateViewElementDisplay()}},_updateViewElementDisplay:function(){this.get_useElements()&&(1>this._items.get_count()?(lt.LTHelper.addClass(this._viewDiv,"lt_no_display"),null!=this._passthroughDiv&&lt.LTHelper.addClass(this._passthroughDiv,
"lt_no_display")):(lt.LTHelper.removeClass(this._viewDiv,"lt_no_display"),null!=this._passthroughDiv&&lt.LTHelper.removeClass(this._passthroughDiv,"lt_no_display")))},_updateItemElement:function(a,b,c,d,e,f){if(this._useElements){var g=!c.propsChanged&&!b._itemChanged&&!b._itemImageChanged&&!b._itemBackImageChanged,h=!1;if(this._useElementsOptions.get_autoRemoveItemElements()){if(!e&&null!=b.get_itemElement()?c.stillHidden?(this.onAutoItemElementsRemoved(a),f.add(b)):c.stillHidden=!0:e&&null==b.get_itemElement()&&
(b._createItemElements(),this.onAutoItemElementsAdded(a),this._disableTransitionsOnItem(b),h=!0,null!=b.get_url()&&!b.get_hasImage()&&b._updateFromUrl(b.get_url(),b.get_resolution()),g=!1),e&&c.stillHidden)c.stillHidden=!1}else null==b.get_itemElement()&&(e?(b._createItemElements(),g=!1):g=!0);if(g)e&&d&&b._renderInterpolation(a,c);else if((b._itemImageChanged||b._itemBackImageChanged)&&this._disableTransitionsOnItem(b),h&&(e=c.removedItemOffset,e.get_isEmpty()||(f=lt.LeadMatrix.get_identity(),f.set_offsetX(e.get_x()),
f.set_offsetY(e.get_y()),null!=b.get_itemElement()&&!lt.LeadMatrix.equals(b._itemElement_DOM_Transform,f)&&(b._itemElement_DOM_Transform=f.clone(),lt.Controls.ImageViewer._convertToElementCSSTransform(b.get_itemElement(),f)),c.removedItemOffset=lt.LeadPointD.get_empty()),this._enableTransitionsOnItem(b)),e=this.getItemBounds(b,2),e.get_isEmpty()&&null!=b.get_itemElement()&&(lt.LTHelper.addClass(b.get_itemElement(),"lt_no_display"),null!=this._passthroughDiv&&lt.LTHelper.addClass(b.get_imageClippingElement(),
"lt_no_display")),f=lt.LeadMatrix.get_identity(),g=c.itemElementOffset,f.set_offsetX(e.get_x()-g.get_x()+this._viewElementInflationOffset.get_x()),f.set_offsetY(e.get_y()-g.get_y()+this._viewElementInflationOffset.get_y()),this._useElementsOptions.get_autoRemoveItemElements()&&null==b.get_itemElement())c.removedItemOffset=lt.LeadPointD.create(f.get_offsetX(),f.get_offsetY()),lt.Controls.ImageViewer._postRenderItemCleanup(b,c);else{if(null!=b.get_itemElement()&&(b._itemElement_DOM_Width!==e.get_width()&&
(b._itemElement_DOM_Width=e.get_width(),b.get_itemElement().style.width=e.get_width().toString()+"px"),b._itemElement_DOM_Height!==e.get_height()&&(b._itemElement_DOM_Height=e.get_height(),b.get_itemElement().style.height=e.get_height().toString()+"px"),!lt.LeadMatrix.equals(b._itemElement_DOM_Transform,f)))b._itemElement_DOM_Transform=f.clone(),lt.Controls.ImageViewer._convertToElementCSSTransform(b.get_itemElement(),f);b._imageClippingElement_DOM_Width!==e.get_width()&&(b._imageClippingElement_DOM_Width=
e.get_width(),b.get_imageClippingElement().style.width=e.get_width().toString()+"px");b._imageClippingElement_DOM_Height!==e.get_height()&&(b._imageClippingElement_DOM_Height=e.get_height(),b.get_imageClippingElement().style.height=e.get_height().toString()+"px");g=lt.LeadMatrix.get_identity();if(null!=this._passthroughDiv&&b.get__hasHTMLAsImage()||lt.Controls._elementsHelper.isSvgElement(b.get_element()))g=f.clone(),g.set_offsetX(g.get_offsetX()+this._ItemMargin.get_left()+this._ItemBorderThickness+
this._ItemPadding.get_left()+this._ViewBorderThickness+this._ViewPadding.get_left()),g.set_offsetY(g.get_offsetY()+this._ItemMargin.get_top()+this._ItemBorderThickness+this._ItemPadding.get_top()+this._ViewBorderThickness+this._ViewPadding.get_top());lt.LeadMatrix.equals(b._imageClippingElement_DOM_Transform,g)||(b._imageClippingElement_DOM_Transform=g.clone(),lt.Controls.ImageViewer._convertToElementCSSTransform(b.get_imageClippingElement(),g));b._updateClippingElement();if(null!=b.get_itemElement()){f=
this.get_isTransitionsEnabled()&&this._isTransitionsEnabledOnItem(b);g=new lt.Controls.ImageViewerElementsUpdatedEventArgs;g._setTransitioning(f);if(!f||!this._elementsViewTransitionEventSent)this._elementsViewTransitionEventSent=!0,h=new lt.Controls.ImageViewerElementsUpdatedEventArgs,h._setTransitioning(f),this.onElementsUpdated(h);this.onElementsUpdated(g)}this._updateItemInnerElements(b,c,e);lt.Controls.ImageViewer._postRenderItemCleanup(b,c);d&&b._renderInterpolation(a,c)}}},_updateItemInnerElements:function(a,
b,c){var b=b.imageTransform.clone(),b=lt.LeadPointD.create(lt.Controls.PrimitivesHelper.roundTo(Math.sqrt(Math.pow(b.get_m11(),2)+Math.pow(b.get_m12(),2)),5),lt.Controls.PrimitivesHelper.roundTo(Math.sqrt(Math.pow(b.get_m21(),2)+Math.pow(b.get_m22(),2)),5)),d=a.get_imageScale(),e=a.get_imageSize(),f=lt.LeadPointD.create(b.get_x()*d,b.get_y()*d),g=lt.LeadSizeD.create(e.get_width()*b.get_x(),e.get_height()*b.get_y()),b="";a._modifiedRotationAngle&&(b=String.format("rotate({0}deg)",a._modifiedRotationAngle));
var h=this.getItemViewBounds(a,2,!1),i=this.getItemViewBounds(a,3,!1);this.get_itemBorderThickness();var j=lt.LeadRectD.create(0,0,i.get_width(),i.get_height());j.get_isEmpty()||(j.set_x(i.get_x()-h.get_x()),j.set_y(i.get_y()-h.get_y()));a._imageFlipElement_DOM_Width!==j.get_width()&&(a._imageFlipElement_DOM_Width=j.get_width(),a.get_imageFlipElement().style.width=j.get_width().toString()+"px");a._imageFlipElement_DOM_Height!==j.get_height()&&(a._imageFlipElement_DOM_Height=j.get_height(),a.get_imageFlipElement().style.height=
j.get_height().toString()+"px");var i=String.format("translate({0}px, {1}px)",j.get_left(),j.get_top()),h=a.get_defaultZoomOrigin(),k="";a.get_flip()&&!h.get_isEmpty()&&(k="rotateX(180deg) ");var n="";a.get_reverse()&&!h.get_isEmpty()&&(n="rotateY(180deg) ");i=String.format("{0}{1}{2}",i,k,n);a._imageBorderElement_DOM_Width!==g.get_width()&&(a._imageBorderElement_DOM_Width=g.get_width(),a.get_imageBorderElement().style.width=g.get_width().toString()+"px");a._imageBorderElement_DOM_Height!==g.get_height()&&
(a._imageBorderElement_DOM_Height=g.get_height(),a.get_imageBorderElement().style.height=g.get_height().toString()+"px");if(k=a.get_resizeElementForView()&&(null!=a.get_canvas()||null!=a.get_element()||null!=a.get_image())){var m=a._resizeElementForViewWidth,s=a._resizeElementForViewHeight,n=parseInt(g.get_width()),l=parseInt(g.get_height());if(null!=a.get_canvas()){if(-1===m||-1===s||m!==n||s!==l)a.get_canvas().width=n,a.get_canvas().height=l;a._resizeElementForViewWidth=n;a._resizeElementForViewHeight=
l}else{if(-1===m||-1===s||m!==g.get_width()||s!==g.get_height())m=null!=a.get_image()?a.get_image():a.get_element(),lt.Controls._elementsHelper.isSvgElement(m)||(m.style.width=g.get_width().toString()+"px",m.style.height=g.get_height().toString()+"px");a._resizeElementForViewWidth=g.get_width();a._resizeElementForViewHeight=g.get_height()}null!=a.get_backImage()&&(lt.Controls._elementsHelper.isCanvasElement(a.get_backImage())?(a.get_backImage().width=n,a.get_backImage().height=l):(a.get_backImage().style.width=
g.get_width().toString()+"px",a.get_backImage().style.height=g.get_height().toString()+"px"))}n="";k||(n=String.format("scaleX({0}) scaleY({1})",f.get_x(),f.get_y()));f=lt.LeadPointD.create((j.get_width()-g.get_width())/2,(j.get_height()-g.get_height())/2);g=this.get_imageBorderThickness();g=lt.LeadPointD.create(f.get_x()-g,f.get_y()-g);g=String.format("translateX({0}px) translateY({1}px)",g.get_x(),g.get_y());k||(d=lt.LeadSizeD.create(e.get_width()/d,e.get_height()/d),f=lt.LeadPointD.create((j.get_width()-
d.get_width())/2,(j.get_height()-d.get_height())/2));d=String.format("translateX({0}px) translateY({1}px)",f.get_x(),f.get_y());e=String.format("{0} {1}",g,b);j="";a.get_flipImageElement()&&!h.get_isEmpty()&&(j="rotateX(180deg) ");f="";a.get_reverseImageElement()&&!h.get_isEmpty()&&(f="rotateY(180deg)");b=String.format("{0} {1} {2} {3} {4}",d,n,b,j,f);a._imageFlipElement_DOM_TransformString!==i&&(a._imageFlipElement_DOM_TransformString=i,lt.Controls.ImageViewer._setElementCSSTransform(a.get_imageFlipElement(),
i));a._imageBorderElement_DOM_TransformString!==e&&(a._imageBorderElement_DOM_TransformString=e,lt.Controls.ImageViewer._setElementCSSTransform(a.get_imageBorderElement(),e));null!=a.get_imageElement()&&a._imageElement_DOM_TransformString!==b&&(a._imageElement_DOM_TransformString=b,lt.Controls.ImageViewer._setElementCSSTransform(a.get_imageElement(),b));null!=a.get_backImageElement()&&a._backImageElement_DOM_TransformString!==b&&(a._backImageElement_DOM_TransformString=b,lt.Controls.ImageViewer._setElementCSSTransform(a.get_backImageElement(),
b));if(null!=a.get_imageElement()||null!=a.get_backImageElement())this._isTransitionsEnabledOnItem(a)||this._enableTransitionsOnItem(a);!c.get_isEmpty()&&null!=a.get_itemElement()&&(lt.LTHelper.removeClass(a.get_itemElement(),"lt_no_display"),null!=this._passthroughDiv&&lt.LTHelper.removeClass(a.get_imageClippingElement(),"lt_no_display"))},_updatedAllItemElements:function(a,b){if(0<b.length){this.beginTransform();for(var c=0;c<b.length;c++){var d=b[c];null!=d&&d._deleteItemElements(!0)}this.endTransform()}},
_transitionsEnabledCounter:0,disableTransitions:function(){if(this.get_useElements()){var a=lt.Controls.ImageViewerSyncManager.beginSync(this._syncId);this._transitionsEnabledCounter++;1===this._transitionsEnabledCounter&&(lt.LTHelper.addClass(this._viewDiv,"lt_no_transition"),null!=this._passthroughDiv&&lt.LTHelper.addClass(this._passthroughDiv,"lt_no_transition"));if(this._isSyncSource&&null!=a)for(var b=0;b<a.length;b++){var c=a[b];c!==this&&c.get_isSyncTarget()&&c.disableTransitions()}lt.Controls.ImageViewerSyncManager.endSync(this._syncId)}},
get_isTransitionsEnabled:function(){return 0>=this._transitionsEnabledCounter},enableTransitions:function(){if(this.get_useElements()){var a=lt.Controls.ImageViewerSyncManager.beginSync(this._syncId);if(!this._transitionsEnabledCounter)throw new lt.InvalidOperationException("'EnableTransitions' called without a matching 'DisableTransitions'");this._transitionsEnabledCounter--;this._transitionsEnabledCounter||(lt.Controls._elementsHelper.repaint(this._mainDiv),lt.LTHelper.removeClass(this._viewDiv,
"lt_no_transition"),null!=this._passthroughDiv&&lt.LTHelper.removeClass(this._passthroughDiv,"lt_no_transition"));if(this._isSyncSource&&null!=a)for(var b=0;b<a.length;b++){var c=a[b];c!==this&&c.get_isSyncTarget()&&c.enableTransitions()}lt.Controls.ImageViewerSyncManager.endSync(this._syncId)}},_disableTransitionsOnItem:function(a){null!=a.get_itemElement()&&(lt.LTHelper.addClass(a.get_itemElement(),"lt_item_no_transition"),lt.LTHelper.addClass(a.get_imageClippingElement(),"lt_item_no_transition"))},
_isTransitionsEnabledOnItem:function(a){return null!=a.get_itemElement()?!lt.LTHelper.hasClass(a.get_itemElement(),"lt_item_no_transition"):!1},_enableTransitionsOnItem:function(a){null!=a.get_itemElement()&&(lt.Controls._elementsHelper.repaint(a.get_itemElement()),lt.LTHelper.removeClass(a.get_itemElement(),"lt_item_no_transition"),lt.Controls._elementsHelper.repaint(a.get_itemElement()),lt.LTHelper.removeClass(a.get_imageClippingElement(),"lt_item_no_transition"))},_updateActiveItemElement:function(a){null!=
this._activeItem&&null!=this._activeItem.get_itemElement()&&lt.LTHelper.removeClass(this._activeItem.get_itemElement(),this._useElementsOptions.get_itemActiveClass());null!=a&&null!=a.get_itemElement()&&lt.LTHelper.addClass(a.get_itemElement(),this._useElementsOptions.get_itemActiveClass())},add_imageLoading:function(a){this.__imageLoading=ss.Delegate.combine(this.__imageLoading,a)},remove_imageLoading:function(a){this.__imageLoading=ss.Delegate.remove(this.__imageLoading,a)},__imageLoading_handler_get:function(){null==
this.__imageLoading_handler&&(this.__imageLoading_handler=ss.EventHandler.create(this,this.add_imageLoading,this.remove_imageLoading));return this.__imageLoading_handler},__imageLoading:null,__imageLoading_handler:null,_onImageLoading:function(a){null!=this.__imageLoading&&this.__imageLoading(this,a)}};Object.defineProperty(lt.Controls.ImageViewer.prototype,"propertyChanged",{get:lt.Controls.ImageViewer.prototype.__propertyChanged_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,
"syncId",{get:lt.Controls.ImageViewer.prototype.get_syncId,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"isSyncSource",{get:lt.Controls.ImageViewer.prototype.get_isSyncSource,set:lt.Controls.ImageViewer.prototype.set_isSyncSource,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"isSyncTarget",{get:lt.Controls.ImageViewer.prototype.get_isSyncTarget,set:lt.Controls.ImageViewer.prototype.set_isSyncTarget,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"screenDpi",{get:lt.Controls.ImageViewer.prototype.get_screenDpi,set:lt.Controls.ImageViewer.prototype.set_screenDpi,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"useDpi",{get:lt.Controls.ImageViewer.prototype.get_useDpi,set:lt.Controls.ImageViewer.prototype.set_useDpi,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"scrollMode",{get:lt.Controls.ImageViewer.prototype.get_scrollMode,
set:lt.Controls.ImageViewer.prototype.set_scrollMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"restrictScroll",{get:lt.Controls.ImageViewer.prototype.get_restrictScroll,set:lt.Controls.ImageViewer.prototype.set_restrictScroll,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"scrollOffset",{get:lt.Controls.ImageViewer.prototype.get_scrollOffset,set:lt.Controls.ImageViewer.prototype.set_scrollOffset,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"scrollOffsetChanged",{get:lt.Controls.ImageViewer.prototype.__scrollOffsetChanged_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"maximumScrollSize",{get:lt.Controls.ImageViewer.prototype.get_maximumScrollSize,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"viewBorderThickness",{get:lt.Controls.ImageViewer.prototype.get_viewBorderThickness,
set:lt.Controls.ImageViewer.prototype.set_viewBorderThickness,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"viewBorderColor",{get:lt.Controls.ImageViewer.prototype.get_viewBorderColor,set:lt.Controls.ImageViewer.prototype.set_viewBorderColor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"viewMargin",{get:lt.Controls.ImageViewer.prototype.get_viewMargin,set:lt.Controls.ImageViewer.prototype.set_viewMargin,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"viewPadding",{get:lt.Controls.ImageViewer.prototype.get_viewPadding,set:lt.Controls.ImageViewer.prototype.set_viewPadding,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"viewDropShadow",{get:lt.Controls.ImageViewer.prototype.get_viewDropShadow,set:lt.Controls.ImageViewer.prototype.set_viewDropShadow,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,
"itemBorderThickness",{get:lt.Controls.ImageViewer.prototype.get_itemBorderThickness,set:lt.Controls.ImageViewer.prototype.set_itemBorderThickness,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"itemBorderColor",{get:lt.Controls.ImageViewer.prototype.get_itemBorderColor,set:lt.Controls.ImageViewer.prototype.set_itemBorderColor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"itemMargin",{get:lt.Controls.ImageViewer.prototype.get_itemMargin,
set:lt.Controls.ImageViewer.prototype.set_itemMargin,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"itemPadding",{get:lt.Controls.ImageViewer.prototype.get_itemPadding,set:lt.Controls.ImageViewer.prototype.set_itemPadding,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"imageBorderThickness",{get:lt.Controls.ImageViewer.prototype.get_imageBorderThickness,set:lt.Controls.ImageViewer.prototype.set_imageBorderThickness,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"imageBorderColor",{get:lt.Controls.ImageViewer.prototype.get_imageBorderColor,set:lt.Controls.ImageViewer.prototype.set_imageBorderColor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"imageDropShadow",{get:lt.Controls.ImageViewer.prototype.get_imageDropShadow,set:lt.Controls.ImageViewer.prototype.set_imageDropShadow,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,
"itemSpacing",{get:lt.Controls.ImageViewer.prototype.get_itemSpacing,set:lt.Controls.ImageViewer.prototype.set_itemSpacing,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"itemBackgroundColor",{get:lt.Controls.ImageViewer.prototype.get_itemBackgroundColor,set:lt.Controls.ImageViewer.prototype.set_itemBackgroundColor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"imageBackgroundColor",{get:lt.Controls.ImageViewer.prototype.get_imageBackgroundColor,
set:lt.Controls.ImageViewer.prototype.set_imageBackgroundColor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"selectedItemBorderColor",{get:lt.Controls.ImageViewer.prototype.get_selectedItemBorderColor,set:lt.Controls.ImageViewer.prototype.set_selectedItemBorderColor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"selectedItemBackgroundColor",{get:lt.Controls.ImageViewer.prototype.get_selectedItemBackgroundColor,set:lt.Controls.ImageViewer.prototype.set_selectedItemBackgroundColor,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"hoveredItemBorderColor",{get:lt.Controls.ImageViewer.prototype.get_hoveredItemBorderColor,set:lt.Controls.ImageViewer.prototype.set_hoveredItemBorderColor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"hoveredItemBackgroundColor",{get:lt.Controls.ImageViewer.prototype.get_hoveredItemBackgroundColor,set:lt.Controls.ImageViewer.prototype.set_hoveredItemBackgroundColor,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"activeItemBorderColor",{get:lt.Controls.ImageViewer.prototype.get_activeItemBorderColor,set:lt.Controls.ImageViewer.prototype.set_activeItemBorderColor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"activeItemBackgroundColor",{get:lt.Controls.ImageViewer.prototype.get_activeItemBackgroundColor,set:lt.Controls.ImageViewer.prototype.set_activeItemBackgroundColor,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Controls.ImageViewer.prototype,"itemTextFont",{get:lt.Controls.ImageViewer.prototype.get_itemTextFont,set:lt.Controls.ImageViewer.prototype.set_itemTextFont,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"itemSize",{get:lt.Controls.ImageViewer.prototype.get_itemSize,set:lt.Controls.ImageViewer.prototype.set_itemSize,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"itemSizeMode",{get:lt.Controls.ImageViewer.prototype.get_itemSizeMode,
set:lt.Controls.ImageViewer.prototype.set_itemSizeMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"resizeOnTransform",{get:lt.Controls.ImageViewer.prototype.get_resizeOnTransform,set:lt.Controls.ImageViewer.prototype.set_resizeOnTransform,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"clipImageToContent",{get:lt.Controls.ImageViewer.prototype.get_clipImageToContent,set:lt.Controls.ImageViewer.prototype.set_clipImageToContent,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"imageHorizontalAlignment",{get:lt.Controls.ImageViewer.prototype.get_imageHorizontalAlignment,set:lt.Controls.ImageViewer.prototype.set_imageHorizontalAlignment,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"imageVerticalAlignment",{get:lt.Controls.ImageViewer.prototype.get_imageVerticalAlignment,set:lt.Controls.ImageViewer.prototype.set_imageVerticalAlignment,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"textHorizontalAlignment",{get:lt.Controls.ImageViewer.prototype.get_textHorizontalAlignment,set:lt.Controls.ImageViewer.prototype.set_textHorizontalAlignment,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"textVerticalAlignment",{get:lt.Controls.ImageViewer.prototype.get_textVerticalAlignment,set:lt.Controls.ImageViewer.prototype.set_textVerticalAlignment,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Controls.ImageViewer.prototype,"itemTextWrap",{get:lt.Controls.ImageViewer.prototype.get_itemTextWrap,set:lt.Controls.ImageViewer.prototype.set_itemTextWrap,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"itemTextTrimming",{get:lt.Controls.ImageViewer.prototype.get_itemTextTrimming,set:lt.Controls.ImageViewer.prototype.set_itemTextTrimming,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"itemTextColor",
{get:lt.Controls.ImageViewer.prototype.get_itemTextColor,set:lt.Controls.ImageViewer.prototype.set_itemTextColor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"selectedItemTextColor",{get:lt.Controls.ImageViewer.prototype.get_selectedItemTextColor,set:lt.Controls.ImageViewer.prototype.set_selectedItemTextColor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"items",{get:lt.Controls.ImageViewer.prototype.get_items,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"selectedItemsChanged",{get:lt.Controls.ImageViewer.prototype.__selectedItemsChanged_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"activeItem",{get:lt.Controls.ImageViewer.prototype.get_activeItem,set:lt.Controls.ImageViewer.prototype.set_activeItem,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"activeItemChanged",{get:lt.Controls.ImageViewer.prototype.__activeItemChanged_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"hasItems",{get:lt.Controls.ImageViewer.prototype.get_hasItems,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"viewLayout",{get:lt.Controls.ImageViewer.prototype.get_viewLayout,set:lt.Controls.ImageViewer.prototype.set_viewLayout,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"itemChanged",{get:lt.Controls.ImageViewer.prototype.__itemChanged_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"itemError",{get:lt.Controls.ImageViewer.prototype.__itemError_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"aspectRatioCorrection",{get:lt.Controls.ImageViewer.prototype.get_aspectRatioCorrection,set:lt.Controls.ImageViewer.prototype.set_aspectRatioCorrection,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"viewHorizontalAlignment",
{get:lt.Controls.ImageViewer.prototype.get_viewHorizontalAlignment,set:lt.Controls.ImageViewer.prototype.set_viewHorizontalAlignment,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"viewVerticalAlignment",{get:lt.Controls.ImageViewer.prototype.get_viewVerticalAlignment,set:lt.Controls.ImageViewer.prototype.set_viewVerticalAlignment,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"itemHorizontalAlignment",{get:lt.Controls.ImageViewer.prototype.get_itemHorizontalAlignment,
set:lt.Controls.ImageViewer.prototype.set_itemHorizontalAlignment,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"itemVerticalAlignment",{get:lt.Controls.ImageViewer.prototype.get_itemVerticalAlignment,set:lt.Controls.ImageViewer.prototype.set_itemVerticalAlignment,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"flip",{get:lt.Controls.ImageViewer.prototype.get_flip,set:lt.Controls.ImageViewer.prototype.set_flip,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"reverse",{get:lt.Controls.ImageViewer.prototype.get_reverse,set:lt.Controls.ImageViewer.prototype.set_reverse,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"rotateAngle",{get:lt.Controls.ImageViewer.prototype.get_rotateAngle,set:lt.Controls.ImageViewer.prototype.set_rotateAngle,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"invert",{get:lt.Controls.ImageViewer.prototype.get_invert,
set:lt.Controls.ImageViewer.prototype.set_invert,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"sizeMode",{get:lt.Controls.ImageViewer.prototype.get_sizeMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"maximumScaleFactor",{get:lt.Controls.ImageViewer.prototype.get_maximumScaleFactor,set:lt.Controls.ImageViewer.prototype.set_maximumScaleFactor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,
"minimumScaleFactor",{get:lt.Controls.ImageViewer.prototype.get_minimumScaleFactor,set:lt.Controls.ImageViewer.prototype.set_minimumScaleFactor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"xScaleFactor",{get:lt.Controls.ImageViewer.prototype.get_xScaleFactor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"yScaleFactor",{get:lt.Controls.ImageViewer.prototype.get_yScaleFactor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,
"scaleFactor",{get:lt.Controls.ImageViewer.prototype.get_scaleFactor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"transformChanged",{get:lt.Controls.ImageViewer.prototype.__transformChanged_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"canTransform",{get:lt.Controls.ImageViewer.prototype.get_canTransform,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"viewTransform",
{get:lt.Controls.ImageViewer.prototype.get_viewTransform,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"viewSize",{get:lt.Controls.ImageViewer.prototype.get_viewSize,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"defaultZoomOrigin",{get:lt.Controls.ImageViewer.prototype.get_defaultZoomOrigin,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"ownerDraw",{get:lt.Controls.ImageViewer.prototype.get_ownerDraw,
set:lt.Controls.ImageViewer.prototype.set_ownerDraw,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"imageRegionRenderMode",{get:lt.Controls.ImageViewer.prototype.get_imageRegionRenderMode,set:lt.Controls.ImageViewer.prototype.set_imageRegionRenderMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"floaterRegionRenderMode",{get:lt.Controls.ImageViewer.prototype.get_floaterRegionRenderMode,set:lt.Controls.ImageViewer.prototype.set_floaterRegionRenderMode,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"floaterOpacity",{get:lt.Controls.ImageViewer.prototype.get_floaterOpacity,set:lt.Controls.ImageViewer.prototype.set_floaterOpacity,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"canRender",{get:lt.Controls.ImageViewer.prototype.get_canRender,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"isRenderRedirected",{get:lt.Controls.ImageViewer.prototype.get_isRenderRedirected,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"redirectRender",{get:lt.Controls.ImageViewer.prototype.__redirectRender_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"renderError",{get:lt.Controls.ImageViewer.prototype.__renderError_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"preRender",{get:lt.Controls.ImageViewer.prototype.__preRender_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"render",{get:lt.Controls.ImageViewer.prototype.__render_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"postRender",{get:lt.Controls.ImageViewer.prototype.__postRender_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"preRenderItem",{get:lt.Controls.ImageViewer.prototype.__preRenderItem_handler_get,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"renderItem",{get:lt.Controls.ImageViewer.prototype.__renderItem_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"postRenderItem",{get:lt.Controls.ImageViewer.prototype.__postRenderItem_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"renderItemRegion",{get:lt.Controls.ImageViewer.prototype.__renderItemRegion_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"renderItemFloaterRegion",{get:lt.Controls.ImageViewer.prototype.__renderItemFloaterRegion_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"renderItemFloater",{get:lt.Controls.ImageViewer.prototype.__renderItemFloater_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"renderShadow",{get:lt.Controls.ImageViewer.prototype.__renderShadow_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"renderBorder",{get:lt.Controls.ImageViewer.prototype.__renderBorder_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"renderBackground",{get:lt.Controls.ImageViewer.prototype.__renderBackground_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"renderImage",{get:lt.Controls.ImageViewer.prototype.__renderImage_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"renderText",{get:lt.Controls.ImageViewer.prototype.__renderText_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"interactiveService",{get:lt.Controls.ImageViewer.prototype.get_interactiveService,set:lt.Controls.ImageViewer.prototype.set_interactiveService,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"interactiveModes",
{get:lt.Controls.ImageViewer.prototype.get_interactiveModes,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"workingInteractiveMode",{get:lt.Controls.ImageViewer.prototype.get_workingInteractiveMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"idleInteractiveMode",{get:lt.Controls.ImageViewer.prototype.get_idleInteractiveMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"hitTestStateInteractiveMode",
{get:lt.Controls.ImageViewer.prototype.get_hitTestStateInteractiveMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"defaultInteractiveMode",{get:lt.Controls.ImageViewer.prototype.get_defaultInteractiveMode,set:lt.Controls.ImageViewer.prototype.set_defaultInteractiveMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"dropCopyKeyState",{get:lt.Controls.ImageViewer.prototype.get_dropCopyKeyState,set:lt.Controls.ImageViewer.prototype.set_dropCopyKeyState,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"dropMoveKeyState",{get:lt.Controls.ImageViewer.prototype.get_dropMoveKeyState,set:lt.Controls.ImageViewer.prototype.set_dropMoveKeyState,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"dropLinkKeyState",{get:lt.Controls.ImageViewer.prototype.get_dropLinkKeyState,set:lt.Controls.ImageViewer.prototype.set_dropLinkKeyState,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,
"itemDragDrop",{get:lt.Controls.ImageViewer.prototype.__itemDragDrop_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"imageResolution",{get:lt.Controls.ImageViewer.prototype.get_imageResolution,set:lt.Controls.ImageViewer.prototype.set_imageResolution,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"imageSize",{get:lt.Controls.ImageViewer.prototype.get_imageSize,set:lt.Controls.ImageViewer.prototype.set_imageSize,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"imageScale",{get:lt.Controls.ImageViewer.prototype.get_imageScale,set:lt.Controls.ImageViewer.prototype.set_imageScale,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"hasImage",{get:lt.Controls.ImageViewer.prototype.get_hasImage,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"imageTransform",{get:lt.Controls.ImageViewer.prototype.get_imageTransform,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"floaterTransform",{get:lt.Controls.ImageViewer.prototype.get_floaterTransform,set:lt.Controls.ImageViewer.prototype.set_floaterTransform,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"autoResetOptions",{get:lt.Controls.ImageViewer.prototype.get_autoResetOptions,set:lt.Controls.ImageViewer.prototype.set_autoResetOptions,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,
"imageBounds",{get:lt.Controls.ImageViewer.prototype.get_imageBounds,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"viewBounds",{get:lt.Controls.ImageViewer.prototype.get_viewBounds,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"useElements",{get:lt.Controls.ImageViewer.prototype.get_useElements,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"tag",{get:lt.Controls.ImageViewer.prototype.get_tag,
set:lt.Controls.ImageViewer.prototype.set_tag,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"imagesDiv",{get:lt.Controls.ImageViewer.prototype.get_imagesDiv,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"mainDiv",{get:lt.Controls.ImageViewer.prototype.get_mainDiv,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"autoScrollDiv",{get:lt.Controls.ImageViewer.prototype.get_autoScrollDiv,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"foreCanvas",{get:lt.Controls.ImageViewer.prototype.get_foreCanvas,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"eventCanvas",{get:lt.Controls.ImageViewer.prototype.get_eventCanvas,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"passthroughDiv",{get:lt.Controls.ImageViewer.prototype.get_passthroughDiv,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Controls.ImageViewer.prototype,"viewDiv",{get:lt.Controls.ImageViewer.prototype.get_viewDiv,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"viewDivHolder",{get:lt.Controls.ImageViewer.prototype.get_viewDivHolder,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"controlSize",{get:lt.Controls.ImageViewer.prototype.get_controlSize,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,
"hasSize",{get:lt.Controls.ImageViewer.prototype.get_hasSize,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"enableRequestAnimationFrame",{get:lt.Controls.ImageViewer.prototype.get_enableRequestAnimationFrame,set:lt.Controls.ImageViewer.prototype.set_enableRequestAnimationFrame,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"autoCreateCanvas",{get:lt.Controls.ImageViewer.prototype.get_autoCreateCanvas,set:lt.Controls.ImageViewer.prototype.set_autoCreateCanvas,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"resizeElementForView",{get:lt.Controls.ImageViewer.prototype.get_resizeElementForView,set:lt.Controls.ImageViewer.prototype.set_resizeElementForView,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"foreCanvasSizeChanged",{get:lt.Controls.ImageViewer.prototype.__foreCanvasSizeChanged_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer,
"imageProcessingLibrariesPath",{get:lt.Controls.ImageViewer.get_imageProcessingLibrariesPath,set:lt.Controls.ImageViewer.set_imageProcessingLibrariesPath,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"eraseBackgroundOnInvalidate",{get:lt.Controls.ImageViewer.prototype.get_eraseBackgroundOnInvalidate,set:lt.Controls.ImageViewer.prototype.set_eraseBackgroundOnInvalidate,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,
"eraseBackground",{get:lt.Controls.ImageViewer.prototype.__eraseBackground_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"allowDrop",{get:lt.Controls.ImageViewer.prototype.get_allowDrop,set:lt.Controls.ImageViewer.prototype.set_allowDrop,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"interpolationRunMode",{get:lt.Controls.ImageViewer.prototype.get_interpolationRunMode,set:lt.Controls.ImageViewer.prototype.set_interpolationRunMode,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"interpolationMode",{get:lt.Controls.ImageViewer.prototype.get_interpolationMode,set:lt.Controls.ImageViewer.prototype.set_interpolationMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"interpolation",{get:lt.Controls.ImageViewer.prototype.__interpolation_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"image",{get:lt.Controls.ImageViewer.prototype.get_image,
set:lt.Controls.ImageViewer.prototype.set_image,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"element",{get:lt.Controls.ImageViewer.prototype.get_element,set:lt.Controls.ImageViewer.prototype.set_element,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"canvas",{get:lt.Controls.ImageViewer.prototype.get_canvas,set:lt.Controls.ImageViewer.prototype.set_canvas,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,
"imageUrl",{get:lt.Controls.ImageViewer.prototype.get_imageUrl,set:lt.Controls.ImageViewer.prototype.set_imageUrl,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"backImageUrl",{get:lt.Controls.ImageViewer.prototype.get_backImageUrl,set:lt.Controls.ImageViewer.prototype.set_backImageUrl,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"backImage",{get:lt.Controls.ImageViewer.prototype.get_backImage,set:lt.Controls.ImageViewer.prototype.set_backImage,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"floater",{get:lt.Controls.ImageViewer.prototype.get_floater,set:lt.Controls.ImageViewer.prototype.set_floater,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"loadImageUrlMode",{get:lt.Controls.ImageViewer.prototype.get_loadImageUrlMode,set:lt.Controls.ImageViewer.prototype.set_loadImageUrlMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,
"backImageLoadImageUrlMode",{get:lt.Controls.ImageViewer.prototype.get_backImageLoadImageUrlMode,set:lt.Controls.ImageViewer.prototype.set_backImageLoadImageUrlMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"updateShadowOnRotation",{get:lt.Controls.ImageViewer.prototype.get_updateShadowOnRotation,set:lt.Controls.ImageViewer.prototype.set_updateShadowOnRotation,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"flipImageElement",
{get:lt.Controls.ImageViewer.prototype.get_flipImageElement,set:lt.Controls.ImageViewer.prototype.set_flipImageElement,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"reverseImageElement",{get:lt.Controls.ImageViewer.prototype.get_reverseImageElement,set:lt.Controls.ImageViewer.prototype.set_reverseImageElement,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"autoItemElementsAdded",{get:lt.Controls.ImageViewer.prototype.__autoItemElementsAdded_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"autoItemElementsRemoved",{get:lt.Controls.ImageViewer.prototype.__autoItemElementsRemoved_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"elementsUpdated",{get:lt.Controls.ImageViewer.prototype.__elementsUpdated_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"isTransitionsEnabled",{get:lt.Controls.ImageViewer.prototype.get_isTransitionsEnabled,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"imageLoading",{get:lt.Controls.ImageViewer.prototype.__imageLoading_handler_get,enumerable:!0,configurable:!0});lt.Controls._imageViewerGroup=function(){};lt.Controls._imageViewerGroup.get_count=function(){return lt.Controls._imageViewerGroup._count};lt.Controls._imageViewerGroup.get_elementsModeCount=function(){return lt.Controls._imageViewerGroup._elementsModeCount};lt.Controls._imageViewerGroup.prefixCount=
function(a){return lt.Controls._imageViewerGroup._prefixes[a]};lt.Controls._imageViewerGroup.namespaceCount=function(a){return lt.Controls._imageViewerGroup._namespaces[a]};lt.Controls._imageViewerGroup.addViewer=function(a){lt.Controls._imageViewerGroup._viewers[lt.Controls._imageViewerGroup._count++]=a;if(a.get_useElements()){lt.Controls._imageViewerGroup._elementsModeCount++;var b=a._useElementsOptions.get_classPrefix();lt.Controls._imageViewerGroup._prefixes[b]=lt.Controls._imageViewerGroup._prefixes[b]?
lt.Controls._imageViewerGroup._prefixes[b]+1:1}a=a._options.get_parentDivClass();lt.Controls._imageViewerGroup._namespaces[a]=lt.Controls._imageViewerGroup._namespaces[a]?lt.Controls._imageViewerGroup._namespaces[a]+1:1;return lt.Controls._imageViewerGroup._count};lt.Controls._imageViewerGroup.removeViewer=function(a){for(var b=0;b<lt.Controls._imageViewerGroup._count;b++)if(lt.Controls._imageViewerGroup._viewers[b]===a)return lt.Controls._imageViewerGroup._viewers.splice(b,1),a.get_useElements()&&
(lt.Controls._imageViewerGroup._elementsModeCount--,b=a._useElementsOptions.get_classPrefix(),0<lt.Controls._imageViewerGroup._prefixes[b]&&(lt.Controls._imageViewerGroup._prefixes[b]-=1)),a=a._options.get_parentDivClass(),0<lt.Controls._imageViewerGroup._namespaces[a]&&(lt.Controls._imageViewerGroup._namespaces[a]-=1),--lt.Controls._imageViewerGroup._count;return-1};lt.Controls.ImageViewerImageLoadingEventArgs=function(a,b,c){lt.Controls.ImageViewerImageLoadingEventArgs.initializeBase(this);this._imageLoader$1=
a;this._item$1=b;this._isBackImage$1=c};lt.Controls.ImageViewerImageLoadingEventArgs.prototype={_imageLoader$1:null,get_imageLoader:function(){return this._imageLoader$1},_item$1:null,get_item:function(){return this._item$1},_isBackImage$1:!1,get_isBackImage:function(){return this._isBackImage$1}};Object.defineProperty(lt.Controls.ImageViewerImageLoadingEventArgs.prototype,"imageLoader",{get:lt.Controls.ImageViewerImageLoadingEventArgs.prototype.get_imageLoader,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerImageLoadingEventArgs.prototype,
"item",{get:lt.Controls.ImageViewerImageLoadingEventArgs.prototype.get_item,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerImageLoadingEventArgs.prototype,"isBackImage",{get:lt.Controls.ImageViewerImageLoadingEventArgs.prototype.get_isBackImage,enumerable:!0,configurable:!0});lt.Controls.ImageViewerCreateOptions=function(a){this._parentDiv=a};lt.Controls.ImageViewerCreateOptions.prototype={_useElements:!1,get_useElements:function(){return this._useElements},set_useElements:function(a){return this._useElements=
a},_elementsModeCreateOptions:null,get_elementsModeOptions:function(){return this._elementsModeCreateOptions},set_elementsModeOptions:function(a){return this._elementsModeCreateOptions=a},_parentDiv:null,get_parentDiv:function(){return this._parentDiv},set_parentDiv:function(a){return this._parentDiv=a},_parentDivClass:"lt-imageviewer",get_parentDivClass:function(){return this._parentDivClass},set_parentDivClass:function(a){return this._parentDivClass=a},_viewlayout:null,get_viewLayout:function(){return this._viewlayout},
set_viewLayout:function(a){return this._viewlayout=a}};Object.defineProperty(lt.Controls.ImageViewerCreateOptions.prototype,"useElements",{get:lt.Controls.ImageViewerCreateOptions.prototype.get_useElements,set:lt.Controls.ImageViewerCreateOptions.prototype.set_useElements,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerCreateOptions.prototype,"elementsModeOptions",{get:lt.Controls.ImageViewerCreateOptions.prototype.get_elementsModeOptions,set:lt.Controls.ImageViewerCreateOptions.prototype.set_elementsModeOptions,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerCreateOptions.prototype,"parentDiv",{get:lt.Controls.ImageViewerCreateOptions.prototype.get_parentDiv,set:lt.Controls.ImageViewerCreateOptions.prototype.set_parentDiv,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerCreateOptions.prototype,"parentDivClass",{get:lt.Controls.ImageViewerCreateOptions.prototype.get_parentDivClass,set:lt.Controls.ImageViewerCreateOptions.prototype.set_parentDivClass,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerCreateOptions.prototype,"viewLayout",{get:lt.Controls.ImageViewerCreateOptions.prototype.get_viewLayout,set:lt.Controls.ImageViewerCreateOptions.prototype.set_viewLayout,enumerable:!0,configurable:!0});lt.Controls.ImageViewerElementsModeCreateOptions=function(){this._classPrefix="lt";this._viewElementClass="view";this._itemElementClass="item";this._itemImageElementClass="image";this._itemBackImageElementClass="backimage";
this._itemImageBorderElementClass="image-border";this._itemImageClippingElementClass="image-clipping";this._itemImageFlipElementClass="image-flip";this._itemTextElementClass="item-text";this._itemHoverClass="item-hovered";this._itemSelectClass="item-selected";this._itemActiveClass="item-active";this._itemImageLoadingClass="image-loading";this._itemImageLoadedClass="image-loaded"};lt.Controls.ImageViewerElementsModeCreateOptions.prototype={_autoRemoveItemElements:!0,get_autoRemoveItemElements:function(){return this._autoRemoveItemElements},
set_autoRemoveItemElements:function(a){return this._autoRemoveItemElements=a},clone:function(a){var b=new lt.Controls.ImageViewerElementsModeCreateOptions;b.set_classPrefix(this._classPrefix);var c="";a&&null!=this._classPrefix&&0<this._classPrefix.length&&(c=this._classPrefix+"-");b.set_autoRemoveItemElements(this._autoRemoveItemElements);b.set_viewElementClass(c+this._viewElementClass);b.set_itemElementClass(c+this._itemElementClass);b.set_itemImageElementClass(c+this._itemImageElementClass);b.set_itemBackImageElementClass(c+
this._itemBackImageElementClass);b.set_itemImageClippingElementClass(c+this._itemImageClippingElementClass);b.set_itemImageFlipElementClass(c+this._itemImageFlipElementClass);b.set_itemImageBorderElementClass(c+this._itemImageBorderElementClass);b.set_itemTextElementClass(c+this._itemTextElementClass);b.set_itemHoverClass(c+this._itemHoverClass);b.set_itemSelectClass(c+this._itemSelectClass);b.set_itemActiveClass(c+this._itemActiveClass);b.set_itemImageLoadingClass(c+this._itemImageLoadingClass);
b.set_itemImageLoadedClass(c+this._itemImageLoadedClass);return b},get_classPrefix:function(){return this._classPrefix},set_classPrefix:function(a){return this._classPrefix=a},get_viewElementClass:function(){return this._viewElementClass},set_viewElementClass:function(a){return this._viewElementClass=a},get_itemElementClass:function(){return this._itemElementClass},set_itemElementClass:function(a){return this._itemElementClass=a},get_itemImageElementClass:function(){return this._itemImageElementClass},
set_itemImageElementClass:function(a){return this._itemImageElementClass=a},get_itemBackImageElementClass:function(){return this._itemBackImageElementClass},set_itemBackImageElementClass:function(a){return this._itemBackImageElementClass=a},get_itemImageBorderElementClass:function(){return this._itemImageBorderElementClass},set_itemImageBorderElementClass:function(a){return this._itemImageBorderElementClass=a},get_itemImageClippingElementClass:function(){return this._itemImageClippingElementClass},
set_itemImageClippingElementClass:function(a){return this._itemImageClippingElementClass=a},get_itemImageFlipElementClass:function(){return this._itemImageFlipElementClass},set_itemImageFlipElementClass:function(a){return this._itemImageFlipElementClass=a},get_itemTextElementClass:function(){return this._itemTextElementClass},set_itemTextElementClass:function(a){return this._itemTextElementClass=a},get_itemHoverClass:function(){return this._itemHoverClass},set_itemHoverClass:function(a){return this._itemHoverClass=
a},get_itemSelectClass:function(){return this._itemSelectClass},set_itemSelectClass:function(a){return this._itemSelectClass=a},get_itemActiveClass:function(){return this._itemActiveClass},set_itemActiveClass:function(a){return this._itemActiveClass=a},get_itemImageLoadingClass:function(){return this._itemImageLoadingClass},set_itemImageLoadingClass:function(a){return this._itemImageLoadingClass=a},get_itemImageLoadedClass:function(){return this._itemImageLoadedClass},set_itemImageLoadedClass:function(a){return this._itemImageLoadedClass=
a}};Object.defineProperty(lt.Controls.ImageViewerElementsModeCreateOptions.prototype,"autoRemoveItemElements",{get:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.get_autoRemoveItemElements,set:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.set_autoRemoveItemElements,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerElementsModeCreateOptions.prototype,"classPrefix",{get:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.get_classPrefix,set:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.set_classPrefix,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerElementsModeCreateOptions.prototype,"viewElementClass",{get:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.get_viewElementClass,set:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.set_viewElementClass,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerElementsModeCreateOptions.prototype,"itemElementClass",{get:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.get_itemElementClass,
set:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.set_itemElementClass,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerElementsModeCreateOptions.prototype,"itemImageElementClass",{get:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.get_itemImageElementClass,set:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.set_itemImageElementClass,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerElementsModeCreateOptions.prototype,
"itemBackImageElementClass",{get:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.get_itemBackImageElementClass,set:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.set_itemBackImageElementClass,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerElementsModeCreateOptions.prototype,"itemImageBorderElementClass",{get:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.get_itemImageBorderElementClass,set:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.set_itemImageBorderElementClass,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerElementsModeCreateOptions.prototype,"itemImageClippingElementClass",{get:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.get_itemImageClippingElementClass,set:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.set_itemImageClippingElementClass,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerElementsModeCreateOptions.prototype,"itemImageFlipElementClass",{get:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.get_itemImageFlipElementClass,
set:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.set_itemImageFlipElementClass,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerElementsModeCreateOptions.prototype,"itemTextElementClass",{get:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.get_itemTextElementClass,set:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.set_itemTextElementClass,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerElementsModeCreateOptions.prototype,
"itemHoverClass",{get:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.get_itemHoverClass,set:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.set_itemHoverClass,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerElementsModeCreateOptions.prototype,"itemSelectClass",{get:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.get_itemSelectClass,set:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.set_itemSelectClass,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Controls.ImageViewerElementsModeCreateOptions.prototype,"itemActiveClass",{get:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.get_itemActiveClass,set:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.set_itemActiveClass,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerElementsModeCreateOptions.prototype,"itemImageLoadingClass",{get:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.get_itemImageLoadingClass,set:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.set_itemImageLoadingClass,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerElementsModeCreateOptions.prototype,"itemImageLoadedClass",{get:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.get_itemImageLoadedClass,set:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.set_itemImageLoadedClass,enumerable:!0,configurable:!0});lt.Controls.ImageViewerRenderEventArgs=function(a,b){lt.Controls.ImageViewerRenderEventArgs.initializeBase(this);lt.Controls.ControlsHelper.checkIfNull(b,"clipRectangle");
this._context$1=a;this._clipRectangle$1=b.clone()};lt.Controls.ImageViewerRenderEventArgs.createForControl=function(a){if(null==a)return null;var b=a.getContext("2d");if(null==b)return null;a=lt.LeadRectD.create(0,0,a.width,a.height);return new lt.Controls.ImageViewerRenderEventArgs(b,a)};lt.Controls.ImageViewerRenderEventArgs.destroyForControl=function(a){null!=a&&(a._context$1=null,a._item$1=null)};lt.Controls.ImageViewerRenderEventArgs.prototype={_item$1:null,get_item:function(){return this._item$1},
_part$1:0,get_part:function(){return this._part$1},_setFor:function(a,b){this._item$1=a;this._part$1=b},_setError:function(a){this._error$1=a},_error$1:null,get_error:function(){return this._error$1},_clipRectangle$1:null,get_clipRectangle:function(){return this._clipRectangle$1.clone()},_context$1:null,get_context:function(){return this._context$1},get__autoClip:function(){return!1}};Object.defineProperty(lt.Controls.ImageViewerRenderEventArgs.prototype,"item",{get:lt.Controls.ImageViewerRenderEventArgs.prototype.get_item,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRenderEventArgs.prototype,"part",{get:lt.Controls.ImageViewerRenderEventArgs.prototype.get_part,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRenderEventArgs.prototype,"error",{get:lt.Controls.ImageViewerRenderEventArgs.prototype.get_error,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRenderEventArgs.prototype,"clipRectangle",{get:lt.Controls.ImageViewerRenderEventArgs.prototype.get_clipRectangle,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRenderEventArgs.prototype,"context",{get:lt.Controls.ImageViewerRenderEventArgs.prototype.get_context,enumerable:!0,configurable:!0});lt.Controls.ImageViewerItemChangedEventArgs=function(){lt.Controls.ImageViewerItemChangedEventArgs.initializeBase(this)};lt.Controls.ImageViewerItemChangedEventArgs.create=function(a,b){var c=new lt.Controls.ImageViewerItemChangedEventArgs;c._item$1=a;c._reason$1=b;return c};lt.Controls.ImageViewerItemChangedEventArgs.prototype=
{_item$1:null,get_item:function(){return this._item$1},_reason$1:0,get_reason:function(){return this._reason$1}};Object.defineProperty(lt.Controls.ImageViewerItemChangedEventArgs.prototype,"item",{get:lt.Controls.ImageViewerItemChangedEventArgs.prototype.get_item,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItemChangedEventArgs.prototype,"reason",{get:lt.Controls.ImageViewerItemChangedEventArgs.prototype.get_reason,enumerable:!0,configurable:!0});lt.Controls.ImageViewerItemErrorEventArgs=
function(){lt.Controls.ImageViewerItemErrorEventArgs.initializeBase(this)};lt.Controls.ImageViewerItemErrorEventArgs.create=function(a,b,c,d){var e=new lt.Controls.ImageViewerItemErrorEventArgs;e._item$1=a;e._reason$1=b;e._data$1=c;e._error$1=d;return e};lt.Controls.ImageViewerItemErrorEventArgs.prototype={_item$1:null,get_item:function(){return this._item$1},_reason$1:0,get_reason:function(){return this._reason$1},_data$1:null,get_data:function(){return this._data$1},_error$1:null,get_error:function(){return this._error$1},
_removeEmptyItem$1:!0,get_removeEmptyItem:function(){return this._removeEmptyItem$1},set_removeEmptyItem:function(a){return this._removeEmptyItem$1=a}};Object.defineProperty(lt.Controls.ImageViewerItemErrorEventArgs.prototype,"item",{get:lt.Controls.ImageViewerItemErrorEventArgs.prototype.get_item,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItemErrorEventArgs.prototype,"reason",{get:lt.Controls.ImageViewerItemErrorEventArgs.prototype.get_reason,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Controls.ImageViewerItemErrorEventArgs.prototype,"data",{get:lt.Controls.ImageViewerItemErrorEventArgs.prototype.get_data,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItemErrorEventArgs.prototype,"error",{get:lt.Controls.ImageViewerItemErrorEventArgs.prototype.get_error,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItemErrorEventArgs.prototype,"removeEmptyItem",{get:lt.Controls.ImageViewerItemErrorEventArgs.prototype.get_removeEmptyItem,
set:lt.Controls.ImageViewerItemErrorEventArgs.prototype.set_removeEmptyItem,enumerable:!0,configurable:!0});lt.Controls.ImageViewerItemDragDropEventArgs=function(){lt.Controls.ImageViewerItemDragDropEventArgs.initializeBase(this)};lt.Controls.ImageViewerItemDragDropEventArgs.prototype={_sourceImageViewer$1:null,get_sourceImageViewer:function(){return this._sourceImageViewer$1},_targetImageViewer$1:null,get_targetImageViewer:function(){return this._targetImageViewer$1},_operation$1:0,get_operation:function(){return this._operation$1},
_location$1:null,get_location:function(){return this._location$1.clone()},_nativeEvent$1:null,get_nativeEvent:function(){return this._nativeEvent$1},_sourceItem$1:null,get_sourceItem:function(){return this._sourceItem$1},_targetItem$1:null,get_targetItem:function(){return this._targetItem$1},set_targetItem:function(a){return this._targetItem$1=a},_effect$1:null,get_effect:function(){return this._effect$1},set_effect:function(a){return this._effect$1=a},_format$1:null,get_format:function(){return this._format$1},
_abort$1:!1,get_abort:function(){return this._abort$1},set_abort:function(a){return this._abort$1=a},_setValues:function(a,b,c,d,e,f){this._sourceImageViewer$1=a;this._targetImageViewer$1=b;this._sourceItem$1=c;this._targetItem$1=d;this._operation$1=e;this._format$1=f},_setNative:function(a,b){this._location$1=a.clone();this._nativeEvent$1=b},_customDragElement$1:null,get_customDragElement:function(){return this._customDragElement$1},_setCustom:function(a,b){this._targetItem$1=a;this._customDragElement$1=
b}};Object.defineProperty(lt.Controls.ImageViewerItemDragDropEventArgs.prototype,"sourceImageViewer",{get:lt.Controls.ImageViewerItemDragDropEventArgs.prototype.get_sourceImageViewer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItemDragDropEventArgs.prototype,"targetImageViewer",{get:lt.Controls.ImageViewerItemDragDropEventArgs.prototype.get_targetImageViewer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItemDragDropEventArgs.prototype,
"operation",{get:lt.Controls.ImageViewerItemDragDropEventArgs.prototype.get_operation,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItemDragDropEventArgs.prototype,"location",{get:lt.Controls.ImageViewerItemDragDropEventArgs.prototype.get_location,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItemDragDropEventArgs.prototype,"nativeEvent",{get:lt.Controls.ImageViewerItemDragDropEventArgs.prototype.get_nativeEvent,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Controls.ImageViewerItemDragDropEventArgs.prototype,"sourceItem",{get:lt.Controls.ImageViewerItemDragDropEventArgs.prototype.get_sourceItem,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItemDragDropEventArgs.prototype,"targetItem",{get:lt.Controls.ImageViewerItemDragDropEventArgs.prototype.get_targetItem,set:lt.Controls.ImageViewerItemDragDropEventArgs.prototype.set_targetItem,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItemDragDropEventArgs.prototype,
"effect",{get:lt.Controls.ImageViewerItemDragDropEventArgs.prototype.get_effect,set:lt.Controls.ImageViewerItemDragDropEventArgs.prototype.set_effect,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItemDragDropEventArgs.prototype,"format",{get:lt.Controls.ImageViewerItemDragDropEventArgs.prototype.get_format,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItemDragDropEventArgs.prototype,"abort",{get:lt.Controls.ImageViewerItemDragDropEventArgs.prototype.get_abort,
set:lt.Controls.ImageViewerItemDragDropEventArgs.prototype.set_abort,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItemDragDropEventArgs.prototype,"customDragElement",{get:lt.Controls.ImageViewerItemDragDropEventArgs.prototype.get_customDragElement,enumerable:!0,configurable:!0});lt.Controls.ImageViewerElementsUpdatedEventArgs=function(){lt.Controls.ImageViewerElementsUpdatedEventArgs.initializeBase(this);this._item$1=null;this._isTransitionsEnabled$1=!1};lt.Controls.ImageViewerElementsUpdatedEventArgs.prototype=
{_setItem:function(a){this._item$1=a},_item$1:null,get_item:function(){return this._item$1},_isTransitionsEnabled$1:!1,_setTransitioning:function(a){this._isTransitionsEnabled$1=a},get_isTransitionsEnabled:function(){return this._isTransitionsEnabled$1}};Object.defineProperty(lt.Controls.ImageViewerElementsUpdatedEventArgs.prototype,"item",{get:lt.Controls.ImageViewerElementsUpdatedEventArgs.prototype.get_item,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerElementsUpdatedEventArgs.prototype,
"isTransitionsEnabled",{get:lt.Controls.ImageViewerElementsUpdatedEventArgs.prototype.get_isTransitionsEnabled,enumerable:!0,configurable:!0});lt.Controls.ImageViewerRenderRedirectOptions=function(){this._backgroundColor=lt.Controls.GraphicsHelper.colorFromString("Transparent");this._transform=lt.LeadMatrix.get_identity()};lt.Controls.ImageViewerRenderRedirectOptions.prototype={_renderBorders:!0,get_renderBorders:function(){return this._renderBorders},set_renderBorders:function(a){return this._renderBorders=
a},_renderShadows:!0,get_renderShadows:function(){return this._renderShadows},set_renderShadows:function(a){return this._renderShadows=a},_renderBackgrounds:!0,get_renderBackgrounds:function(){return this._renderBackgrounds},set_renderBackgrounds:function(a){return this._renderBackgrounds=a},_renderText:!0,get_renderText:function(){return this._renderText},set_renderText:function(a){return this._renderText=a},_renderItemStates:!0,get_renderItemStates:function(){return this._renderItemStates},set_renderItemStates:function(a){return this._renderItemStates=
a},get_backgroundColor:function(){return this._backgroundColor},set_backgroundColor:function(a){lt.Controls.ControlsHelper.checkIfNull(this.get_backgroundColor(),"BackgroundColor");return this._backgroundColor=a},get_transform:function(){return this._transform.clone()},set_transform:function(a){lt.Controls.ControlsHelper.checkIfNull(a,"Transform");this._transform=a.clone();return a},createTransform:function(a,b,c,d,e,f){lt.Controls.ControlsHelper.checkIfNull(b,"destinationRect");lt.Controls.ControlsHelper.checkIfNull(c,
"sourceRect");if(null==a)throw new lt.ArgumentNullException("imageViewer");a=lt.LeadMatrix.get_identity();if(!c.get_isEmpty()&&!lt.Controls.PrimitivesHelper.isEmptyOrZeroRect(b)&&!(0>=b.get_width()||0>=b.get_height())){c=c.clone();b=lt.Controls.PrimitivesHelper.toLeadRectD(b);d=lt.Controls.ImageViewer.getScaleFactors(b.get_size(),c.get_size(),d);a.translate(-c.get_x(),-c.get_y());!lt.LeadDoubleTools.isZero(d.get_width())&&!lt.LeadDoubleTools.isZero(d.get_height())&&a.scale(d.get_width(),d.get_height());
var d=lt.LeadSizeD.create(d.get_width()*c.get_width(),d.get_height()*c.get_height()),g=c=0;1===e&&(c=b.get_x()+(b.get_width()-d.get_width())/2);1===f&&(g=b.get_y()+(b.get_height()-d.get_height())/2);a.translate(c,g)}this._transform=a}};Object.defineProperty(lt.Controls.ImageViewerRenderRedirectOptions.prototype,"renderBorders",{get:lt.Controls.ImageViewerRenderRedirectOptions.prototype.get_renderBorders,set:lt.Controls.ImageViewerRenderRedirectOptions.prototype.set_renderBorders,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Controls.ImageViewerRenderRedirectOptions.prototype,"renderShadows",{get:lt.Controls.ImageViewerRenderRedirectOptions.prototype.get_renderShadows,set:lt.Controls.ImageViewerRenderRedirectOptions.prototype.set_renderShadows,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRenderRedirectOptions.prototype,"renderBackgrounds",{get:lt.Controls.ImageViewerRenderRedirectOptions.prototype.get_renderBackgrounds,set:lt.Controls.ImageViewerRenderRedirectOptions.prototype.set_renderBackgrounds,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRenderRedirectOptions.prototype,"renderText",{get:lt.Controls.ImageViewerRenderRedirectOptions.prototype.get_renderText,set:lt.Controls.ImageViewerRenderRedirectOptions.prototype.set_renderText,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRenderRedirectOptions.prototype,"renderItemStates",{get:lt.Controls.ImageViewerRenderRedirectOptions.prototype.get_renderItemStates,set:lt.Controls.ImageViewerRenderRedirectOptions.prototype.set_renderItemStates,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRenderRedirectOptions.prototype,"backgroundColor",{get:lt.Controls.ImageViewerRenderRedirectOptions.prototype.get_backgroundColor,set:lt.Controls.ImageViewerRenderRedirectOptions.prototype.set_backgroundColor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRenderRedirectOptions.prototype,"transform",{get:lt.Controls.ImageViewerRenderRedirectOptions.prototype.get_transform,set:lt.Controls.ImageViewerRenderRedirectOptions.prototype.set_transform,
enumerable:!0,configurable:!0});lt.Controls._controlInertiaScroller=function(){this._params=[];this._timerCallback_Delegate=ss.Delegate.create(this,this._timerCallback)};lt.Controls._controlInertiaScroller.get_instance=function(){return lt.Controls._controlInertiaScroller._instance};lt.Controls._controlInertiaScroller._nativeScrollBy=function(a,b,c){a.callback(b,c)};lt.Controls._controlInertiaScroller.prototype={_timerCallback_Delegate:null,get__paramsCount:function(){return this._params.length},
_addUpdateParams:function(a){if(this._params.length)for(var b=0;b<this._params.length;b++){var c=this._params[b];if(c.target===a.target){c!==a&&(this._params[b]=a);return}}this._params.add(a);0<this._params.length&&null==lt.Controls._controlInertiaScroller._timer&&(lt.Controls._controlInertiaScroller._timer=new lt.Controls._leadTimer(null,this._timerCallback_Delegate,null,0,10))},_getParams:function(a){for(var b=ss.IEnumerator.getEnumerator(this._params);b.moveNext();){var c=b.current;if(c.target===
a)return c}return null},_removeParams:function(a){for(var b=ss.IEnumerator.getEnumerator(this._params);b.moveNext();){var c=b.current;if(c.target===a){this._params.remove(c);c.dispose();break}}!this._params.length&&null!=lt.Controls._controlInertiaScroller._timer&&(lt.Controls._controlInertiaScroller._timer.dispose(),lt.Controls._controlInertiaScroller._timer=null)},_commonTimerCallback:function(){for(var a=0;a<this._params.length;a++){var b,c=this._params[a];if(c.amplitude.get_x()||c.amplitude.get_y()){var d=
lt.Controls.ControlsHelper.getTimeSpan(lt.Controls.ControlsHelper.getDateTimeNow(),c.timestamp);b=-c.amplitude.get_x()*Math.exp(-d/325);d=-c.amplitude.get_y()*Math.exp(-d/325);0.5<b||-0.5>b||0.5<d||-0.5>d?(b=lt.LeadPointD.create(lt.Controls.PrimitivesHelper.toInt(c.targetOffset.get_x()+b),lt.Controls.PrimitivesHelper.toInt(c.targetOffset.get_y()+d)),lt.Controls._controlInertiaScroller._nativeScrollBy(c,b,!1)):(c.stopping=!0,b=lt.LeadPointD.create(c.targetOffset.get_x(),c.targetOffset.get_y()),c.amplitude.set_x(0),
c.amplitude.set_y(0),lt.Controls._controlInertiaScroller._nativeScrollBy(c,b,!0))}else b=lt.LeadPointD.create(c.targetOffset.get_x(),c.targetOffset.get_y()),lt.Controls._controlInertiaScroller._nativeScrollBy(c,b,!0)}},_timerCallback:function(){this._commonTimerCallback()}};lt.Controls._inertiaParams=function(){};lt.Controls._inertiaParams.prototype={stopping:!1,target:null,amplitude:null,targetOffset:null,timestamp:0,callback:null,dispose:function(){this.stopping=!1;this.target=null;this.amplitude=
lt.LeadPointD.get_empty();this.targetOffset=lt.LeadPointD.get_empty();this.callback=null}};lt.Controls.ControlInertiaScrollOptions=function(){};lt.Controls.ControlInertiaScrollOptions.createDefault=function(){return new lt.Controls.ControlInertiaScrollOptions};lt.Controls.ControlInertiaScrollOptions.prototype={clone:function(){var a=new lt.Controls.ControlInertiaScrollOptions;a.set_isEnabled(this.get_isEnabled());return a},_isEnabled:!1,get_isEnabled:function(){return this._isEnabled},set_isEnabled:function(a){return this._isEnabled=
a}};Object.defineProperty(lt.Controls.ControlInertiaScrollOptions.prototype,"isEnabled",{get:lt.Controls.ControlInertiaScrollOptions.prototype.get_isEnabled,set:lt.Controls.ControlInertiaScrollOptions.prototype.set_isEnabled,enumerable:!0,configurable:!0});lt.Controls.ImageViewerActiveItemInteractiveMode=function(){this._lastMovePosition$1=lt.LeadPointD.get_empty();lt.Controls.ImageViewerActiveItemInteractiveMode.initializeBase(this);this.set_autoItemMode(1)};lt.Controls.ImageViewerActiveItemInteractiveMode._unhoverItems$1=
function(a){var b=!1;a.beginRender();for(var c=ss.IEnumerator.getEnumerator(a.get_items());c.moveNext();){var d=c.current;d.get_isHovered()&&(d.set_isHovered(!1),b=!0)}a._internalEndUpdate(b)};lt.Controls.ImageViewerActiveItemInteractiveMode._hitTestPart$1=function(a,b,c,d){switch(a.hitTestItemPart(b,c)){case 1:return!0;case 2:return 2===d;case 3:return 2===d||3===d;case 4:return 4===d||5===d;case 5:return 5===d;default:return!1}};lt.Controls.ImageViewerActiveItemInteractiveMode.prototype={get_name:function(){return"ActiveItem"},
get_id:function(){return 9},_isHovedEnabled$1:!1,get_isHoverEnabled:function(){return this._isHovedEnabled$1},set_isHoverEnabled:function(a){return this._isHovedEnabled$1=a},_isKeyboardEnabled$1:!0,get_isKeyboardEnabled:function(){return this._isKeyboardEnabled$1},set_isKeyboardEnabled:function(a){return this._isKeyboardEnabled$1=a},_hoveredItem$1:null,_isKeyboardHooked$1:!1,_isMoveHooked$1:!1,start:function(a){lt.Controls.ImageViewerActiveItemInteractiveMode.callBaseMethod(this,"start",[a]);var b=
lt.Controls.ImageViewerActiveItemInteractiveMode.callBaseMethod(this,"get_interactiveService");b.add_dragStarted(ss.Delegate.create(this,this._service_DragStarted$1));this.get_isHoverEnabled()&&(b.add_move(ss.Delegate.create(this,this._service_Move$1)),this._isMoveHooked$1=!0);this.get_isKeyboardEnabled()&&(b.add_keyDown(ss.Delegate.create(this,this._service_KeyDown$1)),this._isKeyboardHooked$1=!0);this.get_isHoverEnabled()&&lt.Controls.ImageViewerActiveItemInteractiveMode._unhoverItems$1(a);this._lastMovePosition$1=
lt.LeadPointD.get_empty();this.set_workOnBounds(!1);this._hoveredItem$1=null},stop:function(a){if(this.get_isStarted()){this._hoveredItem$1=null;var b=lt.Controls.ImageViewerActiveItemInteractiveMode.callBaseMethod(this,"get_interactiveService");b.remove_dragStarted(ss.Delegate.create(this,this._service_DragStarted$1));this._isMoveHooked$1&&(b.remove_move(ss.Delegate.create(this,this._service_Move$1)),this._isMoveHooked$1=!1);this._isKeyboardHooked$1&&(b.remove_keyDown(ss.Delegate.create(this,this._service_KeyDown$1)),
this._isKeyboardHooked$1=!1);lt.Controls.ImageViewerActiveItemInteractiveMode.callBaseMethod(this,"stop",[a])}},_service_DragStarted$1:function(a,b){if(this.canStartWork(b)){var c=this.get_imageViewer(),d=b.get_position(),e=c.hitTestItem(d);null!=e&&e!==c.get_activeItem()&&lt.Controls.ImageViewerActiveItemInteractiveMode._hitTestPart$1(c,e,d,this.get_itemPart())&&(b.set_isHandled(!0),this.onWorkStarted(b),c.set_activeItem(e),this.onWorkCompleted(b))}},get_item:function(){return lt.Controls.ImageViewerActiveItemInteractiveMode.callBaseMethod(this,
"get_item")},set_item:function(a){lt.Controls.ImageViewerActiveItemInteractiveMode.callBaseMethod(this,"set_item",[null]);this._hoveredItem$1===a&&(this._hoveredItem$1=null);return a},_service_Move$1:function(a,b){if(this.get_isEnabled()&&this.get_isHoverEnabled()&&!lt.LeadPointD.equals(b.get_position(),this._lastMovePosition$1)){this._lastMovePosition$1=b.get_position();var c=this.get_imageViewer(),d=c.hitTestItem(b.get_position());null!=d&&(lt.Controls.ImageViewerActiveItemInteractiveMode._hitTestPart$1(c,
d,b.get_position(),this.get_itemPart())||(d=null));this._hoveredItem$1!==d&&(null!=this._hoveredItem$1&&this._hoveredItem$1.set_isHovered(!1),null!=d&&d.set_isHovered(!0),this._hoveredItem$1=d)}},_service_KeyDown$1:function(a,b){if(this.get_isEnabled()&&this.get_isKeyboardEnabled()){var c=b.get_keyCode();if(37===c||38===c||39===c||40===c||33===c||34===c||36===c||35===c){var d=this.get_imageViewer();b.set_isHandled(!0);var e=d.get_activeItem();if(null!=e&&(38===c||40===c||37===c||39===c)){var f=null,
f=38===c||40===c?lt.Controls.ImageViewerItems._findNextItemInRow(d,e.get_rowIndex(),e.get_columnIndex(),40===c):lt.Controls.ImageViewerItems._findNextItemInColumn(d,e.get_rowIndex(),e.get_columnIndex(),39===c);null!=f&&f!==d.get_activeItem()&&(d.set_activeItem(f),d.ensureItemVisible(f))}}}}};Object.defineProperty(lt.Controls.ImageViewerActiveItemInteractiveMode.prototype,"name",{get:lt.Controls.ImageViewerActiveItemInteractiveMode.prototype.get_name,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerActiveItemInteractiveMode.prototype,
"id",{get:lt.Controls.ImageViewerActiveItemInteractiveMode.prototype.get_id,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerActiveItemInteractiveMode.prototype,"isHoverEnabled",{get:lt.Controls.ImageViewerActiveItemInteractiveMode.prototype.get_isHoverEnabled,set:lt.Controls.ImageViewerActiveItemInteractiveMode.prototype.set_isHoverEnabled,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerActiveItemInteractiveMode.prototype,"isKeyboardEnabled",
{get:lt.Controls.ImageViewerActiveItemInteractiveMode.prototype.get_isKeyboardEnabled,set:lt.Controls.ImageViewerActiveItemInteractiveMode.prototype.set_isKeyboardEnabled,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerActiveItemInteractiveMode.prototype,"item",{get:lt.Controls.ImageViewerActiveItemInteractiveMode.prototype.get_item,set:lt.Controls.ImageViewerActiveItemInteractiveMode.prototype.set_item,enumerable:!0,configurable:!0});lt.Controls.ImageViewerAutoPanInteractiveMode=
function(){this._result$1=0;this._oldPosition$1=lt.LeadPointD.get_empty();this._workingTimer$1=0;this._edgeSize$1=lt.LeadSizeD.create(15,15);this._autoScrollValue$1=lt.LeadPointD.get_empty();lt.Controls.ImageViewerAutoPanInteractiveMode.initializeBase(this);this._timerCallback_Delegate$1=ss.Delegate.create(this,this._timerCallback$1)};lt.Controls.ImageViewerAutoPanInteractiveMode._isAutoPanWorking$1=function(a){a=a.get_workingInteractiveMode();return null!=a&&a.get_isWorking()&&"PanZoom"===a.get_name()?
!0:!1};lt.Controls.ImageViewerAutoPanInteractiveMode.prototype={_timerCallback_Delegate$1:null,get_name:function(){return"AutoPan"},get_id:function(){return 5},_timer$1:null,get_edgeSize:function(){return this._edgeSize$1.clone()},set_edgeSize:function(a){this._edgeSize$1=lt.Controls.PrimitivesHelper.cloneOrZeroSize(a);return a},_moveThreshold$1:2,get_moveThreshold:function(){return this._moveThreshold$1},set_moveThreshold:function(a){if(0>a)throw new lt.ArgumentOutOfRangeException("MoveThreshold",
a,"must be greater than or equal to 0");return this._moveThreshold$1=a},_beginDelay$1:100,get_beginDelay:function(){return this._beginDelay$1},set_beginDelay:function(a){if(0>a)throw new lt.ArgumentOutOfRangeException("BeginDelay",a,"must be greater than or equal to 0");return this._beginDelay$1=a},_panDelay$1:0,get_panDelay:function(){return this._panDelay$1},set_panDelay:function(a){if(0>a)throw new lt.ArgumentOutOfRangeException("PanDelay",a,"must be greater than or equal to 0");return this._panDelay$1=
a},start:function(a){lt.Controls.ImageViewerAutoPanInteractiveMode.callBaseMethod(this,"start",[a]);this.set_workOnBounds(!1);var b=lt.Controls.ImageViewerAutoPanInteractiveMode.callBaseMethod(this,"get_interactiveService");b.add_move(ss.Delegate.create(this,this._service_Move$1));b.add_dragStarted(ss.Delegate.create(this,this._service_DragStarted$1));b.add_dragCompleted(ss.Delegate.create(this,this._service_DragCompleted$1));null!=this._timer$1&&this._timer$1.dispose();this._timer$1=new lt.Controls._leadTimer(a,
this._timerCallback_Delegate$1,null,lt.Controls._leadTimer.infinite,lt.Controls._leadTimer.infinite)},_mouseButtonReleased$1:!1,_service_DragStarted$1:function(a,b){this.get_isEnabled()&&(this._mouseButtonReleased$1=this.get_mouseButtons()!==b.get_mouseButton())},_service_DragCompleted$1:function(a,b){this.get_isEnabled()&&(this._mouseButtonReleased$1=this.get_mouseButtons()===b.get_mouseButton())},_canScroll$1:function(a){var b=this.get_imageViewer(),c=b.get_maximumScrollSize(),d=b.get_scrollOffset();
if(2===b.get_scrollMode())return!1;if(1===b.get_scrollMode()&&!b.get__realRestrictScrollMode())return!0;if(4===(a&4)){if(0<d.get_x())return!0}else if(8===(a&8)&&d.get_x()<c.get_width())return!0;if(2===(a&2)){if(0<d.get_y())return!0}else if(1===(a&1)&&d.get_y()<c.get_height())return!0;return!1},_lastCursorPosition$1:null,_service_Move$1:function(a,b){this._lastCursorPosition$1=b.get_position().clone();var c=this.get_imageViewer(),d=this.canStartWork(b);d&&lt.Controls.ImageViewerAutoPanInteractiveMode._isAutoPanWorking$1(c)&&
(d=!1);if(d){if(this._result$1=0,c=b.get_position(),this._result$1=this._hitTestEdge$1(c),this._canScroll$1(this._result$1))if(this._result$1){if(Math.abs(this._oldPosition$1.get_x()-c.get_x())>this._moveThreshold$1||Math.abs(this._oldPosition$1.get_y()-c.get_y())>this._moveThreshold$1)this._workingTimer$1=0,this._timer$1.change(this._beginDelay$1,this._beginDelay$1);this._oldPosition$1=b.get_position()}else this._timer$1.change(lt.Controls._leadTimer.infinite,lt.Controls._leadTimer.infinite),this._oldPosition$1=
lt.LeadPointD.get_empty()}else this._timer$1.change(lt.Controls._leadTimer.infinite,lt.Controls._leadTimer.infinite),this._oldPosition$1=lt.LeadPointD.get_empty()},_isMouseOnViewer$1:function(){return this.get_imageViewer()._getClientRectangle().containsPoint(this._lastCursorPosition$1)},_timerCallback$1:function(){this.get_isStarted()&&null!=this.get_imageViewer()&&(this._workingTimer$1?this._autoScrollTimer_Tick$1():this._beginDelayTimer_Tick$1())},_beginDelayTimer_Tick$1:function(){if(this.get_workOnBounds()&&
!this._isMouseOnViewer$1())this._timer$1.change(lt.Controls._leadTimer.infinite,lt.Controls._leadTimer.infinite);else if(this._mouseButtonReleased$1)this._timer$1.change(lt.Controls._leadTimer.infinite,lt.Controls._leadTimer.infinite);else{var a=this.get_imageViewer();if(lt.Controls.ImageViewerAutoPanInteractiveMode._isAutoPanWorking$1(a))this._timer$1.change(lt.Controls._leadTimer.infinite,lt.Controls._leadTimer.infinite);else{var b=lt.LeadPointD.create(0,0),c=a._getClientRectangle(),d=Math.max(1,
c.get_width()/10),c=Math.max(1,c.get_height()/10);4===(this._result$1&4)?b.set_x(-d):8===(this._result$1&8)&&b.set_x(d);2===(this._result$1&2)?b.set_y(-c):1===(this._result$1&1)&&b.set_y(c);this.onWorkStarted(lt.LeadEventArgs.Empty);a.scrollByRestrict(b);this.onWorkCompleted(lt.LeadEventArgs.Empty);this._autoScrollValue$1=b.clone();this._workingTimer$1=1;this._timer$1.change(this._panDelay$1,this._panDelay$1)}}},_autoScrollTimer_Tick$1:function(){if(this._mouseButtonReleased$1)this._timer$1.change(lt.Controls._leadTimer.infinite,
lt.Controls._leadTimer.infinite);else if(!this.get_workOnBounds()||this._isMouseOnViewer$1()){var a=this.get_imageViewer();lt.Controls.ImageViewerAutoPanInteractiveMode._isAutoPanWorking$1(a)?this._timer$1.change(lt.Controls._leadTimer.infinite,lt.Controls._leadTimer.infinite):(this.onWorkStarted(lt.LeadEventArgs.Empty),this._canScroll$1(this._result$1)?a.scrollByRestrict(this._autoScrollValue$1):this._timer$1.change(lt.Controls._leadTimer.infinite,lt.Controls._leadTimer.infinite),this.onWorkCompleted(lt.LeadEventArgs.Empty))}},
stop:function(a){if(this.get_isStarted()){var b=lt.Controls.ImageViewerAutoPanInteractiveMode.callBaseMethod(this,"get_interactiveService");b.remove_move(ss.Delegate.create(this,this._service_Move$1));b.remove_dragCompleted(ss.Delegate.create(this,this._service_DragCompleted$1));b.remove_dragStarted(ss.Delegate.create(this,this._service_DragStarted$1));null!=this._timer$1&&(this._timer$1.dispose(),this._timer$1=null);lt.Controls.ImageViewerAutoPanInteractiveMode.callBaseMethod(this,"stop",[a])}},
_hitTestEdge$1:function(a){var b=0,c=this.get_imageViewer()._getClientRectangle(),d=lt.Controls.PrimitivesHelper.toInt(c.get_width()),e=lt.Controls.PrimitivesHelper.toInt(c.get_height()),f=this.get_edgeSize(),g=lt.LeadRectD.create(f.get_width(),f.get_height(),d-2*f.get_width(),e-2*f.get_height()),a=lt.LeadPointD.create(a.get_x(),a.get_y());if(!g.containsPoint(a)){var g=lt.LeadRectD.create(0,0,d,f.get_height()),h=lt.LeadRectD.create(0,e-f.get_height(),d,f.get_height()),i=lt.LeadRectD.create(0,0,f.get_width(),
e),d=lt.LeadRectD.create(d-f.get_width(),0,f.get_width(),e);if(i.containsPoint(a)||a.get_x()<=c.get_left())b|=4;else if(d.containsPoint(a)||a.get_x()>=c.get_right())b|=8;if(g.containsPoint(a)||a.get_y()<=c.get_top())b|=2;else if(h.containsPoint(a)||a.get_y()>=c.get_bottom())b|=1}return b}};Object.defineProperty(lt.Controls.ImageViewerAutoPanInteractiveMode.prototype,"name",{get:lt.Controls.ImageViewerAutoPanInteractiveMode.prototype.get_name,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerAutoPanInteractiveMode.prototype,
"id",{get:lt.Controls.ImageViewerAutoPanInteractiveMode.prototype.get_id,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerAutoPanInteractiveMode.prototype,"edgeSize",{get:lt.Controls.ImageViewerAutoPanInteractiveMode.prototype.get_edgeSize,set:lt.Controls.ImageViewerAutoPanInteractiveMode.prototype.set_edgeSize,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerAutoPanInteractiveMode.prototype,"moveThreshold",{get:lt.Controls.ImageViewerAutoPanInteractiveMode.prototype.get_moveThreshold,
set:lt.Controls.ImageViewerAutoPanInteractiveMode.prototype.set_moveThreshold,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerAutoPanInteractiveMode.prototype,"beginDelay",{get:lt.Controls.ImageViewerAutoPanInteractiveMode.prototype.get_beginDelay,set:lt.Controls.ImageViewerAutoPanInteractiveMode.prototype.set_beginDelay,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerAutoPanInteractiveMode.prototype,"panDelay",{get:lt.Controls.ImageViewerAutoPanInteractiveMode.prototype.get_panDelay,
set:lt.Controls.ImageViewerAutoPanInteractiveMode.prototype.set_panDelay,enumerable:!0,configurable:!0});lt.Controls.ImageViewerCenterAtInteractiveMode=function(){lt.Controls.ImageViewerCenterAtInteractiveMode.initializeBase(this)};lt.Controls.ImageViewerCenterAtInteractiveMode.prototype={get_name:function(){return"CenterAt"},get_id:function(){return 2},_scaleFactor$1:1,get_scaleFactor:function(){return this._scaleFactor$1},set_scaleFactor:function(a){if(lt.LeadDoubleTools.isZero(a)||0>a)throw new lt.ArgumentOutOfRangeException("ScaleFactor",
a,"Must be a value greater than 0");return this._scaleFactor$1=a},start:function(a){lt.Controls.ImageViewerCenterAtInteractiveMode.callBaseMethod(this,"start",[a]);lt.Controls.ImageViewerCenterAtInteractiveMode.callBaseMethod(this,"get_interactiveService").add_tap(ss.Delegate.create(this,this._service_Tap$1))},stop:function(a){this.get_isStarted()&&(lt.Controls.ImageViewerCenterAtInteractiveMode.callBaseMethod(this,"get_interactiveService").remove_tap(ss.Delegate.create(this,this._service_Tap$1)),
lt.Controls.ImageViewerCenterAtInteractiveMode.callBaseMethod(this,"stop",[a]))},_service_Tap$1:function(a,b){if(this.canStartWork(b)){b.set_isHandled(!0);this.onWorkStarted(b);var c=this.get_imageViewer(),d=this.get_scaleFactor();lt.LeadDoubleTools.areClose(d,1)?c.centerAtPoint(b.get_origin()):(c.beginRender(),d*=c.get_scaleFactor(),c.centerAtPoint(b.get_origin()),c.zoom(0,d,b.get_origin()),c.endRender());this.onWorkCompleted(lt.LeadEventArgs.Empty)}}};Object.defineProperty(lt.Controls.ImageViewerCenterAtInteractiveMode.prototype,
"name",{get:lt.Controls.ImageViewerCenterAtInteractiveMode.prototype.get_name,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerCenterAtInteractiveMode.prototype,"id",{get:lt.Controls.ImageViewerCenterAtInteractiveMode.prototype.get_id,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerCenterAtInteractiveMode.prototype,"scaleFactor",{get:lt.Controls.ImageViewerCenterAtInteractiveMode.prototype.get_scaleFactor,set:lt.Controls.ImageViewerCenterAtInteractiveMode.prototype.set_scaleFactor,
enumerable:!0,configurable:!0});lt.Controls.ImageViewerDragInteractiveMode=function(){this._format$1="text";this._allowedEffects$1=lt.Controls.ImageViewerDragInteractiveMode._defaultAlowedEffects$1;this._targetImageViewerMode$1=0;this._dragMode$1=1;this._customDragElementLastOrigin$1=lt.LeadPointD.get_empty();this._customDragElementLastPosition$1=lt.LeadPointD.get_empty();this._userCustomDragElementSize$1=lt.LeadSizeD.get_empty();lt.Controls.ImageViewerDragInteractiveMode.initializeBase(this);this._init$1();
this.set_autoItemMode(2)};lt.Controls.ImageViewerDragInteractiveMode._checkFormat$1=function(a){if(String.compare(a,"text",!0))throw new lt.ArgumentOutOfRangeException("value",a,"Must be one of the supported data formats");};lt.Controls.ImageViewerDragInteractiveMode._checkAllowedEffects$1=function(a){if("copy"!==a||"move"!==a)throw new lt.ArgumentOutOfRangeException("value",a,"Must be one of the supported effects");};lt.Controls.ImageViewerDragInteractiveMode.prototype={get_format:function(){return this._format$1},
set_format:function(a){lt.Controls.ImageViewerDragInteractiveMode._checkFormat$1(a);return this._format$1=a},get_allowedEffects:function(){return this._allowedEffects$1},set_allowedEffects:function(a){lt.Controls.ImageViewerDragInteractiveMode._checkAllowedEffects$1(a);return this._allowedEffects$1=a},get_targetImageViewerMode:function(){return this._targetImageViewerMode$1},set_targetImageViewerMode:function(a){return this._targetImageViewerMode$1=a},get_name:function(){return"Drag"},get_id:function(){return 11},
start:function(a){lt.Controls.ImageViewerDragInteractiveMode.callBaseMethod(this,"start",[a]);this._doStart$1()},stop:function(a){this.get_isStarted()&&(this._doStop$1(),lt.Controls.ImageViewerDragInteractiveMode.callBaseMethod(this,"stop",[a]))},_service_DragStarted$1:function(a,b){this._checkPreventDefault$1(b);if(this.canStartWork(b)){var c=this.get_item();null!=c&&this.canWorkOnItem(c)&&this._doDragStarted$1(c,b)}},_init$1:function(){this.set_autoDisableTransitions(!1)},canWorkOnItem:function(a){return lt.Controls.ImageViewerDragInteractiveMode.callBaseMethod(this,
"canWorkOnItem",[a])&&null!=a&&a.get_hasImage()},get_mouseButtons:function(){return lt.Controls.ImageViewerDragInteractiveMode.callBaseMethod(this,"get_mouseButtons")},set_mouseButtons:function(a){if(1!==a&&!this._hasMouseButton(1))throw new lt.ArgumentException("Mouse button not supported","MouseButtons");lt.Controls.ImageViewerDragInteractiveMode.callBaseMethod(this,"set_mouseButtons",[a]);return a},get_dragMode:function(){return this._dragMode$1},set_dragMode:function(a){if(this._dragMode$1!==
a)return this._dragMode$1=a,this._updateEnabledDragStart$1(),a},_enabledNativeDragListeners$1:!1,_internalIsStarted$1:!1,_updateEnabledDragStart$1:function(){var a=this._internalIsStarted$1&&!this._dragMode$1;this._enabledNativeDragListeners$1!==a&&(this._enabledNativeDragListeners$1=a,this.get_interactiveService()._enableDragStart(a))},_savedUseCustomDragMode$1:!1,_savedDraggableState$1:!1,_doStart$1:function(){var a=this.get_interactiveService();this._internalIsStarted$1=!0;this._updateEnabledDragStart$1();
var b=a.get_eventsSource();null!=b&&(this._savedDraggableState$1=b.draggable,b.draggable=!0);a.add_dragStarted(ss.Delegate.create(this,this._service_DragStarted$1));a.add_dragCompleted(ss.Delegate.create(this,this._service_DragCompleted$1));a.add_dragDelta(ss.Delegate.create(this,this._service_DragDelta$1))},_doStop$1:function(){var a=lt.Controls.ImageViewerDragInteractiveMode.callBaseMethod(this,"get_interactiveService");this._internalIsStarted$1=!1;this._updateEnabledDragStart$1();var b=a.get_eventsSource();
null!=b&&(b.draggable=this._savedDraggableState$1);a.remove_dragStarted(ss.Delegate.create(this,this._service_DragStarted$1));a.remove_dragCompleted(ss.Delegate.create(this,this._service_DragCompleted$1));a.remove_dragDelta(ss.Delegate.create(this,this._service_DragDelta$1));this._resetCustomDragElement$1()},_savedAllowDrop$1:!1,_customDragElementData$1:null,_customDragElementHasMoved$1:!1,_internalCustomDragElement$1:null,_currentCustomDragElement$1:null,_userCustomDragElement$1:null,get_customDragElement:function(){return this._userCustomDragElement$1},
set_customDragElement:function(a){if(!(this._userCustomDragElement$1===a||null!=a&&this._internalCustomDragElement$1===a))return this._removeCurrentCustomDragElement$1(),this._userCustomDragElement$1=a,this._userCustomDragElementSize$1=lt.LeadSizeD.get_empty(),null!=a?(a.style.position="relative",this._userCustomDragElementSize$1=lt.Controls._elementsHelper.getSize(this._userCustomDragElement$1,!1),a.style.position="absolute",a.style.zIndex=200,a.style.cursor="inherit",null!=this._customDragElementData$1&&
a.setAttribute("data-drag",this._customDragElementData$1),this._currentCustomDragElement$1=a):this._currentCustomDragElement$1=this._internalCustomDragElement$1,this._updateCurrentCustomDragElement$1(),a},_removeCurrentCustomDragElement$1:function(){null!=this._currentCustomDragElement$1&&(this.get_interactiveService().get_userControls().remove(this._currentCustomDragElement$1),this._currentCustomDragElement$1.parentNode===document.body&&this._currentCustomDragElement$1.parentNode.removeChild(this._currentCustomDragElement$1),
lt.LTHelper.removeClass(this._currentCustomDragElement$1,"_lt_drag"))},_updateCurrentCustomDragElement$1:function(){if(null!=this._currentCustomDragElement$1&&this._savedUseCustomDragMode$1){var a=this._currentCustomDragElement$1===this._internalCustomDragElement$1;if(a||this._customDragElementHasMoved$1){this._currentCustomDragElement$1.parentNode!==document.body&&(this.get_interactiveService().get_userControls().add(this._currentCustomDragElement$1),document.body.appendChild(this._currentCustomDragElement$1),
lt.LTHelper.addClass(this._currentCustomDragElement$1,"_lt_drag"),lt.Controls.ImageViewerDragInteractiveMode._globalDragCustomElement=this._currentCustomDragElement$1);var b=lt.Controls.ImageViewerDragInteractiveMode.callBaseMethod(this,"get_interactiveService").get_targetOffset();if(!b.get_isEmpty()){var c=this._customDragElementLastOrigin$1,d=this._customDragElementLastPosition$1,e=b;a?(a=this.get_imageViewer().getItemViewBounds(this.get_item(),3,!1),e=c.get_isEmpty()||d.get_isEmpty()?lt.LeadPointD.create(b.get_x()+
a.get_x(),b.get_y()+a.get_y()):lt.LeadPointD.create(b.get_x()+a.get_x()+d.get_x()-c.get_x(),b.get_y()+a.get_y()+d.get_y()-c.get_y())):!d.get_isEmpty()&&!this._userCustomDragElementSize$1.get_isEmpty()&&(e=lt.LeadPointD.create(b.get_x()+d.get_x()-this._userCustomDragElementSize$1.get_width()/2,b.get_y()+d.get_y()-this._userCustomDragElementSize$1.get_height()/2));this._currentCustomDragElement$1.style.left=e.get_x()+"px";this._currentCustomDragElement$1.style.top=e.get_y()+"px"}}}},_checkPreventDefault$1:function(a){this.get_dragMode()&&
a.get_nativeEvent().preventDefault()},_doDragStarted$1:function(a,b){var c=b.get_nativeEvent();if(null!=c&&(this._resetCustomDragElement$1(),this._savedUseCustomDragMode$1=1===this.get_dragMode(),(!this.get_interactiveService().get_dragStartsOnDown()||!(!this._savedUseCustomDragMode$1&&"dragstart"!==c.type||this._savedUseCustomDragMode$1&&"mousedown"!==c.type&&"touchstart"!==c.type&&c.type!==lt.Controls._msEventsHelper.pointerdown))&&this.canStartWork(b))){var d=a.get_url(),e=this.get_allowedEffects();
if("none"!==e){var f=this.get_imageViewer();this._savedAllowDrop$1=f.get_allowDrop();var g=!1;if(this._savedUseCustomDragMode$1){c=a.get_image();null==c&&(c=a.get_canvas());null==c&&(c=a.get_element());b.get_nativeEvent().preventDefault();var g=!0,e=f.getItemViewBounds(a,3,!1),h=null;if(lt.Controls._elementsHelper.isImgElement(c)||lt.Controls._elementsHelper.isCanvasElement(c)||lt.Controls._elementsHelper.isSvgElement(c)){var h=parseInt(e.get_width()),i=parseInt(e.get_height()),j=document.createElement("canvas");
j.width=h;j.height=i;j.getContext("2d").drawImage(c,0,0,h,i);h=j}else h=document.createElement("div"),h.style.backgroundColor="#aaa";h.style.width=e.get_width()+"px";h.style.height=e.get_height()+"px";h.style.opacity=".5";h.style.position="absolute";h.style.zIndex=200;h.style.cursor="inherit";String.isNullOrEmpty(d)||(this._customDragElementData$1=d,h.setAttribute("data-drag",d));this._internalCustomDragElement$1=h;null==this._currentCustomDragElement$1&&(this._currentCustomDragElement$1=this._internalCustomDragElement$1,
this._updateCurrentCustomDragElement$1())}else c=c.dataTransfer,null!=c&&(c.effectAllowed=e,(e=String.isNullOrEmpty(d))&&(d="Test"),c.setData("text",d),c.getData("text")===d&&(e&&c.setData("text",""),g=!0,c.setDragImage&&(d=a.get_image(),null==d&&(d=a.get_canvas()),null!=d&&c.setDragImage(d,0,0))));g&&(2===this.get_targetImageViewerMode()&&f.set_allowDrop(!1),lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceViewer=f,lt.Controls.ImageViewerDragInteractiveMode._globalDragIndex++,lt.Controls.ImageViewerDragInteractiveMode._globalDragCustomElement=
this._currentCustomDragElement$1,lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceItem=a,lt.Controls.ImageViewerDragInteractiveMode._globalTargetImageViewerMode=this.get_targetImageViewerMode(),b.set_isHandled(!0),this.onWorkStarted(b))}}},_service_DragDelta$1:function(a,b){this.get_isWorking()&&this._savedUseCustomDragMode$1&&(b.set_isHandled(!0),b.get_nativeEvent().preventDefault(),this._customDragElementLastPosition$1=b.get_position().clone(),this._customDragElementLastOrigin$1=b.get_origin().clone(),
this._customDragElementHasMoved$1=!0,this._updateCurrentCustomDragElement$1())},_service_DragCompleted$1:function(a,b){this.get_isWorking()&&(this._savedUseCustomDragMode$1?(lt.Controls.ImageViewerDragInteractiveMode._customDragCompleted_DropsOnly=!0,setTimeout(ss.Delegate.create(this,function(){lt.Controls.ImageViewerDragInteractiveMode._customDragCompleted_DropsOnly=!1;this._internal_service_DragCompleted$1(a,b)}),50)):this._internal_service_DragCompleted$1(a,b))},_internal_service_DragCompleted$1:function(a,
b){if(this.get_isWorking()){var c=this.get_imageViewer();c.get_allowDrop()!==this._savedAllowDrop$1&&c.set_allowDrop(this._savedAllowDrop$1);b.set_isHandled(!0);this.onWorkCompleted(b);lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceViewer=null;lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceItem=null;lt.Controls.ImageViewerDragInteractiveMode._globalTargetImageViewerMode=0;this._resetCustomDragElement$1()}},_resetCustomDragElement$1:function(){lt.Controls.ImageViewerDragInteractiveMode._customDragCompleted_DropsOnly=
!1;this._customDragElementLastOrigin$1=lt.LeadPointD.get_empty();this._customDragElementLastPosition$1=lt.LeadPointD.get_empty();this._customDragElementData$1=null;this._customDragElementHasMoved$1=!1;this._removeCurrentCustomDragElement$1();var a=this._internalCustomDragElement$1;null!=a&&(this._currentCustomDragElement$1===a&&(this._currentCustomDragElement$1=null),null!=a.parentNode&&a.parentNode.removeChild(a),this._internalCustomDragElement$1=null);null!=document.body&&(document.body.style.cursor=
"",document.body.parentNode.style.cursor="");lt.Controls.ImageViewerDragInteractiveMode._globalDragCustomElement=null}};Object.defineProperty(lt.Controls.ImageViewerDragInteractiveMode.prototype,"format",{get:lt.Controls.ImageViewerDragInteractiveMode.prototype.get_format,set:lt.Controls.ImageViewerDragInteractiveMode.prototype.set_format,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerDragInteractiveMode.prototype,"allowedEffects",{get:lt.Controls.ImageViewerDragInteractiveMode.prototype.get_allowedEffects,
set:lt.Controls.ImageViewerDragInteractiveMode.prototype.set_allowedEffects,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerDragInteractiveMode.prototype,"targetImageViewerMode",{get:lt.Controls.ImageViewerDragInteractiveMode.prototype.get_targetImageViewerMode,set:lt.Controls.ImageViewerDragInteractiveMode.prototype.set_targetImageViewerMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerDragInteractiveMode.prototype,"name",{get:lt.Controls.ImageViewerDragInteractiveMode.prototype.get_name,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerDragInteractiveMode.prototype,"id",{get:lt.Controls.ImageViewerDragInteractiveMode.prototype.get_id,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerDragInteractiveMode.prototype,"mouseButtons",{get:lt.Controls.ImageViewerDragInteractiveMode.prototype.get_mouseButtons,set:lt.Controls.ImageViewerDragInteractiveMode.prototype.set_mouseButtons,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerDragInteractiveMode.prototype,
"dragMode",{get:lt.Controls.ImageViewerDragInteractiveMode.prototype.get_dragMode,set:lt.Controls.ImageViewerDragInteractiveMode.prototype.set_dragMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerDragInteractiveMode.prototype,"customDragElement",{get:lt.Controls.ImageViewerDragInteractiveMode.prototype.get_customDragElement,set:lt.Controls.ImageViewerDragInteractiveMode.prototype.set_customDragElement,enumerable:!0,configurable:!0});lt.Controls._targetControls=function(){};
lt.Controls._targetControls.prototype={target:null,originalCursor:null,cursorChanged:!1};lt.Controls.ImageViewerInteractiveModes=function(a){lt.Controls.ImageViewerInteractiveModes.initializeBase(this);this._imageViewer$1=a};lt.Controls.ImageViewerInteractiveModes.prototype={_imageViewer$1:null,onCollectionChanged:function(a){switch(a.get_action()){case lt.NotifyLeadCollectionChangedAction.remove:case lt.NotifyLeadCollectionChangedAction.reset:if(null!=a.get_newItems()&&0<a.get_newItems().length)for(var b=
ss.IEnumerator.getEnumerator(a.get_newItems());b.moveNext();){var c=Type.safeCast(b.current,lt.Controls.ImageViewerInteractiveMode);null!=c&&this._stopInteractiveMode$1(c)}}this._updateCounter$1||this._resetInteractiveModes();lt.Controls.ImageViewerInteractiveModes.callBaseMethod(this,"onCollectionChanged",[a])},_resetInteractiveModes:function(){for(var a=ss.IEnumerator.getEnumerator(this);a.moveNext();){var b=a.current;this._stopInteractiveMode$1(b);b.get_isEnabled()&&this._startInteractiveMode$1(b)}this._startStopInteractiveService$1()},
_updateCounter$1:0,beginUpdate:function(){this._updateCounter$1++},endUpdate:function(){if(!this._updateCounter$1)throw new lt.InvalidOperationException("'EndUpdate' called without a matching 'BeginUpdate'");this._updateCounter$1--;this._updateCounter$1||this._resetInteractiveModes()},_startStopInteractiveService$1:function(){var a=this._imageViewer$1.get_interactiveService();if(null!=a){var b=!1;if(0<this.get_count())for(var c=ss.IEnumerator.getEnumerator(this);c.moveNext();)if(null!=c.current){b=
!0;break}b&&!a.get_isListening()?a.startListening():!b&&a.get_isListening()&&a.stopListening()}},_startInteractiveMode$1:function(a){this._startStopInteractiveService$1();null!=a&&(a.start(this._imageViewer$1),a.add_workStarted(ss.Delegate.create(this,this._interactiveMode_WorkStarted$1)),a.add_workCompleted(ss.Delegate.create(this,this._interactiveMode_WorkCompleted$1)))},_stopInteractiveMode$1:function(a){null!=a&&a.get_isStarted()&&(a.remove_workStarted(ss.Delegate.create(this,this._interactiveMode_WorkStarted$1)),
a.remove_workCompleted(ss.Delegate.create(this,this._interactiveMode_WorkCompleted$1)),a.stop(this._imageViewer$1))},_stopAll:function(){for(var a=ss.IEnumerator.getEnumerator(this);a.moveNext();)this._stopInteractiveMode$1(a.current)},_interactiveMode_WorkCompleted$1:function(){this._imageViewer$1._setWorkingInteractiveMode(null)},_interactiveMode_WorkStarted$1:function(a){this._imageViewer$1._setWorkingInteractiveMode(Type.safeCast(a,lt.Controls.ImageViewerInteractiveMode))},enableByIndex:function(a){this._doEnable$1(a,
null,-1,!1)},enable:function(a){this._doEnable$1(-1,a,-1,!1)},enableById:function(a){this._doEnable$1(-1,null,a,!0)},_doEnable$1:function(a,b,c,d){var e=this.get_count();this.beginUpdate();for(var f=0;f<e;f++){var g=this.get_item(f);g.set_isEnabled(g===b||a===f||d&&g.get_id()===c)}this.endUpdate()},findById:function(a){for(var b=null,c=this.get_count(),d=0;d<c&&null==b;d++){var e=this.get_item(d);e.get_id()===a&&(b=e)}return b}};lt.Controls.ImageViewerInteractiveMode=function(){this._mouseButtons=
1;this._itemPart=2};lt.Controls.ImageViewerInteractiveMode._isMouseWheelEvent=function(a){var b=Type.safeCast(a,lt.Controls.InteractiveDragStartedEventArgs);if(null!=b&&b.get_isMouseWheel())return!0;b=Type.safeCast(a,lt.Controls.InteractiveDragDeltaEventArgs);if(null!=b&&b.get_isMouseWheel())return!0;a=Type.safeCast(a,lt.Controls.InteractiveDragCompletedEventArgs);return null!=a&&a.get_isMouseWheel()?!0:!1};lt.Controls.ImageViewerInteractiveMode._canStartWorkOther=function(){return!1};lt.Controls.ImageViewerInteractiveMode.prototype=
{_tag:null,get_tag:function(){return this._tag},set_tag:function(a){return this._tag=a},toString:function(){return this.get_name()},_idleCursor:null,get_idleCursor:function(){return this._idleCursor},set_idleCursor:function(a){return this._idleCursor=a},_workingCursor:null,get_workingCursor:function(){return this._workingCursor},set_workingCursor:function(a){return this._workingCursor=a},_hitTestStateCursor:null,get_hitTestStateCursor:function(){return this._hitTestStateCursor},set_hitTestStateCursor:function(a){return this._hitTestStateCursor=
a},_hitTestState:!1,get_hitTestState:function(){return this._hitTestState},set_hitTestState:function(a){if(this._hitTestState!==a){var b=this.get_isStarted()&&null!=this.get_hitTestStateCursor(),c=this.get_imageViewer();b&&(this._restoreCursor(!1),null!=c&&c._setHitTestStateInteractiveMode(null));this._hitTestState=a;b&&this._hitTestState&&(this._setCursor(this.get_hitTestStateCursor()),null!=c&&c._setHitTestStateInteractiveMode(this))}return a},_interactiveService:null,get_interactiveService:function(){return this._interactiveService},
get_imageViewer:function(){return null!=this._interactiveService?this._interactiveService.get_owner():null},_isStarted:!1,get_isStarted:function(){return this._isStarted},_isEnabled:!0,get_isEnabled:function(){return this._isEnabled},set_isEnabled:function(a){return this._isEnabled=a},_targetControls:null,start:function(a){if(null==a)throw new lt.ArgumentNullException("imageViewer");if(this._isStarted)throw new lt.InvalidOperationException("Interactive mode already started");this._isStarted=!0;this._interactiveService=
a.get_interactiveService();this._doStartCursor(a)},stop:function(a){null!=a&&a.get_hasItems()&&this._restoreCursor(!1);null!=this._targetControls&&(this._targetControls.clear(),this._targetControls=null);this._interactiveService=null;this._isStarted=!1;null!=this.get_item()&&this.set_item(null)},_isWorking:!1,get_isWorking:function(){return this._isWorking},add_workStarted:function(a){this.__workStarted=ss.Delegate.combine(this.__workStarted,a)},remove_workStarted:function(a){this.__workStarted=ss.Delegate.remove(this.__workStarted,
a)},__workStarted_handler_get:function(){null==this.__workStarted_handler&&(this.__workStarted_handler=ss.EventHandler.create(this,this.add_workStarted,this.remove_workStarted));return this.__workStarted_handler},__workStarted:null,__workStarted_handler:null,onWorkStarted:function(a){var b=this.get_imageViewer();this._doOnWorkStarted(b);null!=b&&b.get_hasItems()&&this._setCursor(this._workingCursor);this._isWorking=!0;null!=this.__workStarted&&this.__workStarted(this,a)},add_workCompleted:function(a){this.__workCompleted=
ss.Delegate.combine(this.__workCompleted,a)},remove_workCompleted:function(a){this.__workCompleted=ss.Delegate.remove(this.__workCompleted,a)},__workCompleted_handler_get:function(){null==this.__workCompleted_handler&&(this.__workCompleted_handler=ss.EventHandler.create(this,this.add_workCompleted,this.remove_workCompleted));return this.__workCompleted_handler},__workCompleted:null,__workCompleted_handler:null,onWorkCompleted:function(a){var b=this.get_imageViewer();this._doOnWorkCompleted(b);null!=
b&&b.get_hasItems()&&this._restoreCursor(!0);this._isWorking=!1;null!=this.__workCompleted&&this.__workCompleted(this,a)},get_mouseButtons:function(){return this._mouseButtons},set_mouseButtons:function(a){if(this.get_isStarted())throw new lt.InvalidOperationException("Cannot change the property of this value while the interactive mode is started");return this._mouseButtons=a},_isDragMouseWheelEnabled:!0,get_isDragMouseWheelEnabled:function(){return this._isDragMouseWheelEnabled},set_isDragMouseWheelEnabled:function(a){return this._isDragMouseWheelEnabled=
a},_hasMouseButton:function(a){return!a?!this._mouseButtons:(this._mouseButtons&a)===a},_workOnBounds:!0,get_workOnBounds:function(){return this._workOnBounds},set_workOnBounds:function(a){return this._workOnBounds=a},_item:null,get_item:function(){return this._item},set_item:function(a){return this._item=a},get_itemPart:function(){return this._itemPart},set_itemPart:function(a){return this._itemPart=a},_autoItemMode:0,get_autoItemMode:function(){return this._autoItemMode},set_autoItemMode:function(a){return this._autoItemMode=
a},getWorkBounds:function(a,b){if(null==a)throw new lt.ArgumentNullException("imageViewer");var c=this.get_item();return null!=c?a.getItemViewBounds(c,this.get_itemPart(),b):a.getViewBounds(!1,b)},updateAutoItem:function(a,b){if(null==a)throw new lt.ArgumentNullException("imageViewer");var c=null,c=6===this.get_itemPart()?a.hitTestFloater(b):a.hitTestItem(b);this.set_item(c);3===this.get_autoItemMode()&&null!=c&&c!==a.get_activeItem()&&a.set_activeItem(c)},getItemWorkBounds:function(a,b){if(null==
a)throw new lt.ArgumentNullException("imageViewer");return null!=b?a.getItemViewBounds(b,this.get_itemPart(),!0):a.getViewBounds(!1,!0)},_isOnWorkBounds:function(a,b){if(!this.get_workOnBounds())return!0;var c=this.get_item();if(null!=c)return this.getItemWorkBounds(a,c).contains(b.get_x(),b.get_y());c=this.get_autoItemMode();return 2===c||3===c?!1:this.getItemWorkBounds(a,null).contains(b.get_x(),b.get_y())},canStartWork:function(a){if(a.get_isHandled()||!this.get_isEnabled())return!1;var b=this.get_imageViewer(),
c=this._hasMouseButton(a.get_mouseButton()),d=this.get_autoItemMode();c&&b.get_hasItems()&&(2===d||3===d)&&this.updateAutoItem(b,a.get_position());if(b.get_hasItems()&&this._isOnWorkBounds(b,a.get_position())){if(lt.Controls.ImageViewerInteractiveMode._isMouseWheelEvent(a))return this.get_isDragMouseWheelEnabled()&&(this._hasMouseButton(0)||c);if(c||lt.Controls.ImageViewerInteractiveMode._canStartWorkOther(b))return!0}return!1},canWorkOnItem:function(){return!0},_getVisibleUserControls:function(a){var b=
this.get_interactiveService().get_userControls();if(null==b||!b.length)return null;for(var c=[],b=ss.IEnumerator.getEnumerator(b);b.moveNext();){var d=b.current,e=!0;if(null!=a&&0<a.length)for(var e=!1,f=0;f<a.length&&!e;f++)e=!String.compare(d.tagName,a[f],!0);if(e){var f=lt.LTHelper.getElementStyle(d,"display"),g=lt.LTHelper.getElementStyle(d,"visibility");if("none"===f||"hidden"===g||"collapse"===g)e=!1}e&&c.add(d)}return c},_setCursor:function(a){if(lt.LTHelper.supportsMouse&&1===this._mouseButtons&&
!String.isNullOrEmpty(a)&&null!=this._targetControls&&0<this._targetControls.length){for(var b=this.get_imageViewer().get_mainDiv(),c=0;c<this._targetControls.length;c++){var d=this._targetControls[c];d.target!==b&&(d.target.style.cursor=a,d.cursorChanged=!0)}return!0}return!1},_restoreCursor:function(a){if(lt.LTHelper.supportsMouse&&1===this._mouseButtons&&null!=this._targetControls&&0<this._targetControls.length){for(var b=this.get_interactiveService(),c=0;c<this._targetControls.length;c++){var d=
this._targetControls[c];d.cursorChanged&&(a?d.target.style.cursor=this._idleCursor:(d.target.style.cursor=d.originalCursor,this._targetControls[c].cursorChanged=!1))}c=this.get_imageViewer();null!=b&&null!=this.get_imageViewer()&&!a&&this.get_imageViewer().get_idleInteractiveMode()===this&&c._setIdleInteractiveMode(null)}},_doStartCursor:function(a){if(null!=a&&lt.LTHelper.supportsMouse&&1===this._mouseButtons&&(null!=this._idleCursor||null!=this._workingCursor||null!=this._hitTestStateCursor)){var b=
this._getVisibleUserControls(null);null==b&&(b=[]);var c=null!=a.get_eventCanvas()?a.get_eventCanvas():a.get_foreCanvas();null!=c&&b.add(c);c=a.get_mainDiv();null!=c&&b.add(c);if(null!=b&&0<b.length){c=b.length;this._targetControls=Array(c);for(var d=0;d<c;d++)this._targetControls[d]=new lt.Controls._targetControls,this._targetControls[d].target=b[d],this._targetControls[d].cursorChanged=!1,this._targetControls[d].originalCursor=b[d].style.cursor}b=this.get_interactiveService();null!=this._idleCursor&&
null!=b&&this._setCursor(this._idleCursor)&&a._setIdleInteractiveMode(this)}},_doOnWorkStarted:function(a){this.get_autoDisableTransitions()&&a.disableTransitions();null!=this._interactiveService&&this._interactiveService.set_enableSelection(!1)},_doOnWorkCompleted:function(a){this.get_autoDisableTransitions()&&a.enableTransitions();null!=this._interactiveService&&this._interactiveService.set_enableSelection(!0)},_autoDisableTransitions:!0,get_autoDisableTransitions:function(){return this._autoDisableTransitions},
set_autoDisableTransitions:function(a){return this._autoDisableTransitions=a}};Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"tag",{get:lt.Controls.ImageViewerInteractiveMode.prototype.get_tag,set:lt.Controls.ImageViewerInteractiveMode.prototype.set_tag,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"idleCursor",{get:lt.Controls.ImageViewerInteractiveMode.prototype.get_idleCursor,set:lt.Controls.ImageViewerInteractiveMode.prototype.set_idleCursor,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"workingCursor",{get:lt.Controls.ImageViewerInteractiveMode.prototype.get_workingCursor,set:lt.Controls.ImageViewerInteractiveMode.prototype.set_workingCursor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"hitTestStateCursor",{get:lt.Controls.ImageViewerInteractiveMode.prototype.get_hitTestStateCursor,set:lt.Controls.ImageViewerInteractiveMode.prototype.set_hitTestStateCursor,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"hitTestState",{get:lt.Controls.ImageViewerInteractiveMode.prototype.get_hitTestState,set:lt.Controls.ImageViewerInteractiveMode.prototype.set_hitTestState,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"interactiveService",{get:lt.Controls.ImageViewerInteractiveMode.prototype.get_interactiveService,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,
"imageViewer",{get:lt.Controls.ImageViewerInteractiveMode.prototype.get_imageViewer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"isStarted",{get:lt.Controls.ImageViewerInteractiveMode.prototype.get_isStarted,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"isEnabled",{get:lt.Controls.ImageViewerInteractiveMode.prototype.get_isEnabled,set:lt.Controls.ImageViewerInteractiveMode.prototype.set_isEnabled,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"isWorking",{get:lt.Controls.ImageViewerInteractiveMode.prototype.get_isWorking,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"workStarted",{get:lt.Controls.ImageViewerInteractiveMode.prototype.__workStarted_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"workCompleted",{get:lt.Controls.ImageViewerInteractiveMode.prototype.__workCompleted_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"mouseButtons",{get:lt.Controls.ImageViewerInteractiveMode.prototype.get_mouseButtons,set:lt.Controls.ImageViewerInteractiveMode.prototype.set_mouseButtons,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"isDragMouseWheelEnabled",{get:lt.Controls.ImageViewerInteractiveMode.prototype.get_isDragMouseWheelEnabled,set:lt.Controls.ImageViewerInteractiveMode.prototype.set_isDragMouseWheelEnabled,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"workOnBounds",{get:lt.Controls.ImageViewerInteractiveMode.prototype.get_workOnBounds,set:lt.Controls.ImageViewerInteractiveMode.prototype.set_workOnBounds,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"item",{get:lt.Controls.ImageViewerInteractiveMode.prototype.get_item,set:lt.Controls.ImageViewerInteractiveMode.prototype.set_item,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"itemPart",{get:lt.Controls.ImageViewerInteractiveMode.prototype.get_itemPart,set:lt.Controls.ImageViewerInteractiveMode.prototype.set_itemPart,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"autoItemMode",{get:lt.Controls.ImageViewerInteractiveMode.prototype.get_autoItemMode,set:lt.Controls.ImageViewerInteractiveMode.prototype.set_autoItemMode,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"autoDisableTransitions",{get:lt.Controls.ImageViewerInteractiveMode.prototype.get_autoDisableTransitions,set:lt.Controls.ImageViewerInteractiveMode.prototype.set_autoDisableTransitions,enumerable:!0,configurable:!0});lt.Controls.ImageViewerMagnifyGlassInteractiveMode=function(){lt.Controls.ImageViewerMagnifyGlassInteractiveMode.initializeBase(this);this._renderRedirectOptions$2=new lt.Controls.ImageViewerRenderRedirectOptions};
lt.Controls.ImageViewerMagnifyGlassInteractiveMode.prototype={_scaleFactor$2:2,get_scaleFactor:function(){return this._scaleFactor$2},set_scaleFactor:function(a){if(lt.LeadDoubleTools.isZero(a)||0>a)throw new lt.ArgumentOutOfRangeException("ScaleFactor",a,"Must be a value greater than 0");return this._scaleFactor$2=a},_renderRedirectOptions$2:null,get_renderRedirectOptions:function(){return this._renderRedirectOptions$2},set_renderRedirectOptions:function(a){return this._renderRedirectOptions$2=a},
get_name:function(){return"MagnifyGlass"},get_id:function(){return 8},onWorkStarted:function(a){this._doStarted$2();lt.Controls.ImageViewerMagnifyGlassInteractiveMode.callBaseMethod(this,"onWorkStarted",[a])},onWorkCompleted:function(a){this._doCompleted$2();lt.Controls.ImageViewerMagnifyGlassInteractiveMode.callBaseMethod(this,"onWorkCompleted",[a])},_elements$2:null,_elementPositions$2:null,get_alwaysFillBackground:function(){return!0},_doStarted$2:function(){this._elements$2=this._getVisibleUserControls(["canvas"]);
this._elementPositions$2=null;if(null!=this._elements$2){this._elementPositions$2=[];for(var a=ss.IEnumerator.getEnumerator(this._elements$2);a.moveNext();){var b=a.current;this._elementPositions$2.add(lt.LTHelper.getPosition(b,b.parentNode))}}},_doCompleted$2:function(){null!=this._elements$2&&(this._elements$2.clear(),this._elements$2=null);null!=this._elementPositions$2&&(this._elementPositions$2.clear(),this._elementPositions$2=null)},onDrawImage:function(a){var b=a.get_context();this._renderMagGlass$2(a.get_destinationRectangle(),
b);this._renderChildrenCanvases$2(b);lt.Controls.ImageViewerMagnifyGlassInteractiveMode.callBaseMethod(this,"onDrawImage",[a])},_renderMagGlass$2:function(a,b){var c=this.get_size();c.get_isEmpty()&&(c=lt.LeadSizeD.create(0,0));var d=a;d.get_isEmpty()&&(d=lt.LeadRectD.create(0,0,0,0));if(!(0>=c.get_width()||0>=c.get_height()||0>=d.get_width()||0>=d.get_height())){b.setTransform(1,0,0,1,0,0);var e=this.get_scaleFactor();b.translate(-(e-1)*c.get_width()/2,-(e-1)*c.get_height()/2);b.scale(e,e);b.translate(-d.get_left(),
-d.get_top());c=this.get_imageViewer();b.save();null==this.get_backgroundColor()&&this._renderRedirectOptions$2.set_backgroundColor(this.get__fillBackgroundColor());c.renderRedirect(b,this._renderRedirectOptions$2,lt.LeadRectD.get_empty());b.restore()}},_renderChildrenCanvases$2:function(a){if(null!=this._elements$2)for(var b=0;b<this._elements$2.length;b++){var c=this._elements$2[b],d=this._elementPositions$2[b];a.drawImage(c,d.get_x(),d.get_y(),c.width,c.height)}}};Object.defineProperty(lt.Controls.ImageViewerMagnifyGlassInteractiveMode.prototype,
"scaleFactor",{get:lt.Controls.ImageViewerMagnifyGlassInteractiveMode.prototype.get_scaleFactor,set:lt.Controls.ImageViewerMagnifyGlassInteractiveMode.prototype.set_scaleFactor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerMagnifyGlassInteractiveMode.prototype,"renderRedirectOptions",{get:lt.Controls.ImageViewerMagnifyGlassInteractiveMode.prototype.get_renderRedirectOptions,set:lt.Controls.ImageViewerMagnifyGlassInteractiveMode.prototype.set_renderRedirectOptions,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Controls.ImageViewerMagnifyGlassInteractiveMode.prototype,"name",{get:lt.Controls.ImageViewerMagnifyGlassInteractiveMode.prototype.get_name,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerMagnifyGlassInteractiveMode.prototype,"id",{get:lt.Controls.ImageViewerMagnifyGlassInteractiveMode.prototype.get_id,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerMagnifyGlassInteractiveMode.prototype,"alwaysFillBackground",
{get:lt.Controls.ImageViewerMagnifyGlassInteractiveMode.prototype.get_alwaysFillBackground,enumerable:!0,configurable:!0});lt.Controls.ImageViewerNoneInteractiveMode=function(){lt.Controls.ImageViewerNoneInteractiveMode.initializeBase(this)};lt.Controls.ImageViewerNoneInteractiveMode.prototype={get_name:function(){return"None"},get_id:function(){return 0},start:function(a){lt.Controls.ImageViewerNoneInteractiveMode.callBaseMethod(this,"start",[a])},stop:function(a){this.get_isStarted()&&lt.Controls.ImageViewerNoneInteractiveMode.callBaseMethod(this,
"stop",[a])}};Object.defineProperty(lt.Controls.ImageViewerNoneInteractiveMode.prototype,"name",{get:lt.Controls.ImageViewerNoneInteractiveMode.prototype.get_name,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerNoneInteractiveMode.prototype,"id",{get:lt.Controls.ImageViewerNoneInteractiveMode.prototype.get_id,enumerable:!0,configurable:!0});lt.Controls.ImageViewerPagerInteractiveMode=function(){lt.Controls.ImageViewerPagerInteractiveMode.initializeBase(this)};lt.Controls.ImageViewerPagerInteractiveMode._getPageCount$1=
function(){return 0};lt.Controls.ImageViewerPagerInteractiveMode._getPageNumber$1=function(){return 0};lt.Controls.ImageViewerPagerInteractiveMode._setPageNumber$1=function(){};lt.Controls.ImageViewerPagerInteractiveMode.prototype={get_name:function(){return"Pager"},get_id:function(){return 12},start:function(a){lt.Controls.ImageViewerPagerInteractiveMode.callBaseMethod(this,"start",[a]);a=lt.Controls.ImageViewerPagerInteractiveMode.callBaseMethod(this,"get_interactiveService");a.add_dragStarted(ss.Delegate.create(this,
this._service_DragStarted$1));a.add_dragDelta(ss.Delegate.create(this,this._service_DragDelta$1));a.add_dragCompleted(ss.Delegate.create(this,this._service_DragCompleted$1))},stop:function(a){if(this.get_isStarted()){var b=lt.Controls.ImageViewerPagerInteractiveMode.callBaseMethod(this,"get_interactiveService");b.remove_dragStarted(ss.Delegate.create(this,this._service_DragStarted$1));b.remove_dragDelta(ss.Delegate.create(this,this._service_DragDelta$1));b.remove_dragCompleted(ss.Delegate.create(this,
this._service_DragCompleted$1));lt.Controls.ImageViewerPagerInteractiveMode.callBaseMethod(this,"stop",[a])}},_flipPoint$1:null,_service_DragStarted$1:function(a,b){this.canStartWork(b)&&(this._flipPoint$1=b.get_origin().clone(),b.set_isHandled(!0),this.onWorkStarted(b))},_service_DragDelta$1:function(a,b){if(this.get_isWorking()){var c=this.get_imageViewer(),d=0,e=this.get_item(),f=this.get__changeActiveItem$1(),d=f?c.get_items().get_count():lt.Controls.ImageViewerPagerInteractiveMode._getPageCount$1(e);
if(1<d){var g=parseInt(b.get_position().get_y()-this._flipPoint$1.get_y()),h=lt.Controls.PrimitivesHelper.toInt(c._getClientRectangle().get_height()/d);if(Math.abs(g)>=h){f?(h=c.get_activeItem(),h=c.get_items().indexOf(h)+1):h=lt.Controls.ImageViewerPagerInteractiveMode._getPageNumber$1(e);var i=h;0>g?h--:h++;h=Math.max(1,Math.min(d,h));h!==i&&(f?c.set_activeItem(c.get_items().get_item(h-1)):lt.Controls.ImageViewerPagerInteractiveMode._setPageNumber$1(e,h));this._flipPoint$1=b.get_position().clone()}}b.set_isHandled(!0)}},
_service_DragCompleted$1:function(a,b){this.get_isWorking()&&(b.set_isHandled(!0),this.onWorkCompleted(lt.LeadEventArgs.Empty))},get__changeActiveItem$1:function(){return!0}};Object.defineProperty(lt.Controls.ImageViewerPagerInteractiveMode.prototype,"name",{get:lt.Controls.ImageViewerPagerInteractiveMode.prototype.get_name,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPagerInteractiveMode.prototype,"id",{get:lt.Controls.ImageViewerPagerInteractiveMode.prototype.get_id,
enumerable:!0,configurable:!0});lt.Controls.ImageViewerPanControl=function(){this._renderRedirectOptions=new lt.Controls.ImageViewerRenderRedirectOptions;this._mouseButton=1;this._insideRect=lt.LeadRectD.create(0,0,0,0);this._outsideRect=lt.LeadRectD.create(0,0,0,0);this._renderRedirectOptions.set_renderBorders(!1);this._renderRedirectOptions.set_renderShadows(!1);this._renderRedirectOptions.set_renderBackgrounds(!1);this._renderRedirectOptions.set_renderText(!1);this._renderRedirectOptions.set_renderItemStates(!1)};
lt.Controls.ImageViewerPanControl.prototype={_interactiveService:null,get_interactiveService:function(){return this._interactiveService},_imageViewer:null,get_imageViewer:function(){return this._imageViewer},set_imageViewer:function(a){null!=this._imageViewer&&(this._imageViewer.remove_transformChanged(ss.Delegate.create(this,this._imageViewer_TransformChanged)),this._imageViewer.remove_redirectRender(ss.Delegate.create(this,this._imageViewer_RedirectRender)));this._imageViewer=a;null!=this._imageViewer&&
(this._imageViewer.add_transformChanged(ss.Delegate.create(this,this._imageViewer_TransformChanged)),this._imageViewer.add_redirectRender(ss.Delegate.create(this,this._imageViewer_RedirectRender)));this._updateTransform();return a},get__hasControl:function(){return null!=this._control},_control:null,get_control:function(){return this._control},set_control:function(a){null!=this._control&&this._attachControl(this._control,!1);this._control=a;null!=this._control&&this._attachControl(this._control,!0);
this._reCreate();return a},_workingCursor:null,get_workingCursor:function(){return this._workingCursor},set_workingCursor:function(a){return this._workingCursor=a},get_mouseButton:function(){return this._mouseButton},set_mouseButton:function(a){return this._mouseButton=a},_enablePan:!0,get_enablePan:function(){return this._enablePan},set_enablePan:function(a){this._enablePan=a;this._reCreate();return a},_reCreate:function(){this._enablePan?(null!=this._interactiveService&&this._disposeInteractiveService(),
this._createInteractiveService()?(this._interactiveService.add_dragStarted(ss.Delegate.create(this,this._interactiveService_DragStarted)),this._interactiveService.add_dragDelta(ss.Delegate.create(this,this._interactiveService_DragDelta)),this._interactiveService.add_dragCompleted(ss.Delegate.create(this,this._interactiveService_DragCompleted)),this._interactiveService.startListening(),this._updateTransform(),this._invalidate()):this._disposeInteractiveService()):this._disposeInteractiveService()},
_createInteractiveService:function(){if(null==this._control)return!1;this._interactiveService=lt.Controls.InteractiveService.create(this._control,this._control,this._control);return!0},_imageViewer_TransformChanged:function(){this._updateTransform()},_imageViewer_RedirectRender:function(){this._invalidate()},_getPanItem:function(){if(!this.get__hasControl()||null==this._imageViewer||!this._imageViewer.get_hasItems())return null;var a=this._imageViewer.get_activeItem();null==a&&(a=this._imageViewer.get_items().get_item(0));
return a},_updateTransform:function(){if(null==this._getPanItem())this._insideRect=lt.LeadRectD.create(0,0,0,0),this._outsideRect=lt.LeadRectD.create(0,0,0,0);else{var a=this._imageViewer.getViewBounds(!1,!1),b=lt.LeadRectD.intersectRects(a,lt.Controls.PrimitivesHelper.toLeadRectD(this._imageViewer._getClientRectangle()));this._renderRedirectOptions.createTransform(this._imageViewer,this._getControlClientRectangle(),a,3,1,1);a=lt.Controls.PrimitivesHelper.transformRect(a,this._renderRedirectOptions.get_transform());
b=lt.Controls.PrimitivesHelper.transformRect(b,this._renderRedirectOptions.get_transform());this._insideRect=b.clone();this._outsideRect=a.clone();this._canPan=!lt.LeadRectD.equals(this._insideRect,this._outsideRect)}},_canPan:!1,_isPanning:!1,_originalCursor:null,_interactiveService_DragStarted:function(a,b){var c=lt.Controls.PrimitivesHelper.toLeadPointD(b.get_position().clone());if(null!=this._getPanItem()&&b.get_mouseButton()===this.get_mouseButton()&&this._canPan&&this._outsideRect.containsPoint(c)&&
(this._imageViewer.disableTransitions(),lt.Controls._controlInertiaScroller.get_instance()._removeParams(this._imageViewer),this._isPanning=!0,null!=this._workingCursor?(this._originalCursor=this._getCurrentCursor(),this._setCursor(this._workingCursor)):this._originalCursor=null,!this._insideRect.containsPoint(c)&&!b.get_isMouseWheel())){var d=this._insideRect.get_x()+this._insideRect.get_width()/2,e=this._insideRect.get_y()+this._insideRect.get_height()/2,c=lt.LeadPointD.create(d-c.get_x(),e-c.get_y());
this._scrollBy(lt.Controls.PrimitivesHelper.toLeadPoint(c))}},_interactiveService_DragDelta:function(a,b){this._isPanning&&null!=this._imageViewer&&(this._handleDrag(b),this._scrollBy(b.get_change()))},_scrollBy:function(a){if(a.get_x()||a.get_y()){var b=lt.LeadRectD.create(0,0,Math.abs(a.get_x()),Math.abs(a.get_y())),b=lt.Controls.PrimitivesHelper.getCornerPoints(b),c=this._renderRedirectOptions.get_transform().clone();c.get_hasInverse()&&c.invert();c.transformPoints(b);b=lt.Controls.PrimitivesHelper.getBoundingRect(b);
b=lt.LeadPointD.create(lt.Controls.PrimitivesHelper.toInt(b.get_width()),lt.Controls.PrimitivesHelper.toInt(b.get_height()));0<a.get_x()&&b.set_x(-1*b.get_x());0<a.get_y()&&b.set_y(-1*b.get_y());this._imageViewer.scrollBy(b)}},_interactiveService_DragCompleted:function(){this._isPanning&&(this._imageViewer.enableTransitions(),this._isPanning=!1);null!=this._workingCursor&&this._setCursor(this._originalCursor)},_disposeInteractiveService:function(){null!=this._interactiveService&&(this._interactiveService.remove_dragStarted(ss.Delegate.create(this,
this._interactiveService_DragStarted)),this._interactiveService.remove_dragDelta(ss.Delegate.create(this,this._interactiveService_DragDelta)),this._interactiveService.remove_dragCompleted(ss.Delegate.create(this,this._interactiveService_DragCompleted)),this._interactiveService.stopListening(),this._interactiveService.dispose(),this._interactiveService=null)},_cleanUp:function(){this._disposeInteractiveService();this.set_control(null);this.set_imageViewer(null)},get_canvas:function(){return this.get_control()},
set_canvas:function(a){this.set_control(a);return a},_attachControl:function(){},_getControlClientRectangle:function(){if(null==this._control)return lt.LeadRectD.get_empty();var a=this._control;return lt.LeadRectD.create(0,0,a.width,a.height)},_borderColor:"blue",get_borderColor:function(){return this._borderColor},set_borderColor:function(a){return this._borderColor=a},_borderThickness:1,get_borderThickness:function(){return this._borderThickness},set_borderThickness:function(a){return this._borderThickness=
a},_insideColor:null,get_insideColor:function(){return this._insideColor},set_insideColor:function(a){return this._insideColor=a},_outsideColor:null,get_outsideColor:function(){return this._outsideColor},set_outsideColor:function(a){return this._outsideColor=a},_setCursor:function(a){lt.LTHelper.supportsMouse&&(this._control.style.cursor=a)},_getCurrentCursor:function(){return lt.LTHelper.supportsMouse?this._control.style.cursor:null},_handleDrag:function(a){a.get_nativeEvent().preventDefault()},
_invalidate:function(){if(null!=this._control){var a=this._control,b=a.getContext("2d");b.clearRect(0,0,a.width,a.height);this._imageViewer.renderRedirect(b,this._renderRedirectOptions,lt.LeadRectD.get_empty());b.save();String.isNullOrEmpty(this._insideColor)||(b.fillStyle=this._insideColor,b.fillRect(this._insideRect.get_x(),this._insideRect.get_y(),this._insideRect.get_width(),this._insideRect.get_height()));if(!String.isNullOrEmpty(this._outsideColor)&&this._canPan){a=lt.Controls.GraphicsHelper.saveContext(b);
try{lt.Controls.GraphicsHelper.renderExcludeClip(b,this._outsideRect,this._insideRect,this._outsideColor)}finally{lt.Controls.GraphicsHelper.restoreContext(b,a)}}!String.isNullOrEmpty(this._borderColor)&&0<this._borderThickness&&(b.strokeStyle=this._borderColor,b.strokeRect(this._insideRect.get_x(),this._insideRect.get_y(),this._insideRect.get_width(),this._insideRect.get_height()));b.restore()}},dispose:function(){this._cleanUp()}};Object.defineProperty(lt.Controls.ImageViewerPanControl.prototype,
"interactiveService",{get:lt.Controls.ImageViewerPanControl.prototype.get_interactiveService,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanControl.prototype,"imageViewer",{get:lt.Controls.ImageViewerPanControl.prototype.get_imageViewer,set:lt.Controls.ImageViewerPanControl.prototype.set_imageViewer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanControl.prototype,"control",{get:lt.Controls.ImageViewerPanControl.prototype.get_control,
set:lt.Controls.ImageViewerPanControl.prototype.set_control,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanControl.prototype,"workingCursor",{get:lt.Controls.ImageViewerPanControl.prototype.get_workingCursor,set:lt.Controls.ImageViewerPanControl.prototype.set_workingCursor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanControl.prototype,"mouseButton",{get:lt.Controls.ImageViewerPanControl.prototype.get_mouseButton,set:lt.Controls.ImageViewerPanControl.prototype.set_mouseButton,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanControl.prototype,"enablePan",{get:lt.Controls.ImageViewerPanControl.prototype.get_enablePan,set:lt.Controls.ImageViewerPanControl.prototype.set_enablePan,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanControl.prototype,"canvas",{get:lt.Controls.ImageViewerPanControl.prototype.get_canvas,set:lt.Controls.ImageViewerPanControl.prototype.set_canvas,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanControl.prototype,
"borderColor",{get:lt.Controls.ImageViewerPanControl.prototype.get_borderColor,set:lt.Controls.ImageViewerPanControl.prototype.set_borderColor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanControl.prototype,"borderThickness",{get:lt.Controls.ImageViewerPanControl.prototype.get_borderThickness,set:lt.Controls.ImageViewerPanControl.prototype.set_borderThickness,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanControl.prototype,"insideColor",
{get:lt.Controls.ImageViewerPanControl.prototype.get_insideColor,set:lt.Controls.ImageViewerPanControl.prototype.set_insideColor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanControl.prototype,"outsideColor",{get:lt.Controls.ImageViewerPanControl.prototype.get_outsideColor,set:lt.Controls.ImageViewerPanControl.prototype.set_outsideColor,enumerable:!0,configurable:!0});lt.Controls.ImageViewerPanZoomInteractiveMode=function(){this._transformTarget$1=0;this._zoomKeyModifier$1=
131072;this._pageKeyModifier$1=262144;this._doubleTapSizeMode$1=4;this._inertiaScrollOptions$1=lt.Controls.ControlInertiaScrollOptions.createDefault();this._runningVelocity$1=lt.LeadPointD.create(0,0);this._delta$1=lt.LeadPointD.create(0,0);lt.Controls.ImageViewerPanZoomInteractiveMode.initializeBase(this);this.set_workOnBounds(!1);this._inertiaScroll_Delegate$1=ss.Delegate.create(this,this._inertiaScroll);this._timerCallback_Delegate$1=ss.Delegate.create(this,this._timerCallback$1)};lt.Controls.ImageViewerPanZoomInteractiveMode._calculateDefaultMouseWheelChange$1=
function(a,b){b=b.clone();if(null==a)return b;if(1<a.get_items().get_count()){var c=a.getLargestVisibleItem(1);if(null!=c&&(c=a.getItemViewBounds(c,1,!1),!c.get_isEmpty()))return c=Math.max(1,lt.Controls.PrimitivesHelper.toInt(c.get_height())),c=Math.max(1,c/10),b.set_x(0),b.set_y(b.get_y()*-Math.max(1,lt.Controls.PrimitivesHelper.toInt(c))),b}c=lt.Controls.PrimitivesHelper.toLeadRect(a.getViewBounds(!1,!0));b.set_x(0);b.set_y(b.get_y()*-Math.max(1,c.get_height()/10));return b};lt.Controls.ImageViewerPanZoomInteractiveMode._calculateMouseWheelChange=
function(a,b){b=b.clone();return null==a?b:b.get_isEmpty()?lt.Controls.ImageViewerPanZoomInteractiveMode._calculateDefaultMouseWheelChange$1(a,b):lt.LeadPointD.create(0,-b.get_y())};lt.Controls.ImageViewerPanZoomInteractiveMode._calculateMouseWheelZoomChange$1=function(a){return a};lt.Controls.ImageViewerPanZoomInteractiveMode._updateForMouseWheel$1=function(a){return a};lt.Controls.ImageViewerPanZoomInteractiveMode.prototype={_inertiaScroll_Delegate$1:null,_timerCallback_Delegate$1:null,_enablePan$1:!0,
get_enablePan:function(){return this._enablePan$1},set_enablePan:function(a){if(this.get_isStarted())throw new lt.InvalidOperationException("Cannot change the property of this value while the interactive mode is started");return this._enablePan$1=a},_enableZoom$1:!0,get_enableZoom:function(){return this._enableZoom$1},set_enableZoom:function(a){if(this.get_isStarted())throw new lt.InvalidOperationException("Cannot change the property of this value while the interactive mode is started");return this._enableZoom$1=
a},_enablePinchZoom$1:!0,get_enablePinchZoom:function(){return this._enablePinchZoom$1},set_enablePinchZoom:function(a){if(this.get_isStarted())throw new lt.InvalidOperationException("Cannot change the property of this value while the interactive mode is started");return this._enablePinchZoom$1=a},get_transformTarget:function(){return this._transformTarget$1},set_transformTarget:function(a){if(this.get_isWorking())throw new lt.InvalidOperationException("Cannot change this property while the interactive mode is working");
return this._transformTarget$1=a},get_zoomKeyModifier:function(){return this._zoomKeyModifier$1},set_zoomKeyModifier:function(a){switch(a){case 0:case 262144:case 65536:case 131072:this._zoomKeyModifier$1=a;break;default:throw new lt.ArgumentException("Invalid value","ZoomKeyModifier");}return a},get_pageKeyModifier:function(){return this._pageKeyModifier$1},set_pageKeyModifier:function(a){switch(a){case 0:case 262144:case 65536:case 131072:this._pageKeyModifier$1=a;break;default:throw new lt.ArgumentException("Invalid value",
"PageKeyModifier");}return a},_isKeyboardEnabled$1:!0,get_isKeyboardEnabled:function(){return this._isKeyboardEnabled$1},set_isKeyboardEnabled:function(a){return this._isKeyboardEnabled$1=a},_zoomAtWorkBoundsCenter$1:!1,get_zoomAtWorkBoundsCenter:function(){return this._zoomAtWorkBoundsCenter$1},set_zoomAtWorkBoundsCenter:function(a){return this._zoomAtWorkBoundsCenter$1=a},_minimumScaleFactor$1:0.1,get_minimumScaleFactor:function(){return this._minimumScaleFactor$1},set_minimumScaleFactor:function(a){if(a<
this.get_imageViewer().get_minimumScaleFactor())throw new lt.ArgumentOutOfRangeException("MinimumScaleFactor",a,"Must be a value greater than or equal to 'ImageViewer.MinimumScaleFactor'");return this._minimumScaleFactor$1=a},get_doubleTapSizeMode:function(){return this._doubleTapSizeMode$1},set_doubleTapSizeMode:function(a){return this._doubleTapSizeMode$1=a},get_name:function(){return"PanZoom"},get_id:function(){return 1},_isKeyboardHooked$1:!1,start:function(a){lt.Controls.ImageViewerPanZoomInteractiveMode.callBaseMethod(this,
"start",[a]);a=lt.Controls.ImageViewerPanZoomInteractiveMode.callBaseMethod(this,"get_interactiveService");a.add_dragStarted(ss.Delegate.create(this,this._service_DragStarted$1));a.add_dragDelta(ss.Delegate.create(this,this._service_DragDelta$1));a.add_dragCompleted(ss.Delegate.create(this,this._service_DragCompleted$1));a.add_doubleTap(ss.Delegate.create(this,this._service_DoubleTap$1));this.get_isKeyboardEnabled()&&(a.add_keyDown(ss.Delegate.create(this,this._service_KeyDown$1)),this._isKeyboardHooked$1=
!0);this._doStart$1(a);this._isZooming$1=this._isDragging$1=!1},stop:function(a){if(null!=lt.Controls._controlInertiaScroller.get_instance()._getParams(a)){lt.Controls._controlInertiaScroller.get_instance()._removeParams(a);var b=lt.Controls.ImageViewerSyncManager.beginSync(a.get_syncId());if(a.get_isSyncSource()&&null!=b)for(var c=0;c<b.length;c++){var d=b[c];d!==a&&d.get_isSyncTarget()&&lt.Controls._controlInertiaScroller.get_instance()._removeParams(d)}lt.Controls.ImageViewerSyncManager.endSync(a.get_syncId())}this._isZooming$1=
this._isDragging$1=!1;this.get_isStarted()&&(b=lt.Controls.ImageViewerPanZoomInteractiveMode.callBaseMethod(this,"get_interactiveService"),b.remove_dragStarted(ss.Delegate.create(this,this._service_DragStarted$1)),b.remove_dragDelta(ss.Delegate.create(this,this._service_DragDelta$1)),b.remove_dragCompleted(ss.Delegate.create(this,this._service_DragCompleted$1)),b.remove_doubleTap(ss.Delegate.create(this,this._service_DoubleTap$1)),this._isKeyboardHooked$1&&(b.remove_keyDown(ss.Delegate.create(this,
this._service_KeyDown$1)),this._isKeyboardHooked$1=!1),this._doStop$1(b),lt.Controls.ImageViewerPanZoomInteractiveMode.callBaseMethod(this,"stop",[a]))},_isDragging$1:!1,_isZooming$1:!1,_service_DragStarted$1:function(a,b){if(this.canStartWork(b)&&!this.get__isPinching$1()){this._isZooming$1=this._isDragging$1=!1;var c=this.get_imageViewer(),d=lt.Controls._controlInertiaScroller.get_instance()._getParams(c);if(null!=d){d.amplitude.set_x(0);d.amplitude.set_y(0);d.stopping=!0;this._runningVelocity$1.set_x(0);
this._runningVelocity$1.set_y(0);this._delta$1.set_x(0);this._delta$1.set_y(0);d=lt.Controls.ImageViewerSyncManager.beginSync(c.get_syncId());if(c.get_isSyncSource()&&null!=d)for(var e=0;e<d.length;e++){var f=d[e];f!==c&&f.get_isSyncTarget()&&lt.Controls._controlInertiaScroller.get_instance()._removeParams(f)}lt.Controls.ImageViewerSyncManager.endSync(c.get_syncId())}e=this.get_enableZoom();c=this.get_enablePan();d=this.get_enablePinchZoom();e&&(e=this.get_zoomKeyModifier(),f=!!e,this.get_interactiveService().get_supportsMouse()?
this._isZooming$1=f?lt.Controls.InteractiveService.checkKeyModifier(b.get_nativeEvent(),e):!c:(this._isZooming$1=!c&&!d,!this._isZooming$1&&f&&(this._isZooming$1=lt.Controls.InteractiveService.checkKeyModifier(b.get_nativeEvent(),e))));if(this._isZooming$1||c)this._isZooming$1||(this._timestamp$1=lt.Controls.ControlsHelper.getDateTimeNow(),this._timer$1=new lt.Controls._leadTimer(null,this._timerCallback_Delegate$1,null,0,10)),this._isDragging$1=!0,b.set_isHandled(!0),this.onWorkStarted(b)}},_service_DragDelta$1:function(a,
b){this.get_isWorking()&&this._isDragging$1&&(this._isZooming$1?this.zoom(this.get_imageViewer(),b):(this.get_enablePan()&&this.pan(this.get_imageViewer(),b),this._delta$1=b.get_change(),null!=this._timer$1&&this._timerCallback$1(null)))},_service_DragCompleted$1:function(a,b){if(this.get_isWorking()&&this._isDragging$1){var c=this._isZooming$1;this._isZooming$1=this._isDragging$1=!1;b.set_isHandled(!0);var d=this.get_imageViewer();d._internalEndOptimizedZoom();null!=this._timer$1&&(this._timer$1.dispose(),
this._timer$1=null);if(!c&&!b.get_isCanceled()&&this.get_inertiaScrollOptions().get_isEnabled()&&d.get__realRestrictScrollMode()&&!b.get_isMouseWheel()&&!this._transformTarget$1){this._delta$1.set_x(0);this._delta$1.set_y(0);var e=lt.LeadPointD.create(0.8*this._runningVelocity$1.get_x(),0.8*this._runningVelocity$1.get_y()),c=new lt.Controls._inertiaParams;c.target=d;c.amplitude=e;c.timestamp=lt.Controls.ControlsHelper.getDateTimeNow();c.callback=this._inertiaScroll_Delegate$1;c.targetOffset=lt.LeadPointD.create(lt.Controls.PrimitivesHelper.toInt(d.get_scrollOffset().get_x()+
e.get_x()),lt.Controls.PrimitivesHelper.toInt(d.get_scrollOffset().get_y()+e.get_y()));lt.Controls._controlInertiaScroller.get_instance()._addUpdateParams(c);c=lt.Controls.ImageViewerSyncManager.beginSync(d.get_syncId());d.get_isSyncSource()&&null!=c&&c.forEach(function(a){if(a!==d&&a.get_isSyncTarget()){var b=e.clone(),c=new lt.Controls._inertiaParams;c.target=a;c.amplitude=b;c.timestamp=lt.Controls.ControlsHelper.getDateTimeNow();c.callback=function(b,c){if(c)lt.Controls._controlInertiaScroller.get_instance()._removeParams(a);
else if(a!=null){lt.Controls.ImageViewerSyncManager.beginSync(a.get_syncId());a.disableTransitions();a.set_scrollOffset(b);a.enableTransitions();lt.Controls.ImageViewerSyncManager.endSync(a.get_syncId())}};c.targetOffset=lt.LeadPointD.create(lt.Controls.PrimitivesHelper.toInt(a.get_scrollOffset().get_x()+b.get_x()),lt.Controls.PrimitivesHelper.toInt(a.get_scrollOffset().get_y()+b.get_y()));lt.Controls._controlInertiaScroller.get_instance()._addUpdateParams(c)}});lt.Controls.ImageViewerSyncManager.endSync(d.get_syncId())}this._runningVelocity$1.set_x(0);
this._runningVelocity$1.set_y(0);this._delta$1.set_x(0);this._delta$1.set_y(0);this.onWorkCompleted(b)}},_service_DoubleTap$1:function(a,b){var c=this.get_doubleTapSizeMode();!this.get_isWorking()&&!b.get_isHandled()&&c&&c&&this.canStartWork(b)&&this.doubleTapZoom(this.get_imageViewer(),b)},_service_KeyDown$1:function(a,b){if(!(b.get_isHandled()||!this.get_isKeyboardEnabled()&&this.get_isWorking())){var c=!1,d=b.get_keyCode();if(37===d||38===d||39===d||40===d||33===d||34===d||36===d||35===d){var e=
this.get_imageViewer(),f=1,g=1,h=!1,i=lt.LeadRectD.create(0,0,0,0);if(1<e.get_items().get_count()){var j=e.getLargestVisibleItem(1);null!=j&&(i=e.getItemViewBounds(j,1,!0),i.get_isEmpty()||(f=Math.max(1,lt.Controls.PrimitivesHelper.toInt(i.get_width())),g=Math.max(1,lt.Controls.PrimitivesHelper.toInt(i.get_height())),h=!0))}h||(i=this.getWorkBounds(e,!0),i.get_isEmpty()||(f=Math.max(1,lt.Controls.PrimitivesHelper.toInt(i.get_width())),g=Math.max(1,lt.Controls.PrimitivesHelper.toInt(i.get_height()))));
var j=Math.max(1,f/10),h=Math.max(1,g/10),k=lt.LeadPointD.create(0,0),n=lt.Controls.InteractiveService.checkKeyModifier(b.get_nativeEvent(),this.get_pageKeyModifier());if(lt.Controls.InteractiveService.checkKeyModifier(b.get_nativeEvent(),this.get_zoomKeyModifier())){if(!this.get_enableZoom())return;if(38===d||40===d)c=!0,f=new lt.Controls.InteractiveDragDeltaEventArgs,f.set_nativeEvent(b.get_nativeEvent()),f.set_mouseButton(0),f.set_isMouseWheel(!1),f.set_origin(lt.Controls.PrimitivesHelper.toLeadPoint(lt.Controls.PrimitivesHelper.getCenterPoint(i))),
f.set_position(lt.LeadPointD.create(0,0)),f.set_change(lt.LeadPointD.create(0,38===d?h:-h)),this.zoom(e,f)}else{if(!this.get_enablePan())return;switch(d){case 37:k.set_x(n?-f:-j);break;case 38:k.set_y(n?-g:-h);break;case 39:k.set_x(n?f:j);break;case 40:k.set_y(n?g:h);break;case 33:k.set_y(-g);break;case 34:k.set_y(g);break;case 36:k.set_y(-1.0737418235E9);k.set_x(-1.0737418235E9);break;case 35:k.set_y(1.0737418235E9),k.set_x(1.0737418235E9)}if(k.get_x()||k.get_y())c=!0,e.scrollByRestrict(k)}b.set_isHandled(c)}}},
pan:function(a,b){if(null!=a){b.set_isHandled(!0);var c=b.get_change().clone(),d=b.get_isMouseWheel();d&&(c=lt.Controls.ImageViewerPanZoomInteractiveMode._calculateMouseWheelChange(a,c));if(lt.Controls.ImageViewerPanZoomInteractiveMode._updateForMouseWheel$1(this._transformTarget$1,d)){if(!(c.get_isEmpty()||!c.get_x()&&!c.get_y()))if(d=a.hitTestItem(b.get_origin()),null!=d)if(c=lt.LeadPointD.create(-c.get_x()/a.get_xScaleFactor(),-c.get_y()/a.get_yScaleFactor()),2===this._transformTarget$1)d.offsetBy(c);
else if(1===this._transformTarget$1){a.beginTransform();for(d=0;d<a.get_items().get_count();d++)a.get_items().get_item(d).offsetBy(c);a.endTransform()}}else a.scrollBy(c)}},zoom:function(a,b){if(null!=a){b.set_isHandled(!0);var c=this.getWorkBounds(a,!0),d=parseInt(b.get_change().get_y());b.get_isMouseWheel()&&(d=lt.Controls.ImageViewerPanZoomInteractiveMode._calculateMouseWheelZoomChange$1(d));if(0<Math.abs(d)&&0<c.get_height())if(d/=c.get_height(),this._transformTarget$1){if(f=b.get_origin(),c=
a.hitTestItem(f),null!=c){var e=this.get_imageViewer().getItemViewBounds(c,1,!1),f=lt.LeadPointD.create((f.get_x()-e.get_x())/e.get_width(),(f.get_y()-e.get_y())/e.get_height());if(2===this._transformTarget$1)this._zoomForItem$1(a,c,d,f);else if(1===this._transformTarget$1){a.beginTransform();for(c=0;c<a.get_items().get_count();c++)e=a.get_items().get_item(c),this._zoomForItem$1(a,e,d,f);a.endTransform()}}}else if(d*=a.get_scaleFactor(),d=a.get_scaleFactor()+2*d,d>this.get_minimumScaleFactor()){var f=
this.get_zoomAtWorkBoundsCenter()?lt.Controls.PrimitivesHelper.getCenterPoint(lt.Controls.PrimitivesHelper.toLeadRect(c)):b.get_origin();a._internalOptimizedZoom(0,d,f)}}},_zoomForItem$1:function(a,b,c,d){c*=b.get_scaleFactor();c=b.get_scaleFactor()+2*c;if(c>this.get_minimumScaleFactor()){var a=a.getItemViewBounds(b,1,!1),e=lt.LeadPointD.get_empty(),e=this.get_zoomAtWorkBoundsCenter()?lt.Controls.PrimitivesHelper.getCenterPoint(a):lt.LeadPointD.create(d.get_x()*a.get_width()+a.get_x(),d.get_y()*a.get_height()+
a.get_y()),e=this.get_imageViewer().convertPoint(b,0,4,e),e=b.get_transform().transformPoint(e);b.zoom(0,c,e)}},doubleTapZoom:function(a,b){if(null!=a){b.set_isHandled(!0);this.onWorkStarted(b);if(this._transformTarget$1){var c=b.get_position(),d=a.hitTestItem(c);if(null==d)return;if(2===this._transformTarget$1)d.zoom(this.get_doubleTapSizeMode(),1,lt.Controls.PrimitivesHelper.toLeadPointD(c));else if(1===this._transformTarget$1){d=this.get_imageViewer().getItemViewBounds(d,1,!1);c=lt.LeadPointD.create((c.get_x()-
d.get_x())/d.get_width(),(c.get_y()-d.get_y())/d.get_height());a.beginTransform();for(var e=0;e<a.get_items().get_count();e++){var f=a.get_items().get_item(e),g=lt.LeadPointD.create(c.get_x()*d.get_width()+d.get_x(),c.get_y()*d.get_height()+d.get_y()),g=this.get_imageViewer().convertPoint(f,0,4,g),g=f.get_transform().transformPoint(g);f.zoom(this.get_doubleTapSizeMode(),1,g)}a.endTransform()}}else a.zoom(this.get_doubleTapSizeMode(),1,b.get_position());this.onWorkCompleted(lt.LeadEventArgs.Empty)}},
_timer$1:null,_timestamp$1:0,get_inertiaScrollOptions:function(){return this._inertiaScrollOptions$1},set_inertiaScrollOptions:function(a){return this._inertiaScrollOptions$1=a},_inertiaScroll:function(a,b){var c=this.get_imageViewer();b?lt.Controls._controlInertiaScroller.get_instance()._removeParams(c):null!=c&&(lt.Controls.ImageViewerSyncManager.beginSync(c._syncId),c.disableTransitions(),c.set_scrollOffset(a),c.enableTransitions(),lt.Controls.ImageViewerSyncManager.endSync(c._syncId))},_trackVelocity$1:function(){var a=
lt.Controls.ControlsHelper.getDateTimeNow(),b=Math.max(1,lt.Controls.ControlsHelper.getTimeSpan(a,this._timestamp$1));this._timestamp$1=a;b=lt.LeadPointD.create(200*this._delta$1.get_x()/b,200*this._delta$1.get_y()/b);a=Math.min(12E3,Math.max(-12E3,0.8*b.get_x()+0.2*this._runningVelocity$1.get_x()));b=Math.min(12E3,Math.max(-12E3,0.8*b.get_y()+0.2*this._runningVelocity$1.get_y()));-5.0E-4<a&&5.0E-4>a&&(a=0);-5.0E-4<b&&5.0E-4>b&&(b=0);this._runningVelocity$1.set_x(a);this._runningVelocity$1.set_y(b);
this._delta$1.set_x(0);this._delta$1.set_y(0)},_isPinching$1:!1,_lastPinchDistanceRatio$1:0,_pinchOriginalScaleFactor$1:0,_pinchOriginalCenter$1:null,_pinchTransformTargetItem$1:null,_doStart$1:function(a){a.add_pinchStarted(ss.Delegate.create(this,this._service_PinchStarted$1));a.add_pinchDelta(ss.Delegate.create(this,this._service_PinchDelta$1));a.add_pinchCompleted(ss.Delegate.create(this,this._service_PinchCompleted$1));this._isPinching$1=!1;this._pinchTransformTargetItem$1=null},_doStop$1:function(a){this._isPinching$1=
!1;this._pinchTransformTargetItem$1=null;a.remove_pinchStarted(ss.Delegate.create(this,this._service_PinchStarted$1));a.remove_pinchDelta(ss.Delegate.create(this,this._service_PinchDelta$1));a.remove_pinchCompleted(ss.Delegate.create(this,this._service_PinchCompleted$1))},_service_PinchStarted$1:function(a,b){if(this.canStartWork(b)&&!this._isDragging$1&&this._enableZoom$1&&this._enablePinchZoom$1){var c=lt.LeadRectD.fromLTRB(b.get_origin().get_x(),b.get_origin().get_y(),b.get_origin2().get_x(),b.get_origin2().get_y()),
c=lt.LeadPointD.create(c.get_left()+c.get_width()/2,c.get_top()+c.get_height()/2),d=this.get_imageViewer();if(this._transformTarget$1&&(this._pinchTransformTargetItem$1=d.hitTestItem(c),null==this._pinchTransformTargetItem$1))return;this.onWorkStarted(b);this._isPinching$1=!0;this._lastPinchDistanceRatio$1=1;this._pinchOriginalCenter$1=c;this._pinchOriginalScaleFactor$1=this._transformTarget$1?this._pinchTransformTargetItem$1.get_scaleFactor():d.get_scaleFactor()}},_service_PinchDelta$1:function(a,
b){if(this.get_isWorking()&&this._isPinching$1&&this._lastPinchDistanceRatio$1!==b.get_distanceRatio()){var c=this.get_imageViewer();lt.LTHelper.msPointerEnabled&&b.set_distanceRatio(b.get_distanceRatio()*this._lastPinchDistanceRatio$1);this._lastPinchDistanceRatio$1=b.get_distanceRatio();var d=this._pinchOriginalScaleFactor$1*b.get_distanceRatio();if(d>this.get_minimumScaleFactor())if(this._transformTarget$1){var e=this._pinchTransformTargetItem$1;if(null!=e){var f=this._pinchOriginalCenter$1,g=
this.get_imageViewer().getItemViewBounds(e,1,!1),f=lt.LeadPointD.create((f.get_x()-g.get_x())/g.get_width(),(f.get_y()-g.get_y())/g.get_height());if(2===this._transformTarget$1)this._pinchForItem$1(c,e,d,f);else if(1===this._transformTarget$1){c.beginTransform();for(e=0;e<c.get_items().get_count();e++)g=c.get_items().get_item(e),this._pinchForItem$1(c,g,d,f);c.endTransform()}}}else c._internalOptimizedZoom(0,d,this._pinchOriginalCenter$1)}},_pinchForItem$1:function(a,b,c,d){a=a.getItemViewBounds(b,
1,!1);d=lt.LeadPointD.create(d.get_x()*a.get_width()+a.get_x(),d.get_y()*a.get_height()+a.get_y());d=this.get_imageViewer().convertPoint(b,0,4,d);d=b.get_transform().transformPoint(d);b.zoom(0,c,d)},_service_PinchCompleted$1:function(){this.get_isWorking()&&this._isPinching$1&&(this._isPinching$1=!1,this.get_imageViewer()._internalEndOptimizedZoom(),this.onWorkCompleted(lt.LeadEventArgs.Empty))},get__isPinching$1:function(){return this._isPinching$1},_timerCallback$1:function(){this._trackVelocity$1()}};
Object.defineProperty(lt.Controls.ImageViewerPanZoomInteractiveMode.prototype,"enablePan",{get:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.get_enablePan,set:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.set_enablePan,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanZoomInteractiveMode.prototype,"enableZoom",{get:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.get_enableZoom,set:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.set_enableZoom,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanZoomInteractiveMode.prototype,"enablePinchZoom",{get:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.get_enablePinchZoom,set:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.set_enablePinchZoom,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanZoomInteractiveMode.prototype,"transformTarget",{get:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.get_transformTarget,set:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.set_transformTarget,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanZoomInteractiveMode.prototype,"zoomKeyModifier",{get:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.get_zoomKeyModifier,set:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.set_zoomKeyModifier,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanZoomInteractiveMode.prototype,"pageKeyModifier",{get:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.get_pageKeyModifier,set:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.set_pageKeyModifier,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanZoomInteractiveMode.prototype,"isKeyboardEnabled",{get:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.get_isKeyboardEnabled,set:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.set_isKeyboardEnabled,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanZoomInteractiveMode.prototype,"zoomAtWorkBoundsCenter",{get:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.get_zoomAtWorkBoundsCenter,
set:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.set_zoomAtWorkBoundsCenter,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanZoomInteractiveMode.prototype,"minimumScaleFactor",{get:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.get_minimumScaleFactor,set:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.set_minimumScaleFactor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanZoomInteractiveMode.prototype,"doubleTapSizeMode",
{get:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.get_doubleTapSizeMode,set:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.set_doubleTapSizeMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanZoomInteractiveMode.prototype,"name",{get:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.get_name,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanZoomInteractiveMode.prototype,"id",{get:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.get_id,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanZoomInteractiveMode.prototype,"inertiaScrollOptions",{get:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.get_inertiaScrollOptions,set:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.set_inertiaScrollOptions,enumerable:!0,configurable:!0});lt.Controls.ImageViewerRubberBandEventArgs=function(a){this._points$1=[];lt.Controls.ImageViewerRubberBandEventArgs.initializeBase(this);this._interactiveEventArgs$1=
a};lt.Controls.ImageViewerRubberBandEventArgs.prototype={_interactiveEventArgs$1:null,get_interactiveEventArgs:function(){return this._interactiveEventArgs$1},_isCanceled$1:!1,get_isCanceled:function(){return this._isCanceled$1},set_isCanceled:function(a){return this._isCanceled$1=a},get_points:function(){return this._points$1}};Object.defineProperty(lt.Controls.ImageViewerRubberBandEventArgs.prototype,"interactiveEventArgs",{get:lt.Controls.ImageViewerRubberBandEventArgs.prototype.get_interactiveEventArgs,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRubberBandEventArgs.prototype,"isCanceled",{get:lt.Controls.ImageViewerRubberBandEventArgs.prototype.get_isCanceled,set:lt.Controls.ImageViewerRubberBandEventArgs.prototype.set_isCanceled,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRubberBandEventArgs.prototype,"points",{get:lt.Controls.ImageViewerRubberBandEventArgs.prototype.get_points,enumerable:!0,configurable:!0});lt.Controls.ImageViewerRubberBandInteractiveMode=
function(){this._shape$1=0;this._roundRectangleRadius$1=lt.LeadSizeD.create(20,20);this._points$1=[];lt.Controls.ImageViewerRubberBandInteractiveMode.initializeBase(this);this._init$1();this.set_isDragMouseWheelEnabled(!1)};lt.Controls.ImageViewerRubberBandInteractiveMode._getBoundsInControlCoordinates$1=function(a,b){for(var c=0,d=0,e=0,f=0,g=0;g<b.length;g++){var h=a.convertPoint(null,1,0,b[g]);g?(c=Math.min(c,h.get_x()),d=Math.min(d,h.get_y()),e=Math.max(e,h.get_x()),f=Math.max(f,h.get_y())):(c=
parseInt(h.get_x()),d=parseInt(h.get_y()),e=c,f=d)}return lt.LeadRectD.fromLTRB(c,d,e,f)};lt.Controls.ImageViewerRubberBandInteractiveMode._intersectPoint$1=function(a,b){var c=a.clone();c.get_x()<b.get_left()&&c.set_x(b.get_left());c.get_x()>b.get_right()&&c.set_x(b.get_right());c.get_y()<b.get_top()&&c.set_y(b.get_top());c.get_y()>b.get_bottom()&&c.set_y(b.get_bottom());return c};lt.Controls.ImageViewerRubberBandInteractiveMode._addPoints$1=function(a,b,c){for(b=ss.IEnumerator.getEnumerator(b);b.moveNext();){var d=
b.current;c.get_points().add(a.convertPoint(null,1,0,d))}};lt.Controls.ImageViewerRubberBandInteractiveMode.prototype={get_shape:function(){return this._shape$1},set_shape:function(a){if(this.get_isWorking())throw new lt.InvalidOperationException("Cannot change Shape while interactive mode is working");return this._shape$1=a},get_roundRectangleRadius:function(){return this._roundRectangleRadius$1},set_roundRectangleRadius:function(a){return this._roundRectangleRadius$1=a},add_rubberBandStarted:function(a){this.__rubberBandStarted$1=
ss.Delegate.combine(this.__rubberBandStarted$1,a)},remove_rubberBandStarted:function(a){this.__rubberBandStarted$1=ss.Delegate.remove(this.__rubberBandStarted$1,a)},__rubberBandStarted$1_handler_get:function(){null==this.__rubberBandStarted$1_handler&&(this.__rubberBandStarted$1_handler=ss.EventHandler.create(this,this.add_rubberBandStarted,this.remove_rubberBandStarted));return this.__rubberBandStarted$1_handler},__rubberBandStarted$1:null,__rubberBandStarted$1_handler:null,onRubberBandStarted:function(a){null!=
this.__rubberBandStarted$1&&this.__rubberBandStarted$1(this,a)},add_rubberBandDelta:function(a){this.__rubberBandDelta$1=ss.Delegate.combine(this.__rubberBandDelta$1,a)},remove_rubberBandDelta:function(a){this.__rubberBandDelta$1=ss.Delegate.remove(this.__rubberBandDelta$1,a)},__rubberBandDelta$1_handler_get:function(){null==this.__rubberBandDelta$1_handler&&(this.__rubberBandDelta$1_handler=ss.EventHandler.create(this,this.add_rubberBandDelta,this.remove_rubberBandDelta));return this.__rubberBandDelta$1_handler},
__rubberBandDelta$1:null,__rubberBandDelta$1_handler:null,onRubberBandDelta:function(a){null!=this.__rubberBandDelta$1&&this.__rubberBandDelta$1(this,a)},add_rubberBandCompleted:function(a){this.__rubberBandCompleted$1=ss.Delegate.combine(this.__rubberBandCompleted$1,a)},remove_rubberBandCompleted:function(a){this.__rubberBandCompleted$1=ss.Delegate.remove(this.__rubberBandCompleted$1,a)},__rubberBandCompleted$1_handler_get:function(){null==this.__rubberBandCompleted$1_handler&&(this.__rubberBandCompleted$1_handler=
ss.EventHandler.create(this,this.add_rubberBandCompleted,this.remove_rubberBandCompleted));return this.__rubberBandCompleted$1_handler},__rubberBandCompleted$1:null,__rubberBandCompleted$1_handler:null,onRubberBandCompleted:function(a){null!=this.__rubberBandCompleted$1&&this.__rubberBandCompleted$1(this,a)},_restrictToWorkBounds$1:!0,get_restrictToWorkBounds:function(){return this._restrictToWorkBounds$1},set_restrictToWorkBounds:function(a){return this._restrictToWorkBounds$1=a},get_name:function(){return"RubberBand"},
get_id:function(){return 6},start:function(a){lt.Controls.ImageViewerRubberBandInteractiveMode.callBaseMethod(this,"start",[a]);a=lt.Controls.ImageViewerRubberBandInteractiveMode.callBaseMethod(this,"get_interactiveService");a.add_dragStarted(ss.Delegate.create(this,this._service_DragStarted$1));a.add_dragDelta(ss.Delegate.create(this,this._service_DragDelta$1));a.add_dragCompleted(ss.Delegate.create(this,this._service_DragCompleted$1))},stop:function(a){if(this.get_isStarted()){var b=lt.Controls.ImageViewerRubberBandInteractiveMode.callBaseMethod(this,
"get_interactiveService");b.remove_dragStarted(ss.Delegate.create(this,this._service_DragStarted$1));b.remove_dragDelta(ss.Delegate.create(this,this._service_DragDelta$1));b.remove_dragCompleted(ss.Delegate.create(this,this._service_DragCompleted$1));lt.Controls.ImageViewerRubberBandInteractiveMode.callBaseMethod(this,"stop",[a])}},_lastControlPoint$1:null,_service_DragStarted$1:function(a,b){if(this.canStartWork(b)&&(this.onWorkStarted(b),this.get_isWorking())){b.set_isHandled(!0);var c=this.get_imageViewer();
this._points$1.clear();var d=c.convertPoint(null,0,1,b.get_origin());this._points$1.add(d);this._points$1.add(d.clone());this._doStarted$1();c.add_transformChanged(ss.Delegate.create(this,this._imageViewerControl_TransformChanged$1));c=new lt.Controls.ImageViewerRubberBandEventArgs(b);c.get_points().add(b.get_origin());c.get_points().add(b.get_origin().clone());this._lastControlPoint$1=b.get_origin().clone();this.onRubberBandStarted(c)}},_service_DragDelta$1:function(a,b){this.get_isWorking()&&(b.set_isHandled(!0),
this._lastControlPoint$1=b.get_position().clone(),this._updateLastPoint$1(b))},_updateLastPoint$1:function(a){var b=this.get_imageViewer(),c=lt.Controls.ImageViewerRubberBandInteractiveMode._getBoundsInControlCoordinates$1(b,this._points$1),d=lt.Controls.ImageViewerRubberBandInteractiveMode._intersectPoint$1(this._lastControlPoint$1,b._getClientRectangle()),e=!1;if(this.get_workOnBounds()&&this.get_restrictToWorkBounds()){var f=lt.Controls.PrimitivesHelper.toLeadRect(this.getWorkBounds(b,!0));f.get_isEmpty()||
!f.get_width()||!f.get_height()?e=!0:d=lt.Controls.ImageViewerRubberBandInteractiveMode._intersectPoint$1(d,f)}e||(d=b.convertPoint(null,0,1,d),this._addExtraPoint$1(d),this._points$1[this._points$1.length-1]=d.clone());d=lt.Controls.ImageViewerRubberBandInteractiveMode._getBoundsInControlCoordinates$1(b,this._points$1);this._doDelta$1(lt.Controls.PrimitivesHelper.unionRects(c,d));null!=a&&(a=new lt.Controls.ImageViewerRubberBandEventArgs(a),lt.Controls.ImageViewerRubberBandInteractiveMode._addPoints$1(b,
this._points$1,a),this.onRubberBandDelta(a))},_service_DragCompleted$1:function(a,b){if(this.get_isWorking()){var c=b.get_isHandled();b.set_isHandled(!0);this._doCompleted$1();var d=this.get_imageViewer();d.remove_transformChanged(ss.Delegate.create(this,this._imageViewerControl_TransformChanged$1));var e=new lt.Controls.ImageViewerRubberBandEventArgs(b);lt.Controls.ImageViewerRubberBandInteractiveMode._addPoints$1(d,this._points$1,e);e.set_isCanceled(c||b.get_isCanceled());this.onRubberBandCompleted(e);
this.onWorkCompleted(lt.LeadEventArgs.Empty)}},_imageViewerControl_TransformChanged$1:function(){this.get_isWorking()&&this._updateLastPoint$1(null)},_init$1:function(){this.set_autoDisableTransitions(!1)},_borderColor$1:"black",get_borderColor:function(){return this._borderColor$1},set_borderColor:function(a){return this._borderColor$1=a},_borderStyle$1:"dotted",get_borderStyle:function(){return this._borderStyle$1},set_borderStyle:function(a){return this._borderStyle$1=a},_borderThickness$1:1,get_borderThickness:function(){return this._borderThickness$1},
set_borderThickness:function(a){return this._borderThickness$1=a},_backgroundStyle$1:null,get_backgroundStyle:function(){return this._backgroundStyle$1},set_backgroundStyle:function(a){return this._backgroundStyle$1=a},_interactiveModeCanvas$1:null,get_interactiveModeCanvas:function(){return this._interactiveModeCanvas$1},set_interactiveModeCanvas:function(a){return this._interactiveModeCanvas$1=a},_firstDelta$1:!1,createInteractiveModeCanvas:function(a){var b=this.get_interactiveModeCanvas();null!=
b&&this.destroyInteractiveModeCanvas();a=null!=a.get_eventCanvas()?a.get_eventCanvas():a.get_foreCanvas();null!=a&&(a=a.parentNode);null!=a&&(b=document.createElement("canvas"),b.style.left="20px",b.style.top="20px",b.style.margin="0px",b.style.padding="0px",b.style.position="absolute",b.style.visibility="collapse",b.style.zIndex=32767,b.style.cursor=this.get_workingCursor(),String.isNullOrEmpty(this._borderColor$1)||(b.style.borderColor=this._borderColor$1),String.isNullOrEmpty(this._borderStyle$1)||
(b.style.borderStyle=this._borderStyle$1),String.isNullOrEmpty(this._backgroundStyle$1)||(b.style.background=this._backgroundStyle$1),b.style.borderWidth=this._borderThickness$1.toString()+"px",a.appendChild(b),this.set_interactiveModeCanvas(b))},destroyInteractiveModeCanvas:function(){var a=this.get_interactiveModeCanvas();null!=a&&(null!=a.parentNode&&a.parentNode.removeChild(a),this.set_interactiveModeCanvas(null))},_doStarted$1:function(){this.createInteractiveModeCanvas(this.get_imageViewer());
this._firstDelta$1=!0},_doDelta$1:function(){var a=this.get_imageViewer();a.get_mainDiv();var b=this.get_interactiveModeCanvas();if(null!=b)if(a=lt.Controls.ImageViewerRubberBandInteractiveMode._getBoundsInControlCoordinates$1(a,this._points$1),!a.get_width()||!a.get_height())b.style.visibility="collapse";else if(b.width=2>=a.get_width()?1:parseInt(a.get_width())-2,b.height=2>=a.get_height()?1:parseInt(a.get_height())-2,lt.LTHelper.OS===lt.LTOS.android&&(b.style.borderWidth="2px"),b.style.left=a.get_left().toString()+
"px",b.style.top=a.get_top().toString()+"px","visible"!==b.style.visibility)b.style.visibility="visible",this._firstDelta$1&&(this._firstDelta$1=!1,lt.LTHelper.browser===lt.LTBrowser.internetExplorer&&(b=this.get_imageViewer().get_viewDiv(),null!=b&&(b=b.parentNode,b.style.display="none",lt.Controls._elementsHelper.repaint(b),b.style.display="block")))},_doCompleted$1:function(){this.destroyInteractiveModeCanvas()},_addExtraPoint$1:function(){}};Object.defineProperty(lt.Controls.ImageViewerRubberBandInteractiveMode.prototype,
"shape",{get:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.get_shape,set:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.set_shape,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRubberBandInteractiveMode.prototype,"roundRectangleRadius",{get:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.get_roundRectangleRadius,set:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.set_roundRectangleRadius,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRubberBandInteractiveMode.prototype,
"rubberBandStarted",{get:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.__rubberBandStarted$1_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRubberBandInteractiveMode.prototype,"rubberBandDelta",{get:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.__rubberBandDelta$1_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRubberBandInteractiveMode.prototype,"rubberBandCompleted",{get:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.__rubberBandCompleted$1_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRubberBandInteractiveMode.prototype,"restrictToWorkBounds",{get:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.get_restrictToWorkBounds,set:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.set_restrictToWorkBounds,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRubberBandInteractiveMode.prototype,"name",{get:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.get_name,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRubberBandInteractiveMode.prototype,"id",{get:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.get_id,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRubberBandInteractiveMode.prototype,"borderColor",{get:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.get_borderColor,set:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.set_borderColor,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Controls.ImageViewerRubberBandInteractiveMode.prototype,"borderStyle",{get:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.get_borderStyle,set:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.set_borderStyle,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRubberBandInteractiveMode.prototype,"borderThickness",{get:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.get_borderThickness,set:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.set_borderThickness,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRubberBandInteractiveMode.prototype,"backgroundStyle",{get:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.get_backgroundStyle,set:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.set_backgroundStyle,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRubberBandInteractiveMode.prototype,"interactiveModeCanvas",{get:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.get_interactiveModeCanvas,
set:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.set_interactiveModeCanvas,enumerable:!0,configurable:!0});lt.Controls.ImageViewerSelectItemsInteractiveMode=function(){this._selectionMode$2=1;this._lastMovePosition$2=lt.LeadPointD.get_empty();this._multiSelectKeyModifier$2=131072;lt.Controls.ImageViewerSelectItemsInteractiveMode.initializeBase(this);this.set_autoItemMode(1);this.set_itemPart(1);this.set_isDragMouseWheelEnabled(!1)};lt.Controls.ImageViewerSelectItemsInteractiveMode._hitTestPart$2=
function(a,b,c,d){if(1===d)return!0;switch(a.hitTestItemPart(b,c)){case 1:return!0;case 2:return 2===d;case 3:return 2===d||3===d;case 4:return 4===d||5===d;case 5:return 5===d;default:return!1}};lt.Controls.ImageViewerSelectItemsInteractiveMode._getLastSelectedItem$2=function(a){for(var b=null,c=a.get_items().get_count()-1;0<=c&&null==b;c--){var d=a.get_items().get_item(c);d.get_isSelected()&&d.get_isVisible()&&d.get_isEnabled()&&(b=d)}return b};lt.Controls.ImageViewerSelectItemsInteractiveMode._getFirstSelectedItem$2=
function(a){for(var b=null,c=0;c<a.get_items().get_count()&&null==b;c++){var d=a.get_items().get_item(c);d.get_isSelected()&&d.get_isVisible()&&d.get_isEnabled()&&(b=d)}return b};lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype={get_name:function(){return"SelectItems"},get_id:function(){return 13},_canSelectDisabledItems$2:!1,get_canSelectDisabledItems:function(){return this._canSelectDisabledItems$2},set_canSelectDisabledItems:function(a){return this._canSelectDisabledItems$2=a},_canHoverDisabledItems$2:!1,
get_canHoverDisabledItems:function(){return this._canHoverDisabledItems$2},set_canHoverDisabledItems:function(a){return this._canHoverDisabledItems$2=a},get_selectionMode:function(){return this._selectionMode$2},set_selectionMode:function(a){return this._selectionMode$2=a},_isKeyboardEnabled$2:!0,get_isKeyboardEnabled:function(){return this._isKeyboardEnabled$2},set_isKeyboardEnabled:function(a){return this._isKeyboardEnabled$2=a},_hoveredItem$2:null,_lastSelectedItem$2:null,_isKeyboardHooked$2:!1,
start:function(a){lt.Controls.ImageViewerSelectItemsInteractiveMode.callBaseMethod(this,"start",[a]);var b=lt.Controls.ImageViewerSelectItemsInteractiveMode.callBaseMethod(this,"get_interactiveService");b.get_supportsMouse()&&b.add_move(ss.Delegate.create(this,this._service_Move$2));this.get_isKeyboardEnabled()&&(b.add_keyDown(ss.Delegate.create(this,this._service_KeyDown$2)),this._isKeyboardHooked$2=!0);this._unhoverItems$2(a);this._lastMovePosition$2=lt.LeadPointD.get_empty();this.set_workOnBounds(!1);
this._lastSelectedItem$2=this._hoveredItem$2=null},stop:function(a){if(this.get_isStarted()){this._lastSelectedItem$2=this._hoveredItem$2=null;var b=lt.Controls.ImageViewerSelectItemsInteractiveMode.callBaseMethod(this,"get_interactiveService");b.get_supportsMouse()&&b.remove_move(ss.Delegate.create(this,this._service_Move$2));this._isKeyboardHooked$2&&(b.remove_keyDown(ss.Delegate.create(this,this._service_KeyDown$2)),this._isKeyboardHooked$2=!1);lt.Controls.ImageViewerSelectItemsInteractiveMode.callBaseMethod(this,
"stop",[a])}},get_item:function(){return lt.Controls.ImageViewerSelectItemsInteractiveMode.callBaseMethod(this,"get_item")},set_item:function(a){lt.Controls.ImageViewerSelectItemsInteractiveMode.callBaseMethod(this,"set_item",[null]);this._hoveredItem$2===a&&(this._hoveredItem$2=null);this._lastSelectedItem$2===a&&(this._lastSelectedItem$2=null);return a},get_shape:function(){return lt.Controls.ImageViewerSelectItemsInteractiveMode.callBaseMethod(this,"get_shape")},set_shape:function(a){if(3===a)throw new lt.InvalidOperationException("Freehand Shape is not supported by this interactive mode");
lt.Controls.ImageViewerSelectItemsInteractiveMode.callBaseMethod(this,"set_shape",[a]);return a},get_multiSelectKeyModifier:function(){return this._multiSelectKeyModifier$2},set_multiSelectKeyModifier:function(a){switch(a){case 0:case 262144:case 65536:case 131072:this._multiSelectKeyModifier$2=a;break;default:throw new lt.ArgumentException("Invalid key value","MultiSelectKeyModifier");}return a},_unhoverItems$2:function(a){var b=this.get_canHoverDisabledItems(),c=!1;a.beginRender();for(var d=ss.IEnumerator.getEnumerator(a.get_items());d.moveNext();){var e=
d.current;if(e.get_isHovered()&&(e.get_isEnabled()||b))e.set_isHovered(!1),c=!0}a._internalEndUpdate(c)},_service_Move$2:function(a,b){if(this.get_isEnabled()&&!lt.LeadPointD.equals(b.get_position(),this._lastMovePosition$2)){this._lastMovePosition$2=b.get_position();var c=this.get_imageViewer(),d=c.hitTestItem(b.get_position());null!=d&&(lt.Controls.ImageViewerSelectItemsInteractiveMode._hitTestPart$2(c,d,b.get_position(),this.get_itemPart())||(d=null));this._hoveredItem$2!==d&&(null!=this._hoveredItem$2&&
this._hoveredItem$2.set_isHovered(!1),null!=d&&d.set_isHovered(!0),this._hoveredItem$2=d)}},onRubberBandStarted:function(a){a.get_interactiveEventArgs().set_isHandled(!1);var b=this.get_selectionMode();if(b){var c=null!=a.get_interactiveEventArgs()&&lt.Controls.InteractiveService.checkKeyModifier(a.get_interactiveEventArgs().get_nativeEvent(),this.get_multiSelectKeyModifier()),d=this.get_imageViewer(),e=a.get_points()[0],a=d.hitTestItem(e);null!=a&&lt.Controls.ImageViewerSelectItemsInteractiveMode._hitTestPart$2(d,
a,e,this.get_itemPart())?(e=[],2===b&&c?(c=d.get_items().getSelected(),e.addRange(c),e.contains(a)||e.add(a)):e.add(a),d.get_items().select(lt.Controls.ImageViewerItems._toArray(e)),this._lastSelectedItem$2=a):2===b&&!c&&(d.get_items().select(null),this._lastSelectedItem$2=a);if(1===b)this.onWorkCompleted(lt.LeadEventArgs.Empty)}},onRubberBandDelta:function(a){var b=this.get_selectionMode();if(b){var c=a.get_points()[0],d=a.get_points()[1],d=lt.Controls.PrimitivesHelper.normalizeRect(lt.LeadRectD.fromLTRB(c.get_x(),
c.get_y(),d.get_x(),d.get_y())),c=this.get_imageViewer(),d=c.hitTestItems(lt.Controls.PrimitivesHelper.toLeadRectD(d)),e=null!=a.get_interactiveEventArgs()&&lt.Controls.InteractiveService.checkKeyModifier(a.get_interactiveEventArgs().get_nativeEvent(),this.get_multiSelectKeyModifier()),a=[];if(2===b&&e){b=c.get_items().getSelected();a.addRange(b);for(b=ss.IEnumerator.getEnumerator(d);b.moveNext();)d=b.current,a.contains(d)||a.add(d)}else a.addRange(d);c.get_items().select(lt.Controls.ImageViewerItems._toArray(a));
null==this._lastSelectedItem$2&&(this._lastSelectedItem$2=lt.Controls.ImageViewerSelectItemsInteractiveMode._getLastSelectedItem$2(c))}},_service_KeyDown$2:function(a,b){if(this.get_isEnabled()&&this.get_isKeyboardEnabled()){var c=this.get_selectionMode();if(c){var d=b.get_keyCode();if(37===d||38===d||39===d||40===d||33===d||34===d||36===d||35===d){var e=this.get_imageViewer();b.set_isHandled(!0);null==this._lastSelectedItem$2&&(this._lastSelectedItem$2=lt.Controls.ImageViewerSelectItemsInteractiveMode._getLastSelectedItem$2(e));
if(null!=this._lastSelectedItem$2&&(38===d||40===d||37===d||39===d)){var f=null,f=38===d||40===d?lt.Controls.ImageViewerItems._findNextItemInRow(e,this._lastSelectedItem$2.get_rowIndex(),this._lastSelectedItem$2.get_columnIndex(),40===d):lt.Controls.ImageViewerItems._findNextItemInColumn(e,this._lastSelectedItem$2.get_rowIndex(),this._lastSelectedItem$2.get_columnIndex(),39===d);if(null!=f){var g=lt.Controls.InteractiveService.checkKeyModifier(b.get_nativeEvent(),this.get_multiSelectKeyModifier());
if(2===c&&g&&null!=this._lastSelectedItem$2){g=40===d||39===d?e.get_items().indexOf(lt.Controls.ImageViewerSelectItemsInteractiveMode._getFirstSelectedItem$2(e)):e.get_items().indexOf(lt.Controls.ImageViewerSelectItemsInteractiveMode._getLastSelectedItem$2(e));c=e.get_items().indexOf(f);g>c&&(d=g,g=c,c=d);for(d=[];g<=c;g++){var h=e.get_items().get_item(g);h.get_isEnabled()&&h.get_isVisible()&&d.add(h)}e.get_items().select(lt.Controls.ImageViewerItems._toArray(d))}else e.get_items().select([f]);this._lastSelectedItem$2=
f}null!=this._lastSelectedItem$2&&e.ensureItemVisible(this._lastSelectedItem$2)}}}}}};Object.defineProperty(lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype,"name",{get:lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype.get_name,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype,"id",{get:lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype.get_id,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype,
"canSelectDisabledItems",{get:lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype.get_canSelectDisabledItems,set:lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype.set_canSelectDisabledItems,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype,"canHoverDisabledItems",{get:lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype.get_canHoverDisabledItems,set:lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype.set_canHoverDisabledItems,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype,"selectionMode",{get:lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype.get_selectionMode,set:lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype.set_selectionMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype,"isKeyboardEnabled",{get:lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype.get_isKeyboardEnabled,
set:lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype.set_isKeyboardEnabled,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype,"item",{get:lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype.get_item,set:lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype.set_item,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype,"shape",{get:lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype.get_shape,
set:lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype.set_shape,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype,"multiSelectKeyModifier",{get:lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype.get_multiSelectKeyModifier,set:lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype.set_multiSelectKeyModifier,enumerable:!0,configurable:!0});lt.Controls.ImageViewerSpyGlassDrawImageEventArgs=function(){this._destinationRectangle$1=
lt.LeadRectD.get_empty();this._offset$1=lt.LeadPointD.get_empty();lt.Controls.ImageViewerSpyGlassDrawImageEventArgs.initializeBase(this)};lt.Controls.ImageViewerSpyGlassDrawImageEventArgs.prototype={get_destinationRectangle:function(){return this._destinationRectangle$1.clone()},set_destinationRectangle:function(a){this._destinationRectangle$1=lt.Controls.PrimitivesHelper.cloneOrZeroRect(a);return a},get_offset:function(){return this._offset$1},set_offset:function(a){return this._offset$1=a},_context$1:null,
get_context:function(){return this._context$1},set_context:function(a){return this._context$1=a}};Object.defineProperty(lt.Controls.ImageViewerSpyGlassDrawImageEventArgs.prototype,"destinationRectangle",{get:lt.Controls.ImageViewerSpyGlassDrawImageEventArgs.prototype.get_destinationRectangle,set:lt.Controls.ImageViewerSpyGlassDrawImageEventArgs.prototype.set_destinationRectangle,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSpyGlassDrawImageEventArgs.prototype,"offset",
{get:lt.Controls.ImageViewerSpyGlassDrawImageEventArgs.prototype.get_offset,set:lt.Controls.ImageViewerSpyGlassDrawImageEventArgs.prototype.set_offset,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSpyGlassDrawImageEventArgs.prototype,"context",{get:lt.Controls.ImageViewerSpyGlassDrawImageEventArgs.prototype.get_context,set:lt.Controls.ImageViewerSpyGlassDrawImageEventArgs.prototype.set_context,enumerable:!0,configurable:!0});lt.Controls.ImageViewerSpyGlassInteractiveMode=
function(){this._size$1=lt.LeadSizeD.create(200,200);this._shape$1=2;this._roundRectangleRadius$1=lt.LeadSizeD.create(20,20);this._crosshair$1=1;this._offset$1=lt.LeadPointD.create(0,0);this._currentPosition$1=new lt.LeadPointD;lt.Controls.ImageViewerSpyGlassInteractiveMode.initializeBase(this);this._nativeBindDelegates$1();this.set_isDragMouseWheelEnabled(!1)};lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype={add_drawImage:function(a){this.__drawImage$1=ss.Delegate.combine(this.__drawImage$1,
a)},remove_drawImage:function(a){this.__drawImage$1=ss.Delegate.remove(this.__drawImage$1,a)},__drawImage$1_handler_get:function(){null==this.__drawImage$1_handler&&(this.__drawImage$1_handler=ss.EventHandler.create(this,this.add_drawImage,this.remove_drawImage));return this.__drawImage$1_handler},__drawImage$1:null,__drawImage$1_handler:null,onDrawImage:function(a){null!=this.__drawImage$1&&this.__drawImage$1(this,a)},get_size:function(){return this._size$1.clone()},set_size:function(a){this._size$1=
lt.Controls.PrimitivesHelper.cloneOrZeroSize(a);return a},get_shape:function(){return this._shape$1},set_shape:function(a){return this._shape$1=a},get_roundRectangleRadius:function(){return this._roundRectangleRadius$1.clone()},set_roundRectangleRadius:function(a){this._roundRectangleRadius$1=lt.Controls.PrimitivesHelper.cloneOrZeroSize(a);return a},get_crosshair:function(){return this._crosshair$1},set_crosshair:function(a){return this._crosshair$1=a},get_offset:function(){return this._offset$1.clone()},
set_offset:function(a){this._offset$1=lt.Controls.PrimitivesHelper.cloneOrZeroPoint(a);return a},_ensureVisible$1:!0,get_ensureVisible:function(){return this._ensureVisible$1},set_ensureVisible:function(a){return this._ensureVisible$1=a},get_name:function(){return"SpyGlass"},get_id:function(){return 7},get_currentPosition:function(){return this._currentPosition$1},set_currentPosition:function(a){return this._currentPosition$1=a},start:function(a){lt.Controls.ImageViewerSpyGlassInteractiveMode.callBaseMethod(this,
"start",[a]);a=lt.Controls.ImageViewerSpyGlassInteractiveMode.callBaseMethod(this,"get_interactiveService");a.add_dragStarted(ss.Delegate.create(this,this._service_DragStarted$1));a.add_dragDelta(ss.Delegate.create(this,this._service_DragDelta$1));a.add_dragCompleted(ss.Delegate.create(this,this._service_DragCompleted$1))},stop:function(a){if(this.get_isStarted()){var b=lt.Controls.ImageViewerSpyGlassInteractiveMode.callBaseMethod(this,"get_interactiveService");b.remove_dragStarted(ss.Delegate.create(this,
this._service_DragStarted$1));b.remove_dragDelta(ss.Delegate.create(this,this._service_DragDelta$1));b.remove_dragCompleted(ss.Delegate.create(this,this._service_DragCompleted$1));lt.Controls.ImageViewerSpyGlassInteractiveMode.callBaseMethod(this,"stop",[a])}},_spyGlassCurrentPosition$1:null,_bounds$1:null,_getBounds:function(a){this._spyGlassCurrentPosition$1=a.clone();var b=this.get_size(),a=lt.LeadRectD.create(this._offset$1.get_x()+a.get_x()-b.get_width()/2,this._offset$1.get_y()+a.get_y()-b.get_height()/
2,b.get_width(),b.get_height());if(this.get_ensureVisible()){var b=lt.Controls.PrimitivesHelper.toLeadRect(this.getWorkBounds(this.get_imageViewer(),!1)),c=lt.LeadPointD.create(a.get_x()+a.get_width()/2,a.get_y()+a.get_height()/2),d=0,e=0;c.get_x()<b.get_left()?d=parseInt(b.get_left()-c.get_x()):c.get_x()>b.get_right()&&(d=-parseInt(c.get_x()-b.get_right()));c.get_y()<b.get_top()?e=parseInt(b.get_top()-c.get_y()):c.get_y()>b.get_bottom()&&(e=-parseInt(c.get_y()-b.get_bottom()));(d||e)&&a.offset(d,
e)}return a},_service_DragStarted$1:function(a,b){this.canStartWork(b)&&(b.set_isHandled(!0),this.onWorkStarted(b),this._bounds$1=this._getBounds(b.get_position()),this._doStarted$1())},_service_DragDelta$1:function(a,b){if(this.get_isWorking()&&(b.get_change().get_x()||b.get_change().get_y())){this._currentPosition$1=b.get_position();b.set_isHandled(!0);var c=this._bounds$1;this._bounds$1=this._getBounds(b.get_position());this._doDelta$1(lt.Controls.PrimitivesHelper.unionRects(c,this._bounds$1))}},
_service_DragCompleted$1:function(a,b){this.get_isWorking()&&(this._currentPosition$1=b.get_position(),b.set_isHandled(!0),this._doCompleted$1(),this.onWorkCompleted(lt.LeadEventArgs.Empty))},_nativeBindDelegates$1:function(){this._doRender_Delegate$1=ss.Delegate.create(this,this._doRender$1)},_doRender_Delegate$1:null,_backgroundColor$1:null,get_backgroundColor:function(){return this._backgroundColor$1},set_backgroundColor:function(a){return this._backgroundColor$1=a},get_alwaysFillBackground:function(){return!0},
_fillBackgroundColor$1:null,get__fillBackgroundColor:function(){return this._fillBackgroundColor$1},_getBackgroundColor$1:function(){var a=this.get_backgroundColor();if(String.isNullOrEmpty(a)&&(a=this.get_imageViewer().get_mainDiv(),a=lt.LTHelper.getElementStyle(a,"backgroundColor"),String.isNullOrEmpty(a)||!String.compare(a,"transparent")))a=lt.LTHelper.getElementStyle(document.body,"backgroundColor"),String.isNullOrEmpty(a)&&(a="white");return a},_borderColor$1:"black",get_borderColor:function(){return this._borderColor$1},
set_borderColor:function(a){return this._borderColor$1=a},_borderThickness$1:1,get_borderThickness:function(){return this._borderThickness$1},set_borderThickness:function(a){return this._borderThickness$1=a},_crosshairColor$1:"black",get_crosshairColor:function(){return this._crosshairColor$1},set_crosshairColor:function(a){return this._crosshairColor$1=a},_crosshairThickness$1:1,get_crosshairThickness:function(){return this._crosshairThickness$1},set_crosshairThickness:function(a){return this._crosshairThickness$1=
a},_redirectCanvas$1:null,get_redirectCanvas:function(){return this._redirectCanvas$1},set_redirectCanvas:function(a){if(this.get_isWorking())throw new lt.InvalidOperationException("Cannot change this property while the interactive mode is working");return this._redirectCanvas$1=a},restart:function(){this.destroyInteractiveModeCanvas();this._bounds$1=this._getBounds(this._spyGlassCurrentPosition$1);this._doStarted$1()},_interactiveModeCanvas$1:null,get_interactiveModeCanvas:function(){return this._interactiveModeCanvas$1},
set_interactiveModeCanvas:function(a){return this._interactiveModeCanvas$1=a},createInteractiveModeCanvas:function(a){var b=this.get_interactiveModeCanvas();null!=b&&this.destroyInteractiveModeCanvas();if(null==this._redirectCanvas$1){if(a=null!=a.get_eventCanvas()?a.get_eventCanvas():a.get_foreCanvas(),null!=a&&(a=a.parentNode),null!=a){b=document.createElement("canvas");b.style.left="20px";b.style.top="20px";b.style.margin="0px";b.style.padding="0px";b.style.position="absolute";b.style.visibility=
"collapse";b.style.zIndex=32767;b.style.cursor=this.get_workingCursor();var c=this.get_size().get_isEmpty()?lt.LeadSizeD.create(0,0):this.get_size();b.width=parseInt(c.get_width());b.height=parseInt(c.get_height());a.appendChild(b);this.set_interactiveModeCanvas(b)}}else this.set_interactiveModeCanvas(this._redirectCanvas$1)},destroyInteractiveModeCanvas:function(){var a=this.get_interactiveModeCanvas();null!=a&&(null==this._redirectCanvas$1&&null!=a.parentNode&&a.parentNode.removeChild(a),this.set_interactiveModeCanvas(null))},
_doStarted$1:function(){this.createInteractiveModeCanvas(this.get_imageViewer());this._fillBackgroundColor$1=this.get_backgroundColor();String.isNullOrEmpty(this._fillBackgroundColor$1)&&this.get_alwaysFillBackground()&&(this._fillBackgroundColor$1=this._getBackgroundColor$1());this._moveToPosition$1(this._bounds$1)},_doDelta$1:function(){this._moveToPosition$1(this._bounds$1)},_doCompleted$1:function(){this.destroyInteractiveModeCanvas()},_moveToPosition$1:function(a){if(null!=this.get_interactiveModeCanvas()){var b=
this.get_imageViewer();this._moveCanvasToPlace$1(a);b.get_enableRequestAnimationFrame()?(this._needsRender$1=!0,lt.LTHelper.requestAnimationFrame(this._doRender_Delegate$1)):this._render$1()}},_needsRender$1:!1,_renderRect$1:null,_doRender$1:function(){this._needsRender$1&&(this._needsRender$1=!1,null!=this.get_interactiveModeCanvas()&&this._render$1())},_moveCanvasToPlace$1:function(a){var b=this.get_interactiveModeCanvas();null!=b&&(null==this._redirectCanvas$1&&(b.style.left=a.get_x().toString()+
"px",b.style.top=a.get_y().toString()+"px"),this._renderRect$1=a.clone())},invalidate:function(){this._render$1()},_render$1:function(){var a=this.get_interactiveModeCanvas();if(null!=a){var b=a.getContext("2d"),c=this._fillBackgroundColor$1,d=this.get_borderColor(),e=this.get_borderThickness(),f=this.get_crosshair(),g=this.get_crosshairColor(),h=this.get_crosshairThickness(),i=!String.isNullOrEmpty(c),e=!String.isNullOrEmpty(d)&&0<e,f=!!f&&!String.isNullOrEmpty(g)&&0<h,g=this._renderRect$1.get_width(),
h=this._renderRect$1.get_height(),j=this.get_shape();b.save();i?(b.fillStyle=c,this._renderSpyGlass$1(!0,!1,b,j,g,h)):this._renderSpyGlass$1(!0,!0,b,j,g,h);c=new lt.Controls.ImageViewerSpyGlassDrawImageEventArgs;c.set_destinationRectangle(this._renderRect$1.clone());c.set_context(b);this.onDrawImage(c);i&&b.restore();f&&(b.save(),b.beginPath(),b.moveTo(0,h/2),b.lineTo(g,h/2),b.moveTo(g/2,0),b.lineTo(g/2,h),b.strokeStyle=this._crosshairColor$1,b.lineWidth=this._crosshairThickness$1,b.stroke(),b.restore());
e&&(b.save(),b.strokeStyle=d,this._renderSpyGlass$1(!1,!1,b,j,g,h),b.restore());"visible"!==a.style.visibility&&(a.style.visibility="visible")}},_renderSpyGlass$1:function(a,b,c,d,e,f){switch(d){case 0:case 1:a?c.fillRect(0,0,e,f):1===d&&c.strokeRect(0,0,e,f);break;case 2:c.beginPath();lt.Controls.GraphicsHelper.addRoundRect(c,lt.LeadRectD.create(0,0,e,f),this.get_roundRectangleRadius().get_width(),this.get_roundRectangleRadius().get_height());c.closePath();a?(c.clip(),b||c.fill()):c.stroke();break;
case 3:c.beginPath(),lt.Controls.GraphicsHelper.addEllipse(c,lt.LeadRectD.create(0,0,e,f)),c.closePath(),a?(c.clip(),b||c.fill()):c.stroke()}}};Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"drawImage",{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.__drawImage$1_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"size",{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.get_size,
set:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.set_size,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"shape",{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.get_shape,set:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.set_shape,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"roundRectangleRadius",{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.get_roundRectangleRadius,
set:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.set_roundRectangleRadius,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"crosshair",{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.get_crosshair,set:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.set_crosshair,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"offset",{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.get_offset,
set:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.set_offset,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"ensureVisible",{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.get_ensureVisible,set:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.set_ensureVisible,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"name",{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.get_name,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"id",{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.get_id,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"currentPosition",{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.get_currentPosition,set:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.set_currentPosition,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"backgroundColor",{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.get_backgroundColor,set:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.set_backgroundColor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"alwaysFillBackground",{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.get_alwaysFillBackground,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"borderColor",{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.get_borderColor,set:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.set_borderColor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"borderThickness",{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.get_borderThickness,set:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.set_borderThickness,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"crosshairColor",{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.get_crosshairColor,set:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.set_crosshairColor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"crosshairThickness",{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.get_crosshairThickness,
set:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.set_crosshairThickness,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"redirectCanvas",{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.get_redirectCanvas,set:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.set_redirectCanvas,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"interactiveModeCanvas",
{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.get_interactiveModeCanvas,set:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.set_interactiveModeCanvas,enumerable:!0,configurable:!0});lt.Controls.ImageViewerZoomAtInteractiveMode=function(){this._transformTarget$1=0;lt.Controls.ImageViewerZoomAtInteractiveMode.initializeBase(this)};lt.Controls.ImageViewerZoomAtInteractiveMode.prototype={get_name:function(){return"ZoomAt"},get_id:function(){return 3},_scaleFactor$1:2,get_scaleFactor:function(){return this._scaleFactor$1},
set_scaleFactor:function(a){if(lt.LeadDoubleTools.isZero(a)||0>a)throw new lt.ArgumentOutOfRangeException("ScaleFactor",a,"Must be a value greater than 0");return this._scaleFactor$1=a},start:function(a){lt.Controls.ImageViewerZoomAtInteractiveMode.callBaseMethod(this,"start",[a]);lt.Controls.ImageViewerZoomAtInteractiveMode.callBaseMethod(this,"get_interactiveService").add_tap(ss.Delegate.create(this,this._service_Tap$1))},stop:function(a){this.get_isStarted()&&(lt.Controls.ImageViewerZoomAtInteractiveMode.callBaseMethod(this,
"get_interactiveService").remove_tap(ss.Delegate.create(this,this._service_Tap$1)),lt.Controls.ImageViewerZoomAtInteractiveMode.callBaseMethod(this,"stop",[a]))},get_transformTarget:function(){return this._transformTarget$1},set_transformTarget:function(a){return this._transformTarget$1=a},_service_Tap$1:function(a,b){if(this.canStartWork(b)){b.set_isHandled(!0);this.onWorkStarted(b);if(!lt.LeadDoubleTools.areClose(this._scaleFactor$1,1)){var c=this.get_imageViewer();if(this._transformTarget$1){var d=
c.hitTestItem(b.get_origin());if(null==d)return;var e=this.get_imageViewer().getItemViewBounds(d,1,!1),e=lt.LeadPointD.create((b.get_origin().get_x()-e.get_x())/e.get_width(),(b.get_origin().get_y()-e.get_y())/e.get_height());if(2===this._transformTarget$1)this._zoomAtForItem$1(d,e);else if(1===this._transformTarget$1){c.beginTransform();for(d=0;d<c.get_items().get_count();d++)this._zoomAtForItem$1(c.get_items().get_item(d),e);c.endTransform()}}else d=c.get_scaleFactor()*this._scaleFactor$1,c.zoom(0,
d,b.get_origin())}this.onWorkCompleted(lt.LeadEventArgs.Empty)}},_zoomAtForItem$1:function(a,b){var c=this.get_imageViewer().getItemViewBounds(a,1,!1),d=a.get_scaleFactor()*this._scaleFactor$1,c=lt.LeadPointD.create(b.get_x()*c.get_width()+c.get_x(),b.get_y()*c.get_height()+c.get_y()),c=this.get_imageViewer().convertPoint(a,0,4,c),c=a.get_transform().transformPoint(c);a.zoom(0,d,c)}};Object.defineProperty(lt.Controls.ImageViewerZoomAtInteractiveMode.prototype,"name",{get:lt.Controls.ImageViewerZoomAtInteractiveMode.prototype.get_name,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerZoomAtInteractiveMode.prototype,"id",{get:lt.Controls.ImageViewerZoomAtInteractiveMode.prototype.get_id,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerZoomAtInteractiveMode.prototype,"scaleFactor",{get:lt.Controls.ImageViewerZoomAtInteractiveMode.prototype.get_scaleFactor,set:lt.Controls.ImageViewerZoomAtInteractiveMode.prototype.set_scaleFactor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerZoomAtInteractiveMode.prototype,
"transformTarget",{get:lt.Controls.ImageViewerZoomAtInteractiveMode.prototype.get_transformTarget,set:lt.Controls.ImageViewerZoomAtInteractiveMode.prototype.set_transformTarget,enumerable:!0,configurable:!0});lt.Controls.ImageViewerZoomToInteractiveMode=function(){this._transformTarget$2=0;lt.Controls.ImageViewerZoomToInteractiveMode.initializeBase(this)};lt.Controls.ImageViewerZoomToInteractiveMode.prototype={get_name:function(){return"ZoomTo"},get_id:function(){return 4},get_transformTarget:function(){return this._transformTarget$2},
set_transformTarget:function(a){return this._transformTarget$2=a},get_shape:function(){return lt.Controls.ImageViewerZoomToInteractiveMode.callBaseMethod(this,"get_shape")},set_shape:function(a){if(3===a)throw new lt.InvalidOperationException("Freehand Shape is not supported by this interactive mode");lt.Controls.ImageViewerZoomToInteractiveMode.callBaseMethod(this,"set_shape",[a]);return a},onRubberBandCompleted:function(a){lt.Controls.ImageViewerZoomToInteractiveMode.callBaseMethod(this,"onRubberBandCompleted",
[a]);if(!a.get_isCanceled()){var b=a.get_points()[0].clone(),a=a.get_points()[1].clone(),c=lt.Controls.PrimitivesHelper.toLeadRectD(lt.Controls.PrimitivesHelper.normalizeRect(lt.LeadRectD.fromLTRB(b.get_x(),b.get_y(),a.get_x(),a.get_y()))),b=this.get_imageViewer();if(0<c.get_width()&&0<c.get_height()&&b.get_hasItems())if(this._transformTarget$2){var d=this.get_imageViewer().hitTestItems(c),a=null;if(null!=d&&d.length){var a=d[0],d=lt.Controls.PrimitivesHelper.getCenterPoint(c),e=this.get_imageViewer().getItemViewBounds(a,
1,!1),d=lt.LeadPointD.create((d.get_x()-e.get_x())/e.get_width(),(d.get_y()-e.get_y())/e.get_height()),c=lt.LeadSizeD.create(c.get_width(),c.get_height());if(2===this._transformTarget$2)this._zoomToForItem$2(a,d,c);else if(1===this._transformTarget$2){b.beginTransform();for(a=0;a<b.get_items().get_count();a++)this._zoomToForItem$2(b.get_items().get_item(a),d,c);b.endTransform()}}}else b.zoomToRect(c)}},_zoomToForItem$2:function(a,b,c){var d=this.get_imageViewer().getItemViewBounds(a,1,!1),e=lt.LeadSizeD.create(d.get_width(),
d.get_height()),c=1/lt.Controls.ImageViewer.getScaleFactors(c,e,2).get_width(),c=c*a.get_scaleFactor(),b=lt.LeadPointD.create(b.get_x()*d.get_width()+d.get_x(),b.get_y()*d.get_height()+d.get_y()),b=this.get_imageViewer().convertPoint(a,0,4,b),b=a.get_transform().transformPoint(b);a.zoom(0,c,b)}};Object.defineProperty(lt.Controls.ImageViewerZoomToInteractiveMode.prototype,"name",{get:lt.Controls.ImageViewerZoomToInteractiveMode.prototype.get_name,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerZoomToInteractiveMode.prototype,
"id",{get:lt.Controls.ImageViewerZoomToInteractiveMode.prototype.get_id,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerZoomToInteractiveMode.prototype,"transformTarget",{get:lt.Controls.ImageViewerZoomToInteractiveMode.prototype.get_transformTarget,set:lt.Controls.ImageViewerZoomToInteractiveMode.prototype.set_transformTarget,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerZoomToInteractiveMode.prototype,"shape",{get:lt.Controls.ImageViewerZoomToInteractiveMode.prototype.get_shape,
set:lt.Controls.ImageViewerZoomToInteractiveMode.prototype.set_shape,enumerable:!0,configurable:!0});lt.Controls.ImageViewerItem=function(){this._leadIndex=-1;this._size=lt.LeadSizeD.get_empty();this._resolution=lt.LeadSizeD.create(0,0);this._transform=lt.LeadMatrix.get_identity();this._sizeMode=0;this._scale=lt.LeadSizeD.create(1,1);this._scaleFactors=lt.LeadSizeD.create(1,1);this._offset=lt.LeadPointD.create(0,0);this._textHorizontalAlignment=this._imageVerticalAlignment=this._imageHorizontalAlignment=
1;this._textVerticalAlignment=2;this._floaterTransform=lt.LeadMatrix.get_identity();this._itemElement_DOM_Height=this._itemElement_DOM_Width=this._resizeElementForViewHeight=this._resizeElementForViewWidth=-1;this._itemElement_DOM_Transform=lt.LeadMatrix.get_identity();this._imageClippingElement_DOM_Height=this._imageClippingElement_DOM_Width=this._imageBorderElement_DOM_Height=this._imageBorderElement_DOM_Width=-1;this._imageClippingElement_DOM_Transform=lt.LeadMatrix.get_identity();this._imageFlipElement_DOM_Height=
this._imageFlipElement_DOM_Width=this._imageFlipElement_DOM_Top=this._imageFlipElement_DOM_Left=-1;this._imageSize=lt.LeadSizeD.get_empty();this._backImageLoadUrlMode=this._loadUrlMode=lt.ImageLoaderUrlMode.imageUrl};lt.Controls.ImageViewerItem.createFromImage=function(a,b){return lt.Controls.ImageViewerItem.createFromElement(a,b)};lt.Controls.ImageViewerItem.createFromCanvas=function(a,b){return lt.Controls.ImageViewerItem.createFromElement(a,b)};lt.Controls.ImageViewerItem.createFromElement=function(a,
b){var c=lt.LeadSizeD.get_empty(),c=lt.Controls._elementsHelper.getSize(a,!0),d=new lt.Controls.ImageViewerItem;d._update(a,c,b,9);return d};lt.Controls.ImageViewerItem._isImageCompleted=function(a){return a.src&&a.complete};lt.Controls.ImageViewerItem.prototype={_imageViewer:null,get_imageViewer:function(){return this._imageViewer},beginChange:function(a){null!=this._imageViewer&&this._imageViewer._doItemChanged(this,!0,a)},endChange:function(a){null!=this._imageViewer&&this._imageViewer._doItemChanged(this,
!1,a)},_rowIndex:0,get_rowIndex:function(){return this._rowIndex},set_rowIndex:function(a){return this._rowIndex=a},_columnIndex:0,get_columnIndex:function(){return this._columnIndex},set_columnIndex:function(a){return this._columnIndex=a},_setSize:function(a,b){this._size=a.clone();this._resolution=b.clone()},get_size:function(){return this._size},set_size:function(a){lt.Controls.ControlsHelper.checkIfNull(a,"Size");lt.LeadSizeD.equals(this._size,a)||(this.beginChange(0),this._size=a.clone(),this.endChange(0));
return a},get_resolution:function(){return this._resolution.clone()},set_resolution:function(a){lt.Controls.ControlsHelper.checkResolution(a,"Resolution");var b=a.get_isEmpty()?lt.LeadSizeD.create(0,0):a;lt.LeadSizeD.equals(this._resolution,b)||(this.beginChange(0),this._resolution=b.clone(),null!=this._imageViewer&&lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(this._imageViewer.get_itemSize())&&(this._size=this._imageViewer.getItemImageSize(this,this._imageViewer.get_useDpi())),this.endChange(0));
return a},_isVisible:!0,get_isVisible:function(){return this._isVisible},set_isVisible:function(a){this._isVisible!==a&&(this.beginChange(1),this._isVisible=a,this.endChange(1));return a},_isEnabled:!0,get_isEnabled:function(){return this._isEnabled},set_isEnabled:function(a){this._isEnabled!==a&&(this.beginChange(2),this._isEnabled=a,this.endChange(2));return a},_isSelected:!1,get_isSelected:function(){return this._isSelected},set_isSelected:function(a){this._isSelected!==a&&(this._setSelected(a),
null!=this._imageViewer&&this._imageViewer._internalOnSelectedItemsChanged());return a},_setSelected:function(a){this._isSelected!==a&&(this.beginChange(3),this._isSelected=a,this._doSetSelected(this._isSelected),this.endChange(3))},_isHovered:!1,get_isHovered:function(){return this._isHovered},set_isHovered:function(a){this._isHovered!==a&&(this.beginChange(4),this._isHovered=a,this._doSetHovered(this._isHovered),this.endChange(4));return a},_text:null,get_text:function(){return this._text},set_text:function(a){this._text!==
a&&(this.beginChange(5),this._text=a,this.get__useElements()&&this._updateTextElement(),this.endChange(5));return a},_tag:null,get_tag:function(){return this._tag},set_tag:function(a){return this._tag=a},_url:null,get_url:function(){return this._url},set_url:function(a){null!=this._imageViewer?this._updateFromUrl(a,this.get_resolution()):this._setUrl(a);return a},_setUrl:function(a){this._url=a},_setBackImageUrl:function(a){this._backImageUrl=a},get_transform:function(){return this._transform.clone()},
set_transform:function(a){lt.Controls.ControlsHelper.checkIfNull(a,"Transform");this._setTransform(a,!0);return a},_setTransform:function(a,b){lt.LeadMatrix.equals(this._transform,a)||(this.beginChange(1),this._transform=a.clone(),b&&(this._modifiedRotationAngle=this._rotateAngle=0,this._reverse=this._flip=!1,this._scale=lt.LeadSizeD.create(1,1),this._offset=lt.LeadPointD.create(0,0)),this.endChange(1))},get_sizeMode:function(){return this._sizeMode},zoom:function(a,b,c){lt.Controls.ControlsHelper.checkIfNull(c,
"origin");if(lt.LeadDoubleTools.isZero(b)||0>b)throw new lt.ArgumentOutOfRangeException("value",b,"Must be a value greater than 0");null!=this._imageViewer&&this._imageViewer.disableTransitions();this.beginChange(1);this._sizeMode!==a&&(this._sizeMode=a);a=c.clone();if(c.get_isEmpty()||this._sizeMode)a=this.get_defaultZoomOrigin();this._scaleAt(lt.LeadSizeD.create(b,b),a);this._sizeMode&&(b=this.get_flip(),c=this.get_reverse(),a=this.get_rotateAngle(),this._setTransform(lt.LeadMatrix.get_identity(),
!0),this.set_flip(b),this.set_reverse(c),this.set_rotateAngle(a));this.endChange(1);null!=this._imageViewer&&this._imageViewer.enableTransitions()},get_origin:function(){var a=this.get_imageSize();lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(a)&&(a=this.get_size());return lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(a)?lt.LeadPointD.get_empty():lt.LeadPointD.create(a.get_width()/2,a.get_height()/2)},get_defaultZoomOrigin:function(){var a=this.get_origin();a.get_isEmpty()||(a=this.get_transform().transformPoint(a));
return a},_itemChanged:!1,_flip:!1,get_flip:function(){return this._flip},set_flip:function(a){if(this._flip!==a){this._flip=a;var b=this.get_defaultZoomOrigin();if(!b.get_isEmpty()){var c=lt.LeadMatrix.get_identity();c.scaleAt(1,-1,b.get_x(),b.get_y());this._setTransform(lt.LeadMatrix.multiply(this.get_transform(),c),!1)}}return a},_reverse:!1,get_reverse:function(){return this._reverse},set_reverse:function(a){if(this._reverse!==a){this._reverse=a;var b=this.get_defaultZoomOrigin();if(!b.get_isEmpty()){var c=
lt.LeadMatrix.get_identity();c.scaleAt(-1,1,b.get_x(),b.get_y());this._setTransform(lt.LeadMatrix.multiply(this.get_transform(),c),!1)}}return a},_rotateAngle:0,get_rotateAngle:function(){return this._rotateAngle},set_rotateAngle:function(a){if(!this.get__useElements()){for(;0>a;)a+=360;for(;360<=a;)a-=360}if(this._rotateAngle!==a){var b=a-this._rotateAngle;this._updateItemRotation(b);this._rotateAngle=a;if(!lt.LeadDoubleTools.isZero(b)){var c=this.get_defaultZoomOrigin();if(!c.get_isEmpty()){var d=
lt.LeadMatrix.get_identity();d.rotateAt(b,c.get_x(),c.get_y());this._setTransform(lt.LeadMatrix.multiply(this.get_transform(),d),!1)}}}return a},get_scale:function(){return this._scale.clone()},set_scale:function(a){lt.Controls.ControlsHelper.checkIfNull(a,"Scale");var b=a.get_isEmpty()?lt.LeadSizeD.create(1,1):a.clone();if(0>=b.get_width()||0>=b.get_height())throw new lt.ArgumentOutOfRangeException("Scale",b,"Must have a values greater than 0");lt.LeadSizeD.equals(this._scale,b)||this._scaleAt(b,
this.get_defaultZoomOrigin());return a},_scaleAt:function(a,b){var c=a.get_width()/this._scale.get_width(),d=a.get_height()/this._scale.get_height();this._scale=a;if((!lt.LeadDoubleTools.isOne(c)||!lt.LeadDoubleTools.isOne(d))&&!b.get_isEmpty()){var e=lt.LeadMatrix.get_identity();e.scaleAt(c,d,b.get_x(),b.get_y());this._setTransform(lt.LeadMatrix.multiply(this.get_transform(),e),!1)}},get_scaleFactors:function(){return this._scaleFactors.clone()},_setScaleFactors:function(a){this._scaleFactors=a.clone()},
get_scaleFactor:function(){return Math.max(this._scaleFactors.get_width(),this._scaleFactors.get_height())},get_offset:function(){return this._offset.clone()},set_offset:function(a){lt.Controls.ControlsHelper.checkIfNull(a,"Offset");var b=a.get_isEmpty()?lt.LeadPointD.create(0,0):a.clone();if(!lt.LeadPointD.equals(this._offset,b)){var c=b.get_x()-this._offset.get_x(),d=b.get_y()-this._offset.get_y();this._offset=b;if(!lt.LeadDoubleTools.isZero(c)||!lt.LeadDoubleTools.isZero(d))b=lt.LeadMatrix.get_identity(),
b.translate(c,d),this._setTransform(lt.LeadMatrix.multiply(this.get_transform(),b),!1)}return a},offsetBy:function(a){lt.Controls.ControlsHelper.checkIfNull(a,"value");var b=a.get_isEmpty()?lt.LeadPointD.create(0,0):a.clone();if(!lt.LeadDoubleTools.isZero(b.get_x())||!lt.LeadDoubleTools.isZero(b.get_y()))b=this.get_offset(),b.set_x(b.get_x()+a.get_x()),b.set_y(b.get_y()+a.get_y()),this.set_offset(b)},_resizeOnTransform:!0,get_resizeOnTransform:function(){return this._resizeOnTransform},set_resizeOnTransform:function(a){this._resizeOnTransform!==
a&&(this.beginChange(1),this._resizeOnTransform=a,this.endChange(1));return a},_clipImageToContent:!0,get_clipImageToContent:function(){return this._clipImageToContent},set_clipImageToContent:function(a){this._clipImageToContent!==a&&(this.beginChange(1),this._clipImageToContent=a,this._itemChanged=!0,this.endChange(1));return a},get_imageHorizontalAlignment:function(){return this._imageHorizontalAlignment},set_imageHorizontalAlignment:function(a){this._imageHorizontalAlignment!==a&&(this.beginChange(1),
this._imageHorizontalAlignment=a,this.endChange(1));return a},get_imageVerticalAlignment:function(){return this._imageVerticalAlignment},set_imageVerticalAlignment:function(a){this._imageVerticalAlignment!==a&&(this.beginChange(1),this._imageVerticalAlignment=a,this.endChange(1));return a},get_textHorizontalAlignment:function(){return this._textHorizontalAlignment},set_textHorizontalAlignment:function(a){this._textHorizontalAlignment!==a&&(this.beginChange(1),this._textHorizontalAlignment=a,this.endChange(1));
return a},get_textVerticalAlignment:function(){return this._textVerticalAlignment},set_textVerticalAlignment:function(a){this._textVerticalAlignment!==a&&(this.beginChange(1),this._textVerticalAlignment=a,this.endChange(1));return a},get_floaterTransform:function(){return this._floaterTransform},set_floaterTransform:function(a){lt.Controls.ControlsHelper.checkIfNull(a,"FloaterTransform");if(!lt.LeadMatrix.equals(this._floaterTransform,a)){var b=lt.LeadRectD.get_empty();this.beginChange(12);null!=
this._imageViewer&&(b=this._imageViewer.getItemViewBounds(this,6,!1));this._floaterTransform=a;this.endChange(12);if(null!=this._imageViewer&&(b=lt.LeadRectD.unionRects(b,this._imageViewer.getItemViewBounds(this,6,!1)),!b.get_isEmpty())){var c=lt.Controls.ControlRegionRenderer.get_instance().get_size();b.inflate(2*c+2,2*c+2);this._imageViewer._nativeInvalidate(b)}}return a},_floaterOpacity:1,get_floaterOpacity:function(){return this._floaterOpacity},set_floaterOpacity:function(a){if(lt.LeadDoubleTools.lessThan(a,
0)||lt.LeadDoubleTools.greaterThan(a,1))throw new lt.ArgumentOutOfRangeException("FloaterOpacity",a,"Must be a value between 0 and 1");if(!lt.LeadDoubleTools.areClose(this._floaterOpacity,a)){var b=lt.LeadRectD.get_empty();this.beginChange(12);null!=this._imageViewer&&(b=this._imageViewer.getItemViewBounds(this,6,!1));this._floaterOpacity=a;this.endChange(12);if(null!=this._imageViewer&&(b=lt.LeadRectD.unionRects(b,this._imageViewer.getItemViewBounds(this,6,!1)),!b.get_isEmpty())){var c=lt.Controls.ControlRegionRenderer.get_instance().get_size();
b.inflate(2*c+2,2*c+2);this._imageViewer._nativeInvalidate(b)}}return a},get_hasVisibleFloater:function(){return this.get_hasFloater()&&lt.LeadDoubleTools.greaterThan(this.get_floaterOpacity(),0)},_internalDeleteFloater:function(){this.deleteFloater()},_imageScale:1,get_imageScale:function(){return this._imageScale},set_imageScale:function(a){if(lt.LeadDoubleTools.isZero(a)||0>a)throw new lt.ArgumentOutOfRangeException("ImageScale",a,"Must be a value greater than 0");return this._imageScale=a},get_leadIndex:function(){return this._leadIndex},
set_leadIndex:function(a){return this._leadIndex=a},_autoCreateCanvas:!1,get_autoCreateCanvas:function(){return this._autoCreateCanvas},set_autoCreateCanvas:function(a){a!==this._autoCreateCanvas&&(this._autoCreateCanvas=a);return a},_resizeElementForView:!1,get_resizeElementForView:function(){return this._resizeElementForView},set_resizeElementForView:function(a){a!==this._resizeElementForView&&(this._resizeElementForView=a);return a},_useElements:!1,get__useElements:function(){return this._useElements},
_itemElement:null,get_itemElement:function(){return this._itemElement},_imageElement:null,get_imageElement:function(){return this._imageElement},_imageElement_DOM_TransformString:null,_backImageElement:null,get_backImageElement:function(){return this._backImageElement},_backImageElement_DOM_TransformString:null,_textElement:null,get_textElement:function(){return this._textElement},_imageBorderElement:null,get_imageBorderElement:function(){return this._imageBorderElement},_imageBorderElement_DOM_TransformString:null,
_imageBorderElement_DOM_Shadow:null,_imageClippingElement:null,get_imageClippingElement:function(){return this._imageClippingElement},_imageFlipElement:null,get_imageFlipElement:function(){return this._imageFlipElement},_imageFlipElement_DOM_TransformString:null,_deleteItemImageElement:function(a,b){null!=this._imageElement&&(null!=this._imageElement.parentNode&&this._imageElement.parentNode.removeChild(this._imageElement),this._imageElement=null);this._imageElement_DOM_TransformString=null;if(b&&
(null!=this._image||null!=this._canvas||null!=this._element)){var c=null;null!=this._canvas?this._canvas=null:null!=this._image?c=this._image.src:null!=this._element&&(c=this._url);this._size=lt.LeadSizeD.get_empty();this.set_imageSize(this._imageSize);this._imageViewer.get_items().get__props()[this._imageViewer.get_items().indexOf(this)].removedImageUrl=c}this._resizeElementForViewHeight=this._resizeElementForViewWidth=-1;a&&this._deleteItemBackImageElement(b);null!=this._itemElement&&lt.LTHelper.removeClass(this._itemElement,
this.get_imageViewer()._useElementsOptions.get_itemImageLoadedClass())},_deleteItemBackImageElement:function(a){null!=this._backImageElement&&(null!=this._backImageElement.parentNode&&this._backImageElement.parentNode.removeChild(this._backImageElement),this._backImageElement_DOM_TransformString=this._backImageElement=null,a&&null!=this._backImage&&(a=null,lt.Controls._elementsHelper.isImgElement(this._backImage)?a=this._backImage.src:lt.Controls._elementsHelper.isSvgElement(this._backImage)&&(a=
this._backImageUrl),this._imageViewer.get_items().get__props()[this._imageViewer.get_items().indexOf(this)].removedBackImageUrl=a,this._backImage=null))},_deleteItemElements:function(a){if(!(null==this._itemElement||null==this._imageViewer)){var b=this._imageViewer.get_viewDiv();null!=b&&(this._deleteItemImageElement(!0,a),null!=this._textElement&&(null!=this._textElement.parentNode&&this._textElement.parentNode.removeChild(this._textElement),this._textElement=null,null!=this._imageBorderElement&&
(null!=this._imageBorderElement.parentNode&&this._imageBorderElement.parentNode.removeChild(this._imageBorderElement),this._imageBorderElement=null,this._imageBorderElement_DOM_Height=this._imageBorderElement_DOM_Width=-1,this._imageBorderElement_DOM_TransformString=this._imageBorderElement_DOM_Shadow=null,null!=this._imageFlipElement&&(null!=this._imageFlipElement.parentNode&&this._imageFlipElement.parentNode.removeChild(this._imageFlipElement),this._imageFlipElement=null,this._imageFlipElement_DOM_Height=
this._imageFlipElement_DOM_Width=this._imageFlipElement_DOM_Top=this._imageFlipElement_DOM_Left=-1,this._imageFlipElement_DOM_TransformString=null,null!=this._imageClippingElement&&(null!=this._imageClippingElement.parentNode&&this._imageClippingElement.parentNode.removeChild(this._imageClippingElement),this._imageClippingElement=null,this._imageClippingElement_DOM_Height=this._imageClippingElement_DOM_Width=-1,this._imageClippingElement_DOM_Transform=lt.LeadMatrix.get_identity(),this._itemElement.parentNode===
b&&b.removeChild(this._itemElement),this._itemElement=null,this._itemElement_DOM_Height=this._itemElement_DOM_Width=-1,this._itemElement_DOM_Transform=lt.LeadMatrix.get_identity())))))}},_setImageViewer:function(a){null==a&&this._useElements&&this._deleteItemElements(!1);this._imageViewer=a;null!=this._imageViewer&&(this._useElements=this._imageViewer.get_useElements())},_doSetHovered:function(a){null!=this.get_itemElement()&&(a?lt.LTHelper.addClass(this.get_itemElement(),this._imageViewer._useElementsOptions.get_itemHoverClass()):
lt.LTHelper.removeClass(this.get_itemElement(),this._imageViewer._useElementsOptions.get_itemHoverClass()))},_doSetSelected:function(a){null!=this.get_itemElement()&&(a?lt.LTHelper.addClass(this.get_itemElement(),this._imageViewer._useElementsOptions.get_itemSelectClass()):lt.LTHelper.removeClass(this.get_itemElement(),this._imageViewer._useElementsOptions.get_itemSelectClass()))},_render:function(a,b){null!=this.get_imageViewer()&&this._renderImageOrCanvas(a,b)},_renderInterpolation:function(a,b){var c=
b.interpolator;return null!=c&&c.get_hasInterpolationResult()?(c.renderImage(a.get_context()),!0):!1},_renderImageOrCanvas:function(a,b){var c=this.get_imageViewer(),d=this.get_image(),e=this.get_canvas(),f=this.get_backImage();if(!(null==d&&null==e&&null==f)){var g=c.getItemImageSize(this,!1);if(!lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(g)&&(c=c.getItemImageTransform(this),c.get_hasInverse()&&!this._renderInterpolation(a,b))){var h=a.get_context(),i=null;try{c.get_isIdentity()||(i=lt.Controls.GraphicsHelper.saveContext(h),
lt.Controls.GraphicsHelper.multiplyTransform(h,c)),null!=f&&lt.Controls._elementsHelper.isImgElement(f)||lt.Controls._elementsHelper.isSvgElement(f)?h.drawImage(f,0,0,g.get_width(),g.get_height()):lt.Controls.GraphicsHelper.fillBackground(h,this._imageViewer.get_imageBackgroundColor(),lt.LeadRectD.create(0,0,g.get_width(),g.get_height()),lt.LeadMatrix.get_identity()),null!=d?h.drawImage(d,0,0,g.get_width(),g.get_height()):null!=e&&h.drawImage(e,0,0,g.get_width(),g.get_height())}finally{null!=i&&lt.Controls.GraphicsHelper.restoreContext(h,
i)}}}},_createItemElements:function(){var a=this.get_imageViewer();if(null!=a&&(a=a.get_viewDiv(),null!=a)){this._internalCreateItemElement(a);this._createClippingElement();this._createFlipElement();this._createBorderElement();this._createTextElement();var a=this._imageViewer.get_items().get__props()[this._imageViewer.get_items().indexOf(this)],b=a.removedImageUrl;null!=b&&this.set_url(b);a=a.removedBackImageUrl;null!=a&&this.set_backImageUrl(a);this._updateBackImageElement();this._updateImageElement()}},
_itemImageChanged:!1,_updateImageElement:function(){if(!(null==this.get_image()&&null==this.get_canvas()&&null==this.get_element()||null==this.get_imageFlipElement())){var a;a=null!=this._canvas?this._canvas:null!=this._image?this._image:null!=this._element?this._element:null;var b=this._imageViewer.getItemImageSize(this,!1);lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(b)||(this._imageElement=a,this._imageElement_DOM_TransformString=null,this._configureForPassthrough(this.get__hasHTMLAsImage()||
lt.Controls._elementsHelper.isSvgElement(a)),lt.LTHelper.addClass(a,this._imageViewer._useElementsOptions.get_itemImageElementClass()),this._imageFlipElement.appendChild(a),this._itemImageChanged=this._imageViewer._InternalImmediateRender=!0,this._useElements&&lt.Controls._elementsHelper.isImgElement(this._imageElement)?lt.Controls.ImageViewerItem._isImageCompleted(a)?(lt.LTHelper.addClass(this._itemElement,this.get_imageViewer()._useElementsOptions.get_itemImageLoadedClass()),this._imageViewer._internalUpdateStyles()):
lt.LTHelper.browser===lt.LTBrowser.internetExplorer&&9===lt.LTHelper.version?(b=ss.Delegate.create(this,function(){"complete"===a.readyState&&(lt.LTHelper.addClass(this._itemElement,this.get_imageViewer()._useElementsOptions.get_itemImageLoadedClass()),this._imageViewer._internalUpdateStyles(),a.onreadystatechange=null)}),a.onreadystatechange=b):(b=null,b=ss.Delegate.create(this,function(){a.onload="";lt.LTHelper.addClass(this._itemElement,this.get_imageViewer()._useElementsOptions.get_itemImageLoadedClass());
this._imageViewer.updateStyles()}),a.onload=b):this._useElements&&lt.Controls._elementsHelper.isElement(this._imageElement)&&(lt.LTHelper.addClass(this._itemElement,this.get_imageViewer()._useElementsOptions.get_itemImageLoadedClass()),this._imageViewer._internalUpdateStyles()))}},_itemBackImageChanged:!1,_updateBackImageElement:function(){if(!(null==this._backImage||null==this.get_imageFlipElement())){var a=this._backImage;this._backImageElement_DOM_TransformString=null;var b=this._imageViewer.getItemImageSize(this,
!1);if(!lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(b)){if(!this.get_resizeElementForView()){var c=lt.Controls.PrimitivesHelper.toInt(b.get_width()/this._imageScale),b=lt.Controls.PrimitivesHelper.toInt(b.get_height()/this._imageScale);if(lt.Controls._elementsHelper.isImgElement(a))a.style.width=c+"px",a.style.height=b+"px";else if(lt.Controls._elementsHelper.isSvgElement(a)){var d=a.getAttribute("viewBox");if(String.isNullOrEmpty(d)){var d=parseInt(a.getAttribute("width")),e=parseInt(a.getAttribute("height"));
a.setAttribute("viewBox","0 0 "+d+" "+e)}a.setAttribute("width",c);a.setAttribute("height",b);a.setAttribute("preserveAspectRatio","xMinYMin meet")}}lt.LTHelper.addClass(a,this._imageViewer._useElementsOptions.get_itemBackImageElementClass());null!=this._imageElement&&this._imageElement.parentNode===this._imageFlipElement?this._imageFlipElement.insertBefore(a,this._imageElement):this._imageFlipElement.appendChild(a);this._backImageElement=a;this._itemBackImageChanged=!0}}},get__hasHTMLAsImage:function(){return this._useElements&&
lt.Controls._elementsHelper.isNonImgAndNonSvgElement(this._imageElement)},_configureForPassthrough:function(a){null!=this.get_imageClippingElement()&&(a&&null!=this.get_imageViewer().get_passthroughDiv()&&this._imageClippingElement.parentNode===this._itemElement?(this._imageClippingElement.parentNode.removeChild(this._imageClippingElement),this._imageViewer.get_passthroughDiv().appendChild(this._imageClippingElement),lt.Controls.ElementInsertionHelper.removePointerEvents([this._imageClippingElement])):
!a&&this._imageClippingElement.parentNode===this._imageViewer.get_passthroughDiv()&&(this._imageClippingElement.parentNode.removeChild(this._imageClippingElement),this._itemElement.appendChild(this._imageClippingElement),lt.Controls.ElementInsertionHelper.clearPointerEventChangesFromRoot(this._imageClippingElement)))},_createClippingElement:function(){if(null==this._imageClippingElement){var a=document.createElement("div");lt.LTHelper.addClass(a,this._imageViewer._useElementsOptions.get_itemImageClippingElementClass());
this._itemElement.appendChild(a);this._imageClippingElement=a;this._updateClippingElement()}},_updateClippingElement:function(){this._useElements&&null!=this._imageClippingElement&&(!this._resizeOnTransform&&this._clipImageToContent?lt.LTHelper.addClass(this._imageClippingElement,"lt_no_overflow"):lt.LTHelper.removeClass(this._imageClippingElement,"lt_no_overflow"))},_createFlipElement:function(){if(null==this._imageFlipElement){var a=document.createElement("div");lt.LTHelper.addClass(a,this._imageViewer._useElementsOptions.get_itemImageFlipElementClass());
this._imageClippingElement.appendChild(a);this._imageFlipElement=a}},_createBorderElement:function(){if(null==this._imageBorderElement){var a=document.createElement("div");lt.LTHelper.addClass(a,this._imageViewer._useElementsOptions.get_itemImageBorderElementClass());this._imageFlipElement.appendChild(a);this._imageBorderElement=a}},_internalCreateItemElement:function(a){if(null==this._itemElement){var b=document.createElement("div");lt.LTHelper.addClass(b,this._imageViewer._useElementsOptions.get_itemElementClass());
this._imageViewer.get_activeItem()===this&&lt.LTHelper.addClass(b,this._imageViewer._useElementsOptions.get_itemActiveClass());a.appendChild(b);this._itemElement=b;this._doSetSelected(this._isSelected);this._doSetHovered(this._isHovered)}},_createTextElement:function(){if(null==this._textElement){var a=document.createElement("span");lt.LTHelper.addClass(a,this._imageViewer._useElementsOptions.get_itemTextElementClass());this._itemElement.appendChild(a);this._textElement=a;this._updateTextElement()}},
_updateTextElement:function(){null==this._text||null==this.get_textElement()||(this._textElement.innerHTML=this._text)},_modifiedRotationAngle:0,_updateItemRotation:function(a){this._modifiedRotationAngle+=1===(this._flip^this._reverse)?-a:a},_flipImageElement:!1,get_flipImageElement:function(){return this._flipImageElement},set_flipImageElement:function(a){this._imageViewer._checkSetForUseElements("FlipImageElement");this._imageViewer.beginTransform();this._flipImageElement!==a&&(this._itemChanged=
!0,this._flipImageElement=a);this._imageViewer.endTransform();return a},_reverseImageElement:!1,get_reverseImageElement:function(){return this._reverseImageElement},set_reverseImageElement:function(a){this._imageViewer._checkSetForUseElements("ReverseImageElement");this._imageViewer.beginTransform();this._reverseImageElement!==a&&(this._itemChanged=!0,this._reverseImageElement=a);this._imageViewer.endTransform();return a},_update:function(a,b,c,d){this._doUpdate(a,b,c,d,!1,lt.LeadSizeD.get_empty())},
_updateImageSize:function(a,b){this._doUpdate(null,lt.LeadSizeD.get_empty(),this.get_resolution(),b,!0,a)},_doUpdate:function(a,b,c,d,e,f){var g=null,h=null,i=null;if(null!=a){var j=a.tagName;null!=j&&(j=j.toLowerCase());"img"===j?g=a:"canvas"===j?h=a:i=a}j=lt.LeadSizeD.create(0,0);a=this.get_imageViewer();if(null!=g||null!=h||null!=i){if(null!=g){this._imageSize=b.clone();if(this._imageSize.get_isEmpty()||!this._imageSize.get_width()||!this._imageSize.get_height()){d=Error("Image has naturalWidth or naturalHeight value of 0");
if(null!=this._imageViewer){this._imageViewer._internalOnItemError(lt.Controls.ImageViewerItemErrorEventArgs.create(this,9,g,d));return}throw d;}this._imageSize.set_width(lt.Controls.PrimitivesHelper.toInt(this._imageSize.get_width()*this._imageScale));this._imageSize.set_height(lt.Controls.PrimitivesHelper.toInt(this._imageSize.get_height()*this._imageScale));if(null!=g&&this.get_autoCreateCanvas()){b=new lt.CanvasHelper;b.set_autoScale(lt.Controls.CanvasOptions.get_autoScale());b.set_maximumSize(lt.Controls.CanvasOptions.get_maximumSize());
try{var k=b.create(g,this._imageSize);null!=k&&(g=null,h=k,this._imageSize=b.get_size(),this._canvasScale=b.get_scale())}catch(n){null!=a&&(k=lt.Controls.ImageViewerItemErrorEventArgs.create(this,9,null,n),a._internalOnItemError(k))}}}else if(null!=h)this.get_resizeElementForView()||(this._resizeElementForViewWidth=h.width,this._resizeElementForViewHeight=h.height,this._imageSize=lt.LeadSizeD.create(this._resizeElementForViewWidth,this._resizeElementForViewHeight));else if(null!=i&&!this.get_resizeElementForView()){this._imageSize=
b.clone();if(this._imageSize.get_isEmpty()||!this._imageSize.get_width()||!this._imageSize.get_height()){d=Error("Invalid element size");if(null!=this._imageViewer){this._imageViewer._internalOnItemError(lt.Controls.ImageViewerItemErrorEventArgs.create(this,9,i,d));return}throw d;}this._imageSize.set_width(lt.Controls.PrimitivesHelper.toInt(this._imageSize.get_width()*this._imageScale));this._imageSize.set_height(lt.Controls.PrimitivesHelper.toInt(this._imageSize.get_height()*this._imageScale))}k=
lt.LeadSizeD.get_empty();null!=a&&(k=a.get_itemSize());j=lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(k)?this._imageSize:k}else this._imageSize=e?f.clone():lt.LeadSizeD.get_empty(),j=this.get_size(),e&&j.get_isEmpty()&&(j=f.clone());null!=a&&(a._doItemChanged(this,!0,d),null!=this._image&&this._image!==g&&a._tryDispose(this),null!=this._canvas&&this._canvas!==h&&a._tryDispose(this),null!=this._element&&this._element!==i&&a._tryDispose(this));this._image=g;this._element=i;this._canvas=h;g=c.clone();
if(g.get_isEmpty()||!g.get_width()||!g.get_height())g=null!=a?a.get_screenDpi():lt.LeadSizeD.create(96,96);null!=a&&a.get_useDpi()&&(j=a._calculateItemSize(g,j,!0));this._setSize(j,g);this._useElements&&this._updateImageElement();null!=a&&a._doItemChanged(this,!1,d)},_tryDispose:function(){null==this._image&&null==this._canvas&&null==this._element||(this._element=this._canvas=this._image=null)},_tryDisposeBackImage:function(a){if(null!=this._backImage){for(a=ss.IEnumerator.getEnumerator(a);a.moveNext();){var b=
a.current;if(b!==this){b.get_backImage();break}}this._backImage=null}},_updateFromUrl:function(a,b){this._updateFromImageUrl(a,b,!1)},_updateFromImageUrl:function(a,b,c){var d=this.get_imageViewer();null!=d&&(null==a?(null!=this.get_image()&&this.set_image(null),null!=this.get_canvas()&&this.set_canvas(null),null!=this.get_element()&&this.set_element(null)):this._doUpdateFromUrl(d,a,b,c,c?this.get_backImageLoadUrlMode():this.get_loadUrlMode()))},_doUpdateFromUrl:function(a,b,c,d,e){var f=d?13:6,g=
null,h=null,i=null,g=function(e){var g=e.get_tag();if(d)g._setBackImageUrl(b),g.set_backImage(e.get_element());else{g._setUrl(b);var h=e.get_element();g._update(h,lt.LeadSizeD.create(e.get_width(),e.get_height()),c,f);a.get_invert()&&lt.Controls._imageProcessingHelper.get_canInvert()&&lt.Controls._imageProcessingHelper.invert(g)}},h=function(b){var c=b.get_tag(),b=lt.Controls.ImageViewerItemErrorEventArgs.create(c,f,b.get_element(),b.get_error());a._internalOnItemError(b);!d&&b.get_removeEmptyItem()&&
null!=c&&a.get_items().contains(c)&&!c.get_hasImage()&&(lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(c.get_size())||lt.LeadSizeD.equals(c.get_size(),a.get_itemSize()))&&a.get_items().remove(c)},i=ss.Delegate.create(this,function(b){b.remove_done(g);b.remove_fail(h);b.remove_always(i);b=b.get_tag();this.get__useElements()&&null!=b._imageViewer&&(null!=b.get_itemElement()&&(lt.LTHelper.removeClass(b.get_itemElement(),a._useElementsOptions.get_itemImageLoadingClass()),lt.LTHelper.addClass(b.get_itemElement(),
a._useElementsOptions.get_itemImageLoadedClass())),b._imageViewer._internalUpdateStyles())});this.get__useElements()&&null!=this.get_itemElement()&&(lt.LTHelper.removeClass(this.get_itemElement(),a._useElementsOptions.get_itemImageLoadedClass()),lt.LTHelper.addClass(this.get_itemElement(),a._useElementsOptions.get_itemImageLoadingClass()));var j=new lt.ImageLoader;j.set_urlMode(e);j.set_url(b);j.set_tag(this);j.set_imagesHolder(a.get_imagesDiv());j.add_done(g);j.add_fail(h);j.add_always(i);this._imageViewer._onImageLoading(new lt.Controls.ImageViewerImageLoadingEventArgs(j,
this,d));null!=j&&!j.get_isWorking()&&null==j.get_element()&&null==j.get_error()&&j.run()},_image:null,get_image:function(){return this._image},set_image:function(a){this._image!==a&&this._update(a,lt.Controls._elementsHelper.getSize(a,!1),this.get_resolution(),9);return a},_element:null,get_element:function(){return this._element},set_element:function(a){this._element!==a&&this._update(a,lt.Controls._elementsHelper.getSize(a,!0),this.get_resolution(),9);return a},_canvas:null,get_canvas:function(){return this._canvas},
set_canvas:function(a){this._canvas!==a&&this._update(a,lt.LeadSizeD.get_empty(),this.get_resolution(),9);return a},_backImage:null,get_backImage:function(){return this._backImage},set_backImage:function(a){this._backImage!==a&&(this.beginChange(14),null!=this._backImage&&null!=this._imageViewer&&this._imageViewer._tryDisposeBackImage(this),this.get__useElements()&&null==a&&this._deleteItemBackImageElement(!1),this._backImage=a,this.endChange(14));return a},_canvasScale:1,get_canvasScale:function(){return this._canvasScale},
_floater:null,get_floater:function(){return this._floater},set_floater:function(a){if(this._floater!==a){var b=this.get_imageViewer(),c=lt.LeadRectD.get_empty();null!=b&&(c=b.getItemViewBounds(this,6,!1),b._doItemChanged(this,!0,11));b.setItemFloater(this,a);if(null!=b&&(b._doItemChanged(this,!1,11),c=lt.LeadRectD.unionRects(c,b.getItemViewBounds(this,6,!1)),!c.get_isEmpty())){var d=lt.Controls.ControlRegionRenderer.get_instance().get_size();c.inflate(2*d+2,2*d+2);b._nativeInvalidate(c)}}return a},
_setFloater:function(a){this._floater=a},get_hasImage:function(){return null!=this._image||null!=this._canvas||null!=this._element||!this._imageSize.get_isEmpty()},deleteImage:function(){null!=this._image&&this.set_image(null);null!=this._canvas&&this.set_canvas(null);null!=this._element&&(this._element=null);null!=this._backImage&&this.set_backImage(null)},_backImageUrl:null,get_backImageUrl:function(){return this._backImageUrl},set_backImageUrl:function(a){null!=this._imageViewer?this._updateFromImageUrl(a,
lt.LeadSizeD.create(0,0),!0):this._setBackImageUrl(a);return a},get_imageSize:function(){return this._imageSize.clone()},set_imageSize:function(a){this._updateImageSize(a,9);return a},get_loadUrlMode:function(){return this._loadUrlMode},set_loadUrlMode:function(a){return this._loadUrlMode=a},get_backImageLoadUrlMode:function(){return this._backImageLoadUrlMode},set_backImageLoadUrlMode:function(a){return this._backImageLoadUrlMode=a},get_hasFloater:function(){return null!=this._floater},deleteFloater:function(){this.set_floater(null)},
get_floaterSize:function(){return null!=this._floater?lt.LeadSizeD.create(this._floater.width,this._floater.height):lt.LeadSizeD.get_empty()},combineFloater:function(){return!1},imageRegionToFloater:function(){return!1}};Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"imageViewer",{get:lt.Controls.ImageViewerItem.prototype.get_imageViewer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"rowIndex",{get:lt.Controls.ImageViewerItem.prototype.get_rowIndex,
set:lt.Controls.ImageViewerItem.prototype.set_rowIndex,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"columnIndex",{get:lt.Controls.ImageViewerItem.prototype.get_columnIndex,set:lt.Controls.ImageViewerItem.prototype.set_columnIndex,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"size",{get:lt.Controls.ImageViewerItem.prototype.get_size,set:lt.Controls.ImageViewerItem.prototype.set_size,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"resolution",{get:lt.Controls.ImageViewerItem.prototype.get_resolution,set:lt.Controls.ImageViewerItem.prototype.set_resolution,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"isVisible",{get:lt.Controls.ImageViewerItem.prototype.get_isVisible,set:lt.Controls.ImageViewerItem.prototype.set_isVisible,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"isEnabled",
{get:lt.Controls.ImageViewerItem.prototype.get_isEnabled,set:lt.Controls.ImageViewerItem.prototype.set_isEnabled,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"isSelected",{get:lt.Controls.ImageViewerItem.prototype.get_isSelected,set:lt.Controls.ImageViewerItem.prototype.set_isSelected,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"isHovered",{get:lt.Controls.ImageViewerItem.prototype.get_isHovered,set:lt.Controls.ImageViewerItem.prototype.set_isHovered,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"text",{get:lt.Controls.ImageViewerItem.prototype.get_text,set:lt.Controls.ImageViewerItem.prototype.set_text,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"tag",{get:lt.Controls.ImageViewerItem.prototype.get_tag,set:lt.Controls.ImageViewerItem.prototype.set_tag,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"url",{get:lt.Controls.ImageViewerItem.prototype.get_url,
set:lt.Controls.ImageViewerItem.prototype.set_url,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"transform",{get:lt.Controls.ImageViewerItem.prototype.get_transform,set:lt.Controls.ImageViewerItem.prototype.set_transform,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"sizeMode",{get:lt.Controls.ImageViewerItem.prototype.get_sizeMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,
"origin",{get:lt.Controls.ImageViewerItem.prototype.get_origin,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"defaultZoomOrigin",{get:lt.Controls.ImageViewerItem.prototype.get_defaultZoomOrigin,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"flip",{get:lt.Controls.ImageViewerItem.prototype.get_flip,set:lt.Controls.ImageViewerItem.prototype.set_flip,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,
"reverse",{get:lt.Controls.ImageViewerItem.prototype.get_reverse,set:lt.Controls.ImageViewerItem.prototype.set_reverse,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"rotateAngle",{get:lt.Controls.ImageViewerItem.prototype.get_rotateAngle,set:lt.Controls.ImageViewerItem.prototype.set_rotateAngle,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"scale",{get:lt.Controls.ImageViewerItem.prototype.get_scale,set:lt.Controls.ImageViewerItem.prototype.set_scale,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"scaleFactors",{get:lt.Controls.ImageViewerItem.prototype.get_scaleFactors,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"scaleFactor",{get:lt.Controls.ImageViewerItem.prototype.get_scaleFactor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"offset",{get:lt.Controls.ImageViewerItem.prototype.get_offset,set:lt.Controls.ImageViewerItem.prototype.set_offset,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"resizeOnTransform",{get:lt.Controls.ImageViewerItem.prototype.get_resizeOnTransform,set:lt.Controls.ImageViewerItem.prototype.set_resizeOnTransform,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"clipImageToContent",{get:lt.Controls.ImageViewerItem.prototype.get_clipImageToContent,set:lt.Controls.ImageViewerItem.prototype.set_clipImageToContent,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"imageHorizontalAlignment",{get:lt.Controls.ImageViewerItem.prototype.get_imageHorizontalAlignment,set:lt.Controls.ImageViewerItem.prototype.set_imageHorizontalAlignment,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"imageVerticalAlignment",{get:lt.Controls.ImageViewerItem.prototype.get_imageVerticalAlignment,set:lt.Controls.ImageViewerItem.prototype.set_imageVerticalAlignment,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"textHorizontalAlignment",{get:lt.Controls.ImageViewerItem.prototype.get_textHorizontalAlignment,set:lt.Controls.ImageViewerItem.prototype.set_textHorizontalAlignment,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"textVerticalAlignment",{get:lt.Controls.ImageViewerItem.prototype.get_textVerticalAlignment,set:lt.Controls.ImageViewerItem.prototype.set_textVerticalAlignment,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"floaterTransform",{get:lt.Controls.ImageViewerItem.prototype.get_floaterTransform,set:lt.Controls.ImageViewerItem.prototype.set_floaterTransform,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"floaterOpacity",{get:lt.Controls.ImageViewerItem.prototype.get_floaterOpacity,set:lt.Controls.ImageViewerItem.prototype.set_floaterOpacity,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,
"hasVisibleFloater",{get:lt.Controls.ImageViewerItem.prototype.get_hasVisibleFloater,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"imageScale",{get:lt.Controls.ImageViewerItem.prototype.get_imageScale,set:lt.Controls.ImageViewerItem.prototype.set_imageScale,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"leadIndex",{get:lt.Controls.ImageViewerItem.prototype.get_leadIndex,set:lt.Controls.ImageViewerItem.prototype.set_leadIndex,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"autoCreateCanvas",{get:lt.Controls.ImageViewerItem.prototype.get_autoCreateCanvas,set:lt.Controls.ImageViewerItem.prototype.set_autoCreateCanvas,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"resizeElementForView",{get:lt.Controls.ImageViewerItem.prototype.get_resizeElementForView,set:lt.Controls.ImageViewerItem.prototype.set_resizeElementForView,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"itemElement",{get:lt.Controls.ImageViewerItem.prototype.get_itemElement,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"imageElement",{get:lt.Controls.ImageViewerItem.prototype.get_imageElement,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"backImageElement",{get:lt.Controls.ImageViewerItem.prototype.get_backImageElement,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"textElement",{get:lt.Controls.ImageViewerItem.prototype.get_textElement,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"imageBorderElement",{get:lt.Controls.ImageViewerItem.prototype.get_imageBorderElement,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"imageClippingElement",{get:lt.Controls.ImageViewerItem.prototype.get_imageClippingElement,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"imageFlipElement",{get:lt.Controls.ImageViewerItem.prototype.get_imageFlipElement,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"flipImageElement",{get:lt.Controls.ImageViewerItem.prototype.get_flipImageElement,set:lt.Controls.ImageViewerItem.prototype.set_flipImageElement,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,
"reverseImageElement",{get:lt.Controls.ImageViewerItem.prototype.get_reverseImageElement,set:lt.Controls.ImageViewerItem.prototype.set_reverseImageElement,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"image",{get:lt.Controls.ImageViewerItem.prototype.get_image,set:lt.Controls.ImageViewerItem.prototype.set_image,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"element",{get:lt.Controls.ImageViewerItem.prototype.get_element,
set:lt.Controls.ImageViewerItem.prototype.set_element,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"canvas",{get:lt.Controls.ImageViewerItem.prototype.get_canvas,set:lt.Controls.ImageViewerItem.prototype.set_canvas,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"backImage",{get:lt.Controls.ImageViewerItem.prototype.get_backImage,set:lt.Controls.ImageViewerItem.prototype.set_backImage,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"canvasScale",{get:lt.Controls.ImageViewerItem.prototype.get_canvasScale,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"floater",{get:lt.Controls.ImageViewerItem.prototype.get_floater,set:lt.Controls.ImageViewerItem.prototype.set_floater,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"hasImage",{get:lt.Controls.ImageViewerItem.prototype.get_hasImage,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"backImageUrl",{get:lt.Controls.ImageViewerItem.prototype.get_backImageUrl,set:lt.Controls.ImageViewerItem.prototype.set_backImageUrl,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"imageSize",{get:lt.Controls.ImageViewerItem.prototype.get_imageSize,set:lt.Controls.ImageViewerItem.prototype.set_imageSize,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,
"loadUrlMode",{get:lt.Controls.ImageViewerItem.prototype.get_loadUrlMode,set:lt.Controls.ImageViewerItem.prototype.set_loadUrlMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"backImageLoadUrlMode",{get:lt.Controls.ImageViewerItem.prototype.get_backImageLoadUrlMode,set:lt.Controls.ImageViewerItem.prototype.set_backImageLoadUrlMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"hasFloater",{get:lt.Controls.ImageViewerItem.prototype.get_hasFloater,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"floaterSize",{get:lt.Controls.ImageViewerItem.prototype.get_floaterSize,enumerable:!0,configurable:!0});lt.Controls.ElementInsertionHelper=function(){};lt.Controls.ElementInsertionHelper._setPointerEvent=function(a,b){null!=a&&(a.style.pointerEvents=b)};lt.Controls.ElementInsertionHelper.removePointerEventsFromRoot=function(a){if(null!=a.children)for(var b=0;b<a.children.length;b++)lt.Controls.ElementInsertionHelper.removePointerEventsFromRoot(a.children[b]);
lt.Controls.ElementInsertionHelper._setPointerEvent(a,lt.Controls.ElementInsertionHelper._None)};lt.Controls.ElementInsertionHelper.forcePointerEventsFromRoot=function(a){if(null!=a.children)for(var b=0;b<a.children.length;b++)lt.Controls.ElementInsertionHelper.forcePointerEventsFromRoot(a.children[b]);lt.Controls.ElementInsertionHelper._setPointerEvent(a,lt.Controls.ElementInsertionHelper._All)};lt.Controls.ElementInsertionHelper.clearPointerEventChangesFromRoot=function(a){if(null!=a.children)for(var b=
0;b<a.children.length;b++)lt.Controls.ElementInsertionHelper.removePointerEventsFromRoot(a.children[b]);lt.Controls.ElementInsertionHelper._setPointerEvent(a,lt.Controls.ElementInsertionHelper._Clear)};lt.Controls.ElementInsertionHelper.removePointerEvents=function(a){lt.LTHelper.supportsHTMLPointerEvents&&null!=a&&a.forEach(function(a){lt.Controls.ElementInsertionHelper._setPointerEvent(a,lt.Controls.ElementInsertionHelper._None)})};lt.Controls.ElementInsertionHelper.forcePointerEvents=function(a){lt.LTHelper.supportsHTMLPointerEvents&&
null!=a&&a.forEach(function(a){lt.Controls.ElementInsertionHelper._setPointerEvent(a,lt.Controls.ElementInsertionHelper._All)})};lt.Controls.ElementInsertionHelper.clearPointerEventChanges=function(a){lt.LTHelper.supportsHTMLPointerEvents&&null!=a&&a.forEach(function(a){lt.Controls.ElementInsertionHelper._setPointerEvent(a,lt.Controls.ElementInsertionHelper._Clear)})};lt.Controls.ImageViewerItems=function(a){this._itemProps$1=[];lt.Controls.ImageViewerItems.initializeBase(this);this._imageViewer$1=
a};lt.Controls.ImageViewerItems._findNextItemInRow=function(a,b,c,d){for(var e=0,f=ss.IEnumerator.getEnumerator(a.get_items());f.moveNext();){var g=f.current;g.get_rowIndex()>e&&(e=g.get_rowIndex())}for(var b=d?b+1:b-1,h=f=null;b<=e&&0<=b&&null==f;){for(var i=a.get_items().get_count(),j=0;j<i&&null==f;j++)g=a.get_items().get_item(j),g.get_rowIndex()===b&&g.get_isVisible()&&g.get_isEnabled()&&(g.get_columnIndex()===c?f=g:null==h&&(h=g));null==f&&(d?b++:b--)}null==f&&null!=h&&(f=h);return f};lt.Controls.ImageViewerItems._findNextItemInColumn=
function(a,b,c,d){for(var e=0,f=ss.IEnumerator.getEnumerator(a.get_items());f.moveNext();){var g=f.current;g.get_columnIndex()>e&&(e=g.get_columnIndex())}for(var c=d?c+1:c-1,h=f=null;c<=e&&0<=c&&null==f;){for(var i=a.get_items().get_count(),j=0;j<i&&null==f;j++)g=a.get_items().get_item(j),g.get_columnIndex()===c&&g.get_isVisible()&&g.get_isEnabled()&&(g.get_rowIndex()===b?f=g:null==h&&(h=g));null==f&&(d?c++:c--)}null==f&&null!=h&&(f=h);return f};lt.Controls.ImageViewerItems._toArray=function(a){for(var b=
a.length,c=Array(a.length),d=0;d<b;d++)c[d]=a[d];return c};lt.Controls.ImageViewerItems.prototype={_imageViewer$1:null,get_imageViewer:function(){return this._imageViewer$1},insertItem:function(a,b){if(null==b)throw new lt.ArgumentNullException("item");var c=Type.safeCast(b,lt.Controls.ImageViewerItem);if(-1!==this.indexOf(c))throw new lt.ArgumentException("Item already added to this viewer","item");for(var d=this.get_count(),e=a;e<d;e++)this.get_item(e).set_leadIndex(e+1);c.set_leadIndex(a);lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(this._imageViewer$1.get_itemSize())||
c.set_size(this._imageViewer$1.get_itemSize());c.set_resizeOnTransform(this._imageViewer$1.get_resizeOnTransform());this._itemProps$1.insert(a,new lt.Controls._itemProps);this._saveCollectionChanged$1=!0;lt.Controls.ImageViewerItems.callBaseMethod(this,"insertItem",[a,c]);this._imageViewer$1.beginTransform();this._imageViewer$1._insertItem(c);this._imageViewer$1.endTransform();c.get_isSelected()&&this._imageViewer$1._internalOnSelectedItemsChanged();this._saveCollectionChanged$1=!1;lt.Controls.ImageViewerItems.callBaseMethod(this,
"onCollectionChanged",[this._saveArgs$1])},clearItems:function(){var a=!1;this._imageViewer$1._stopVirtulizer(!1);this._imageViewer$1.beginTransform();this._imageViewer$1.set_activeItem(null);for(var b=this.get_count(),c=0;c<b;c++){var d=Type.safeCast(this.get_item(c),lt.Controls.ImageViewerItem),a=d.get_isSelected();this._imageViewer$1._removeItem(d);d.set_leadIndex(-1)}this._itemProps$1.clear();this._saveCollectionChanged$1=!0;lt.Controls.ImageViewerItems.callBaseMethod(this,"clearItems");this._imageViewer$1._postRemoveItem(0);
this._imageViewer$1.endTransform();a&&this._imageViewer$1._internalOnSelectedItemsChanged();this._saveCollectionChanged$1=!1;lt.Controls.ImageViewerItems.callBaseMethod(this,"onCollectionChanged",[this._saveArgs$1])},removeItem:function(a){var b=Type.safeCast(this.get_item(a),lt.Controls.ImageViewerItem),c=b.get_isSelected();this._imageViewer$1.beginTransform();this._imageViewer$1._removeItem(b);this._saveCollectionChanged$1=!0;lt.Controls.ImageViewerItems.callBaseMethod(this,"removeItem",[a]);b.set_leadIndex(-1);
this._imageViewer$1._postRemoveItem(a);for(var b=this.get_count(),d=a;d<b;d++)this.get_item(d).set_leadIndex(d);this._itemProps$1.removeAt(a);this._imageViewer$1.endTransform();c&&this._imageViewer$1._internalOnSelectedItemsChanged();this._saveCollectionChanged$1=!1;lt.Controls.ImageViewerItems.callBaseMethod(this,"onCollectionChanged",[this._saveArgs$1])},indexOf:function(a){return null==a?-1:a.get_leadIndex()},get__props:function(){return this._itemProps$1},getSelected:function(){for(var a=[],b=
ss.IEnumerator.getEnumerator(this);b.moveNext();){var c=b.current;c.get_isSelected()&&a.add(c)}return lt.Controls.ImageViewerItems._toArray(a)},select:function(a){var b=!1;this._imageViewer$1.beginRender();for(var c=ss.IEnumerator.getEnumerator(this);c.moveNext();){var d=c.current,e=!1;if(null!=a)for(var f=ss.IEnumerator.getEnumerator(a);f.moveNext();)if(f.current===d){e=!0;d.get_isSelected()||(d._setSelected(!0),b=!0);break}!e&&d.get_isSelected()&&(d._setSelected(!1),b=!0)}this._imageViewer$1._internalEndUpdate(b);
b&&this._imageViewer$1._internalOnSelectedItemsChanged()},_saveCollectionChanged$1:!1,_saveArgs$1:null,onCollectionChanged:function(a){this._saveCollectionChanged$1?this._saveArgs$1=a:(lt.Controls.ImageViewerItems.callBaseMethod(this,"onCollectionChanged",[a]),this._saveArgs$1=null)},addFromImage:function(a,b){return this.addFromElement(a,b)},insertFromImage:function(a,b,c){return this.insertFromElement(a,b,c)},addFromElement:function(a,b){return this.insertFromElement(this.get_count(),a,b)},insertFromElement:function(a,
b,c){b=lt.Controls.ImageViewerItem.createFromElement(b,c);this.insert(a,b);return b},addFromCanvas:function(a,b){return this.addFromElement(a,b)},insertFromCanvas:function(a,b,c){return this.insertFromElement(a,b,c)},addFromUrl:function(a,b){return this.insertFromUrl(this.get_count(),a,b)},insertFromUrl:function(a,b,c){if(null==b)throw new lt.ArgumentNullException("url");lt.Controls.ControlsHelper.checkResolution(c,"resolution");var d=new lt.Controls.ImageViewerItem,e=d.get_loadUrlMode();d.set_loadUrlMode(lt.ImageLoaderUrlMode.imageUrl);
try{return this.insert(a,d),d._updateFromUrl(b,c),d}finally{d.set_loadUrlMode(e)}},addFromSvgUrl:function(a,b){return this.insertFromSvgUrl(this.get_count(),a,b)},insertFromSvgUrl:function(a,b,c){if(null==b)throw new lt.ArgumentNullException("url");lt.Controls.ControlsHelper.checkResolution(c,"resolution");var d=new lt.Controls.ImageViewerItem,e=d.get_loadUrlMode();d.set_loadUrlMode(lt.ImageLoaderUrlMode.ajaxXml);try{return this.insert(a,d),d._updateFromUrl(b,c),d}finally{d.set_loadUrlMode(e)}},updateImage:function(a,
b,c){this.updateElement(a,b,c)},updateElement:function(a,b,c){if(null==a)throw new lt.ArgumentNullException("item");lt.Controls.ControlsHelper.checkResolution(c,"resolution");this._imageViewer$1._getItemIndex(a,"item");var d=lt.Controls._elementsHelper.getSize(b,!0);a._update(b,d,c,9)},updateCanvas:function(a,b,c){this.updateElement(a,b,c)},updateUrl:function(a,b,c){lt.Controls.ControlsHelper.checkResolution(c,"resolution");if(null==a)throw new lt.ArgumentNullException("item");this._imageViewer$1._getItemIndex(a,
"item");a._updateFromUrl(b,lt.LeadSizeD.get_empty())}};Object.defineProperty(lt.Controls.ImageViewerItems.prototype,"imageViewer",{get:lt.Controls.ImageViewerItems.prototype.get_imageViewer,enumerable:!0,configurable:!0});lt.Controls.ImageViewerHorizontalViewLayout=function(){lt.Controls.ImageViewerHorizontalViewLayout.initializeBase(this)};lt.Controls.ImageViewerHorizontalViewLayout.prototype={get_name:function(){return"Horizontal"},_rows$1:1,get_rows:function(){return this._rows$1},set_rows:function(a){if(0>
a)throw new lt.ArgumentOutOfRangeException("Rows",a,"Must be a value greater than or equal to 0");return this._rows$1=a},updateTransform:function(a,b,c,d,e,f){if(null==a)throw new lt.ArgumentNullException("imageViewer");if(null==f)throw new lt.ArgumentNullException("itemBounds");for(var g=a.get_items(),h=a.get_itemMargin(),i=a.get_itemBorderThickness(),j=a.get_itemPadding(),k=a.get_itemSpacing(),n=h.get_left()+i+j.get_left(),m=h.get_top()+i+j.get_top(),s=j.get_right()+i+h.get_right(),h=j.get_bottom()+
i+h.get_bottom(),i=lt.LeadSizeD.create(n+s,m+h),j=g.get_count(),l=0,o=0,r=this.get_rows(),q=!lt.Controls.PrimitivesHelper.isEmptyOrZeroRect(e)?e.get_height():0,u=a.get_itemHorizontalAlignment(),a=a.get_itemVerticalAlignment(),w=0,A=0,x=-1,z=-1,B=0,y=0,p=!1,e=[];y<j;){var t=Type.safeCast(g.get_item(y),lt.Controls.ImageViewerItem),v=t.get_size();if(!t.get_isVisible()||lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(v)||1>v.get_width()||1>v.get_height())f[y]=lt.LeadRectD.get_empty(),t.set_rowIndex(-1),
t.set_columnIndex(-1),y++;else{p=lt.LeadSizeD.create(v.get_width()*b,v.get_height()*c);v=lt.LeadRectD.create(0,0,p.get_width(),p.get_height());t.get_resizeOnTransform()&&!t.get_transform().get_isIdentity()&&(v=t.get_transform().transformRect(v),p=v.get_size());var p=lt.LeadRectD.create(0,0,p.get_width()+i.get_width(),p.get_height()+i.get_height()),C=v=0;if(!l||!r||l<r)if(v=w,C=A,p.offset(v,C),!l||l<r||p.get_bottom()<=q){f[y]=p.clone();t.set_rowIndex(l);t.set_columnIndex(o);A=p.get_bottom()+k.get_height();
-1===x&&(x=y);z=y;B++;y++;l++;p=!0;continue}t=this.alignWidths(x,z,f,u);l=new lt.Controls._layoutRowColumnInfo(x,z,t);l.itemCount=B;e.add(l);p=!1;x=-1;B=l=0;o++;A=0;t.get_isEmpty()||(w+=t.get_width()+k.get_width())}}p&&(t=this.alignWidths(x,z,f,u),l=new lt.Controls._layoutRowColumnInfo(x,z,t),l.itemCount=B,e.add(l));b=[];for(c=ss.IEnumerator.getEnumerator(e);c.moveNext();)l=c.current,g=new lt.Controls.ImageViewerViewLayoutVector,g.set_firstItemIndex(l.firstItemIndex),g.set_lastItemIndex(l.lastItemIndex),
b.add(g);this._setVectors(b);c=!1;i=e.length;if(0<i){j=b=g=0;p=e[0].bounds;p.get_isEmpty()||(g=p.get_width(),b=p.get_height());for(o=1;o<i;o++)if(p=e[o].bounds,!p.get_isEmpty()&&(lt.LeadDoubleTools.areClose(p.get_height(),b)||(p.get_height()>b&&(b=p.get_height()),c=!0),p.get_width()>g))g=p.get_width(),j=o;d&&(d=e[j].itemCount,this.set_sizeModeWidthItemCount(d),this.set_sizeModeWidth(g-(k.get_width()*(d-1)+d*(n+s))),this.set_sizeModeHeightItemCount(1),this.set_sizeModeHeight(b-(m+h)));if(c&&a)for(k=
ss.IEnumerator.getEnumerator(e);k.moveNext();)l=k.current,this.alignColumn(l.firstItemIndex,l.lastItemIndex,f,!l.bounds.get_isEmpty()?l.bounds.get_height():b,b,a)}}};Object.defineProperty(lt.Controls.ImageViewerHorizontalViewLayout.prototype,"name",{get:lt.Controls.ImageViewerHorizontalViewLayout.prototype.get_name,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerHorizontalViewLayout.prototype,"rows",{get:lt.Controls.ImageViewerHorizontalViewLayout.prototype.get_rows,set:lt.Controls.ImageViewerHorizontalViewLayout.prototype.set_rows,
enumerable:!0,configurable:!0});lt.Controls.ImageViewerSingleViewLayout=function(){lt.Controls.ImageViewerSingleViewLayout.initializeBase(this)};lt.Controls.ImageViewerSingleViewLayout.prototype={get_name:function(){return"Single"},updateTransform:function(a,b,c,d,e,f){if(null==a)throw new lt.ArgumentNullException("imageViewer");if(null==f)throw new lt.ArgumentNullException("itemBounds");for(var e=a.get_items(),g=a.get_itemMargin(),h=a.get_itemBorderThickness(),i=a.get_itemPadding(),j=g.get_left()+
h+i.get_left(),k=g.get_top()+h+i.get_top(),n=i.get_right()+h+g.get_right(),g=i.get_bottom()+h+g.get_bottom(),h=lt.LeadSizeD.create(j+n,k+g),i=e.get_count(),m=-1,s=-1,l=0,o=null;l<i;){var r=Type.safeCast(e.get_item(l),lt.Controls.ImageViewerItem),q=r.get_size();r!==a.get_activeItem()||!r.get_isVisible()||lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(q)||1>q.get_width()||1>q.get_height()?(f[l]=lt.LeadRectD.get_empty(),r.set_rowIndex(-1),r.set_columnIndex(-1)):(m=lt.LeadSizeD.create(q.get_width()*b,
q.get_height()*c),o=lt.LeadRectD.create(0,0,m.get_width(),m.get_height()),r.get_resizeOnTransform()&&!r.get_transform().get_isIdentity()&&(o=r.get_transform().transformRect(o),m=o.get_size()),o=lt.LeadRectD.create(0,0,m.get_width()+h.get_width(),m.get_height()+h.get_height()),f[l]=o.clone(),m=o.get_width(),s=o.get_height(),r.set_rowIndex(0),r.set_columnIndex(0),o=new lt.Controls.ImageViewerViewLayoutVector,o.set_firstItemIndex(l),o.set_lastItemIndex(l));l++}d&&(this.set_sizeModeWidthItemCount(1),
this.set_sizeModeWidth(m-(j+n)),this.set_sizeModeHeightItemCount(1),this.set_sizeModeHeight(s-(k+g)));a=[];a.add(o);this._setVectors(a)}};Object.defineProperty(lt.Controls.ImageViewerSingleViewLayout.prototype,"name",{get:lt.Controls.ImageViewerSingleViewLayout.prototype.get_name,enumerable:!0,configurable:!0});lt.Controls.ImageViewerVerticalViewLayout=function(){lt.Controls.ImageViewerVerticalViewLayout.initializeBase(this)};lt.Controls.ImageViewerVerticalViewLayout.prototype={get_name:function(){return"Vertical"},
_columns$1:1,get_columns:function(){return this._columns$1},set_columns:function(a){if(0>a)throw new lt.ArgumentOutOfRangeException("Columns",a,"Must be a value greater than or equal to 0");return this._columns$1=a},updateTransform:function(a,b,c,d,e,f){if(null==a)throw new lt.ArgumentNullException("imageViewer");if(null==f)throw new lt.ArgumentNullException("itemBounds");for(var g=a.get_items(),h=a.get_itemMargin(),i=a.get_itemBorderThickness(),j=a.get_itemPadding(),k=a.get_itemSpacing(),n=h.get_left()+
i+j.get_left(),m=h.get_top()+i+j.get_top(),s=j.get_right()+i+h.get_right(),h=j.get_bottom()+i+h.get_bottom(),i=lt.LeadSizeD.create(n+s,m+h),j=g.get_count(),l=0,o=0,r=this.get_columns(),q=!lt.Controls.PrimitivesHelper.isEmptyOrZeroRect(e)?e.get_width():0,e=a.get_itemHorizontalAlignment(),u=a.get_itemVerticalAlignment(),w=0,A=0,x=-1,z=-1,B=0,y=0,p=!1,a=[];y<j;){var t=Type.safeCast(g.get_item(y),lt.Controls.ImageViewerItem),v=t.get_size();if(!t.get_isVisible()||lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(v)||
1>v.get_width()||1>v.get_height())f[y]=lt.LeadRectD.get_empty(),t.set_rowIndex(-1),t.set_columnIndex(-1),y++;else{p=lt.LeadSizeD.create(v.get_width()*b,v.get_height()*c);v=lt.LeadRectD.create(0,0,p.get_width(),p.get_height());t.get_resizeOnTransform()&&!t.get_transform().get_isIdentity()&&(v=t.get_transform().transformRect(v),p=v.get_size());var p=lt.LeadRectD.create(0,0,p.get_width()+i.get_width(),p.get_height()+i.get_height()),C=v=0;if(!l||!r||l<r)if(v=w,C=A,p.offset(v,C),!l||l<r||p.get_right()<=
q){f[y]=p.clone();t.set_rowIndex(o);t.set_columnIndex(l);w=p.get_right()+k.get_width();-1===x&&(x=y);z=y;B++;y++;l++;p=!0;continue}t=this.alignHeights(x,z,f,u);l=new lt.Controls._layoutRowColumnInfo(x,z,t);l.itemCount=B;a.add(l);p=!1;x=-1;B=l=0;o++;w=0;t.get_isEmpty()||(A+=t.get_height()+k.get_height())}}p&&(t=this.alignHeights(x,z,f,u),l=new lt.Controls._layoutRowColumnInfo(x,z,t),l.itemCount=B,a.add(l));b=[];for(c=ss.IEnumerator.getEnumerator(a);c.moveNext();)l=c.current,g=new lt.Controls.ImageViewerViewLayoutVector,
g.set_firstItemIndex(l.firstItemIndex),g.set_lastItemIndex(l.lastItemIndex),b.add(g);this._setVectors(b);c=!1;i=a.length;if(0<i){j=g=b=0;p=a[0].bounds;p.get_isEmpty()||(b=p.get_width(),g=p.get_height());for(o=1;o<i;o++)p=a[o].bounds,p.get_isEmpty()||(lt.LeadDoubleTools.areClose(p.get_width(),b)||(p.get_width()>b&&(b=p.get_width(),j=o),c=!0),p.get_height()>g&&(g=p.get_height()));d&&(d=a[j].itemCount,this.set_sizeModeWidthItemCount(d),this.set_sizeModeWidth(b-(k.get_width()*(d-1)+d*(n+s))),this.set_sizeModeHeightItemCount(1),
this.set_sizeModeHeight(g-(m+h)));if(c&&e)for(k=ss.IEnumerator.getEnumerator(a);k.moveNext();)l=k.current,this.alignRow(l.firstItemIndex,l.lastItemIndex,f,!l.bounds.get_isEmpty()?l.bounds.get_width():b,b,e)}}};Object.defineProperty(lt.Controls.ImageViewerVerticalViewLayout.prototype,"name",{get:lt.Controls.ImageViewerVerticalViewLayout.prototype.get_name,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerVerticalViewLayout.prototype,"columns",{get:lt.Controls.ImageViewerVerticalViewLayout.prototype.get_columns,
set:lt.Controls.ImageViewerVerticalViewLayout.prototype.set_columns,enumerable:!0,configurable:!0});lt.Controls.ImageViewerViewLayoutVector=function(){};lt.Controls.ImageViewerViewLayoutVector.prototype={_firstItemIndex:0,get_firstItemIndex:function(){return this._firstItemIndex},set_firstItemIndex:function(a){return this._firstItemIndex=a},_lastItemIndex:0,get_lastItemIndex:function(){return this._lastItemIndex},set_lastItemIndex:function(a){return this._lastItemIndex=a}};Object.defineProperty(lt.Controls.ImageViewerViewLayoutVector.prototype,
"firstItemIndex",{get:lt.Controls.ImageViewerViewLayoutVector.prototype.get_firstItemIndex,set:lt.Controls.ImageViewerViewLayoutVector.prototype.set_firstItemIndex,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerViewLayoutVector.prototype,"lastItemIndex",{get:lt.Controls.ImageViewerViewLayoutVector.prototype.get_lastItemIndex,set:lt.Controls.ImageViewerViewLayoutVector.prototype.set_lastItemIndex,enumerable:!0,configurable:!0});lt.Controls.ImageViewerViewLayout=function(){this._vectors=
[]};lt.Controls.ImageViewerViewLayout.prototype={toString:function(){return this.get_name()},_sizeModeWidth:0,get_sizeModeWidth:function(){return this._sizeModeWidth},set_sizeModeWidth:function(a){return this._sizeModeWidth=a},_sizeModeWidthItemCount:0,get_sizeModeWidthItemCount:function(){return this._sizeModeWidthItemCount},set_sizeModeWidthItemCount:function(a){return this._sizeModeWidthItemCount=a},_sizeModeHeight:0,get_sizeModeHeight:function(){return this._sizeModeHeight},set_sizeModeHeight:function(a){return this._sizeModeHeight=
a},_sizeModeHeightItemCount:0,get_sizeModeHeightItemCount:function(){return this._sizeModeHeightItemCount},set_sizeModeHeightItemCount:function(a){return this._sizeModeHeightItemCount=a},_vectors:null,get_vectors:function(){return this._vectors},_setVectors:function(a){this._vectors=a},alignHeights:function(a,b,c,d){if(null==c||!c.length||-1===a||-1===b)return lt.LeadRectD.get_empty();if(a===b)return c[a].clone();for(var e=-1,f=a;f<=b;f++){var g=c[f];g.get_isEmpty()||(e=Math.max(e,g.get_height()))}g=
lt.LeadRectD.get_empty();for(f=a;f<=b;f++)a=c[f],lt.LeadDoubleTools.lessThan(a.get_height(),e)&&(1===d?a.set_y(a.get_y()+(e-a.get_height())/2):2===d&&a.set_y(a.get_y()+(e-a.get_height())),c[f]=a),g=g.get_isEmpty()?a.clone():lt.LeadRectD.unionRects(g,a);return g},alignWidths:function(a,b,c,d){if(null==c||!c.length||-1===a||-1===b)return lt.LeadRectD.get_empty();if(a===b)return c[a].clone();for(var e=-1,f=a;f<=b;f++){var g=c[f];g.get_isEmpty()||(e=Math.max(e,g.get_width()))}g=lt.LeadRectD.get_empty();
for(f=a;f<=b;f++)a=c[f],lt.LeadDoubleTools.lessThan(a.get_width(),e)&&(1===d?a.set_x(a.get_x()+(e-a.get_width())/2):2===d&&a.set_x(a.get_x()+(e-a.get_width())),c[f]=a),g=g.get_isEmpty()?a.clone():lt.LeadRectD.unionRects(g,a);return g},alignRow:function(a,b,c,d,e,f){if(!(null==c||!c.length||!f||-1===a||-1===b||lt.LeadDoubleTools.areClose(d,e)))for(d=1===f?(e-d)/2:e-d;a<=b;a++)e=c[a],e.get_isEmpty()||(e.set_x(e.get_x()+d),c[a]=e)},alignColumn:function(a,b,c,d,e,f){if(!(null==c||!c.length||!f||-1===
a||-1===b||lt.LeadDoubleTools.areClose(d,e)))for(d=1===f?(e-d)/2:e-d;a<=b;a++)e=c[a],e.get_isEmpty()||(e.set_y(e.get_y()+d),c[a]=e)}};Object.defineProperty(lt.Controls.ImageViewerViewLayout.prototype,"sizeModeWidth",{get:lt.Controls.ImageViewerViewLayout.prototype.get_sizeModeWidth,set:lt.Controls.ImageViewerViewLayout.prototype.set_sizeModeWidth,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerViewLayout.prototype,"sizeModeWidthItemCount",{get:lt.Controls.ImageViewerViewLayout.prototype.get_sizeModeWidthItemCount,
set:lt.Controls.ImageViewerViewLayout.prototype.set_sizeModeWidthItemCount,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerViewLayout.prototype,"sizeModeHeight",{get:lt.Controls.ImageViewerViewLayout.prototype.get_sizeModeHeight,set:lt.Controls.ImageViewerViewLayout.prototype.set_sizeModeHeight,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerViewLayout.prototype,"sizeModeHeightItemCount",{get:lt.Controls.ImageViewerViewLayout.prototype.get_sizeModeHeightItemCount,
set:lt.Controls.ImageViewerViewLayout.prototype.set_sizeModeHeightItemCount,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerViewLayout.prototype,"vectors",{get:lt.Controls.ImageViewerViewLayout.prototype.get_vectors,enumerable:!0,configurable:!0});lt.Controls.InteractiveService=function(){this._userControls=[];this._origin=lt.LeadPointD.create(0,0);this._lastPosition=lt.LeadPointD.create(0,0);this._redundantPosition=lt.LeadPointD.create(0,0);this._dragDirection=0;this._lastTapTime=
lt.Controls.ControlsHelper.getDateTimeNow();this._dragStartOrigin=lt.LeadPointD.get_empty();this._mouseWheelThrottleTime=this._holdIntervalId=-1};lt.Controls.InteractiveService.create=function(a,b,c){if(null==b)throw new lt.ArgumentNullException("eventsSource");if(null==c)throw new lt.ArgumentNullException("eventsTarget");var d=new lt.Controls.InteractiveService;d.createControl(a,b,c);return d};lt.Controls.InteractiveService.registerGlobalModifierKeys=function(){lt.Controls._windowModifierKeyHelper.registerGlobalModifierKeys()};
lt.Controls.InteractiveService.deregisterGlobalModifierKeys=function(){lt.Controls._windowModifierKeyHelper.deregisterGlobalModifierKeys()};lt.Controls.InteractiveService.get_modifierKeys=function(){return lt.Controls._windowModifierKeyHelper.get_modifierKeys()};lt.Controls.InteractiveService._getMouseButton=function(a){switch(a){case 0:return 1;case 2:return 2;case 1:return 4;default:return 0}};lt.Controls.InteractiveService._getControlPosition=function(a,b){return lt.LTHelper.getPosition(a,b)};
lt.Controls.InteractiveService.checkKeyModifier=function(a,b){if(!b)return!1;switch(b){case 262144:return a.altKey;case 65536:return a.shiftKey;case 131072:return a.ctrlKey;case 1:return 1===lt.Controls.InteractiveService._getMouseButton(a.button);case 2:return 2===lt.Controls.InteractiveService._getMouseButton(a.button);case 4:return 4===lt.Controls.InteractiveService._getMouseButton(a.button);default:return!1}};lt.Controls.InteractiveService.prototype={_destroy:function(){this._isListening&&this.stopListening();
this._eventsTarget=this._eventsSource=this._owner=null;this._userControls.clear();this._userControls=null},createControl:function(a,b,c){this._owner=a;this._eventsSource=b;this._eventsTarget=c;this._targetOffset=lt.Controls.InteractiveService._getControlPosition(this._eventsTarget,null);this._initialize()},_owner:null,get_owner:function(){return this._owner},_eventsSource:null,get_eventsSource:function(){return this._eventsSource},_eventsTarget:null,get_eventsTarget:function(){return this._eventsTarget},
set_eventsTarget:function(a){if(null==a)throw new lt.ArgumentNullException("EventsTarget");this._eventsTarget!==a&&(this._eventsTarget=a,this._targetOffset=lt.Controls.InteractiveService._getControlPosition(this._eventsTarget,null));return a},_hitTestBuffer:0,get_hitTestBuffer:function(){return this._hitTestBuffer},set_hitTestBuffer:function(a){if(0>a)throw new lt.ArgumentOutOfRangeException("HitTestBuffer",a,"Must be a value greater than or equal to 0");return this._hitTestBuffer=a},_targetOffset:null,
get_targetOffset:function(){return this._targetOffset},_isListening:!1,get_isListening:function(){return this._isListening},startListening:function(){if(this._isListening)throw new lt.InvalidOperationException("Interactive service is already listening");this._doStartListening();this._isListening=!0},stopListening:function(){this._isListening&&(this._doStopListening(),this._isListening=!1)},_tapOnDown:!1,get_tapOnDown:function(){return this._tapOnDown},set_tapOnDown:function(a){return this._tapOnDown=
a},_enableHold:!1,get_enableHold:function(){return this._enableHold},set_enableHold:function(a){a!==this._enableHold&&(this._enableHold=a,this._doEnableHold());return a},_holdDelay:1100,get_holdDelay:function(){return this._holdDelay},set_holdDelay:function(a){if(0>a)throw new lt.ArgumentOutOfRangeException("HoldDelay",a,"Must be a value greater than or equal to 0");return this._holdDelay=a},_dragStartsOnDown:!0,get_dragStartsOnDown:function(){return this._dragStartsOnDown},set_dragStartsOnDown:function(a){return this._dragStartsOnDown=
a},_pinchStartsOnDown:!0,get_pinchStartsOnDown:function(){return this._pinchStartsOnDown},set_pinchStartsOnDown:function(a){return this._pinchStartsOnDown=a},_enableMouseWheel:!0,get_enableMouseWheel:function(){return this._enableMouseWheel},set_enableMouseWheel:function(a){return this._enableMouseWheel=a},_doubleTapDelay:500,get_doubleTapDelay:function(){return this._doubleTapDelay},set_doubleTapDelay:function(a){if(0>a)throw new lt.ArgumentOutOfRangeException("DoubleTapDelay",a,"Must be a value greater than or equal to 0");
return this._doubleTapDelay=a},_cancelOnEscape:!0,get_cancelOnEscape:function(){return this._cancelOnEscape},set_cancelOnEscape:function(a){return this._cancelOnEscape=a},add_move:function(a){this.__move=ss.Delegate.combine(this.__move,a)},remove_move:function(a){this.__move=ss.Delegate.remove(this.__move,a)},__move_handler_get:function(){null==this.__move_handler&&(this.__move_handler=ss.EventHandler.create(this,this.add_move,this.remove_move));return this.__move_handler},__move:null,__move_handler:null,
onMove:function(a){null!=this.__move&&this.__move(this,a)},add_tap:function(a){this.__tap=ss.Delegate.combine(this.__tap,a)},remove_tap:function(a){this.__tap=ss.Delegate.remove(this.__tap,a)},__tap_handler_get:function(){null==this.__tap_handler&&(this.__tap_handler=ss.EventHandler.create(this,this.add_tap,this.remove_tap));return this.__tap_handler},__tap:null,__tap_handler:null,onTap:function(a){null!=this.__tap&&this.__tap(this,a)},add_hold:function(a){this.__hold=ss.Delegate.combine(this.__hold,
a)},remove_hold:function(a){this.__hold=ss.Delegate.remove(this.__hold,a)},__hold_handler_get:function(){null==this.__hold_handler&&(this.__hold_handler=ss.EventHandler.create(this,this.add_hold,this.remove_hold));return this.__hold_handler},__hold:null,__hold_handler:null,onHold:function(a){null!=this.__hold&&this.__hold(this,a)},add_doubleTap:function(a){this.__doubleTap=ss.Delegate.combine(this.__doubleTap,a)},remove_doubleTap:function(a){this.__doubleTap=ss.Delegate.remove(this.__doubleTap,a)},
__doubleTap_handler_get:function(){null==this.__doubleTap_handler&&(this.__doubleTap_handler=ss.EventHandler.create(this,this.add_doubleTap,this.remove_doubleTap));return this.__doubleTap_handler},__doubleTap:null,__doubleTap_handler:null,onDoubleTap:function(a){null!=this.__doubleTap&&this.__doubleTap(this,a)},add_dragStarted:function(a){this.__dragStarted=ss.Delegate.combine(this.__dragStarted,a)},remove_dragStarted:function(a){this.__dragStarted=ss.Delegate.remove(this.__dragStarted,a)},__dragStarted_handler_get:function(){null==
this.__dragStarted_handler&&(this.__dragStarted_handler=ss.EventHandler.create(this,this.add_dragStarted,this.remove_dragStarted));return this.__dragStarted_handler},__dragStarted:null,__dragStarted_handler:null,onDragStarted:function(a){null!=this.__dragStarted&&this.__dragStarted(this,a)},add_dragDelta:function(a){this.__dragDelta=ss.Delegate.combine(this.__dragDelta,a)},remove_dragDelta:function(a){this.__dragDelta=ss.Delegate.remove(this.__dragDelta,a)},__dragDelta_handler_get:function(){null==
this.__dragDelta_handler&&(this.__dragDelta_handler=ss.EventHandler.create(this,this.add_dragDelta,this.remove_dragDelta));return this.__dragDelta_handler},__dragDelta:null,__dragDelta_handler:null,onDragDelta:function(a){null!=this.__dragDelta&&this.__dragDelta(this,a)},add_dragCompleted:function(a){this.__dragCompleted=ss.Delegate.combine(this.__dragCompleted,a)},remove_dragCompleted:function(a){this.__dragCompleted=ss.Delegate.remove(this.__dragCompleted,a)},__dragCompleted_handler_get:function(){null==
this.__dragCompleted_handler&&(this.__dragCompleted_handler=ss.EventHandler.create(this,this.add_dragCompleted,this.remove_dragCompleted));return this.__dragCompleted_handler},__dragCompleted:null,__dragCompleted_handler:null,onDragCompleted:function(a){null!=this.__dragCompleted&&this.__dragCompleted(this,a)},add_keyDown:function(a){this.__keyDown=ss.Delegate.combine(this.__keyDown,a)},remove_keyDown:function(a){this.__keyDown=ss.Delegate.remove(this.__keyDown,a)},__keyDown_handler_get:function(){null==
this.__keyDown_handler&&(this.__keyDown_handler=ss.EventHandler.create(this,this.add_keyDown,this.remove_keyDown));return this.__keyDown_handler},__keyDown:null,__keyDown_handler:null,onKeyDown:function(a){null!=this.__keyDown&&this.__keyDown(this,a)},add_keyUp:function(a){this.__keyUp=ss.Delegate.combine(this.__keyUp,a)},remove_keyUp:function(a){this.__keyUp=ss.Delegate.remove(this.__keyUp,a)},__keyUp_handler_get:function(){null==this.__keyUp_handler&&(this.__keyUp_handler=ss.EventHandler.create(this,
this.add_keyUp,this.remove_keyUp));return this.__keyUp_handler},__keyUp:null,__keyUp_handler:null,onKeyUp:function(a){null!=this.__keyUp&&this.__keyUp(this,a)},add_pinchStarted:function(a){this.__pinchStarted=ss.Delegate.combine(this.__pinchStarted,a)},remove_pinchStarted:function(a){this.__pinchStarted=ss.Delegate.remove(this.__pinchStarted,a)},__pinchStarted_handler_get:function(){null==this.__pinchStarted_handler&&(this.__pinchStarted_handler=ss.EventHandler.create(this,this.add_pinchStarted,this.remove_pinchStarted));
return this.__pinchStarted_handler},__pinchStarted:null,__pinchStarted_handler:null,onPinchStarted:function(a){null!=this.__pinchStarted&&this.__pinchStarted(this,a)},add_pinchDelta:function(a){this.__pinchDelta=ss.Delegate.combine(this.__pinchDelta,a)},remove_pinchDelta:function(a){this.__pinchDelta=ss.Delegate.remove(this.__pinchDelta,a)},__pinchDelta_handler_get:function(){null==this.__pinchDelta_handler&&(this.__pinchDelta_handler=ss.EventHandler.create(this,this.add_pinchDelta,this.remove_pinchDelta));
return this.__pinchDelta_handler},__pinchDelta:null,__pinchDelta_handler:null,onPinchDelta:function(a){null!=this.__pinchDelta&&this.__pinchDelta(this,a)},add_pinchCompleted:function(a){this.__pinchCompleted=ss.Delegate.combine(this.__pinchCompleted,a)},remove_pinchCompleted:function(a){this.__pinchCompleted=ss.Delegate.remove(this.__pinchCompleted,a)},__pinchCompleted_handler_get:function(){null==this.__pinchCompleted_handler&&(this.__pinchCompleted_handler=ss.EventHandler.create(this,this.add_pinchCompleted,
this.remove_pinchCompleted));return this.__pinchCompleted_handler},__pinchCompleted:null,__pinchCompleted_handler:null,onPinchCompleted:function(a){null!=this.__pinchCompleted&&this.__pinchCompleted(this,a)},_isDragging:!1,_dragStartedEventFired:!1,_dragStartTime:0,_workMouseButton:0,_isDown:!1,_dragDeltaFired:!1,_dragDirectionCalculated:!1,_fireHoldEvent:!1,_doDragStarted:function(a,b){this._isDragging=this._dragStartedEventFired=!0;this._dragStartTime=lt.Controls.ControlsHelper.getDateTimeNow();
var c=new lt.Controls.InteractiveDragStartedEventArgs;c.set_mouseButton(this._workMouseButton);c.set_nativeEvent(a);c.set_origin(this._origin);c.set_position(b);c.set_change(lt.LeadPointD.create(this._lastPosition.get_x()-b.get_x(),this._lastPosition.get_y()-b.get_y()));this.onDragStarted(c);this._dragDeltaFired=!1},_completeDrag:function(a,b){if(this._isDragging&&this._dragStartedEventFired){this._isDragging=this._dragStartedEventFired=!1;var c=lt.LeadPointD.create(this._lastPosition.get_x()-this._origin.get_x(),
this._lastPosition.get_y()-this._origin.get_y()),d=lt.Controls.ControlsHelper.getDateTimeNow(),e=Math.max(lt.Controls.ControlsHelper.getTimeSpan(d,this._dragStartTime),1),e=lt.LeadPointD.create(1E3*c.get_x()/(1+e),1E3*c.get_y()/(1+e));this._dragStartTime=d;d=new lt.Controls.InteractiveDragCompletedEventArgs;d.set_mouseButton(this._workMouseButton);d.set_nativeEvent(a);d.set_origin(this._origin);d.set_position(this._lastPosition);d.set_change(c);d.set_direction(this._dragDirection);d.set_velocity(e);
d.set_isCanceled(b);this.onDragCompleted(d);this._dragDirectionCalculated=!1;this._dragDirection=0}},_doTapDoubleTap:function(a,b){var c=new lt.Controls.InteractiveEventArgs;c.set_mouseButton(this._workMouseButton);c.set_nativeEvent(a.originalEvent);c.set_origin(a.points[0]);c.set_position(a.points[0]);var d=b;if(!d&&this.get__isManualDoubleTap()){var e=lt.Controls.ControlsHelper.getDateTimeNow();lt.Controls.ControlsHelper.getTimeSpan(e,this._lastTapTime)<=this.get_doubleTapDelay()&&(d=!0);this._lastTapTime=
e}if(d)this.onDoubleTap(c);else this.onTap(c)},_doMove:function(a){var b=new lt.Controls.InteractiveEventArgs;b.set_mouseButton(this._workMouseButton);b.set_nativeEvent(a.originalEvent);b.set_origin(a.points[0]);b.set_position(a.points[0]);this._lastTapTime=-this.get_doubleTapDelay();this.onMove(b)},_doFireHoldEvent:function(a){this._stopWorking(a,!0,!1,!0);var b=new lt.Controls.InteractiveEventArgs;b.set_mouseButton(this._workMouseButton);b.set_nativeEvent(a);b.set_origin(this._origin);b.set_position(this._origin);
this._fireHoldEvent&&(this.onHold(b),this._fireHoldEvent=!1)},_stopWorking:function(a,b,c,d){this._clearHoldInterval();c&&this._fireHoldEvent&&(this._fireHoldEvent=!1);!this._stopPinching(a,d)&&this._isDragging&&this._completeDrag(a,d);this._isDown&&!b&&(this._isDown=!1)},get_userControls:function(){return this._userControls},_msPointerEnabled:!1,_initialize:function(){if((this._msPointerEnabled=lt.LTHelper.msPointerEnabled)&&"MSGesture"in window)this._msPinchGesture=new MSGesture;lt.Controls._windowInteractiveServiceHelper.add(this);
this._processMSGestureChange_Delegate=ss.Delegate.create(this,this._processMSGestureChange);this._processMSGestureEnd_Delegate=ss.Delegate.create(this,this._processMSGestureEnd);this._processContextMenu_Delegate=ss.Delegate.create(this,this._processContextMenu);this._processDragStart_Delegate=ss.Delegate.create(this,this._processDragStart);this._processDragEnd_Delegate=ss.Delegate.create(this,this._processDragEnd)},_listenGlobal_MSPointer:!1,_listenGlobal_Touch:!1,_listenGlobal_Mouse:!1,dispose:function(){lt.Controls._windowInteractiveServiceHelper.remove(this);
this._destroy();this._processDragEnd_Delegate=this._processDragStart_Delegate=this._processContextMenu_Delegate=this._processMSGestureEnd_Delegate=this._processMSGestureChange_Delegate=null;this._listenGlobal_ProcessSelectStart=this._listenGlobal_ProcessResize=this._listenGlobal_ProcessMouseWheel=this._listenGlobal_ProcessDrag=this._listenGlobal_Mouse=this._listenGlobal_Touch=this._listenGlobal_MSPointer=!1;this._multiTouchLastPosition=this._multiTouchStartPosition=null},_msPinchGesture:null,_getMSPinchGesture:function(){if(null!=
this._msPinchGesture&&null==this._msPinchGesture.target){if(null==this._eventsTarget)return null;this._msPinchGesture.target=this._eventsTarget}return this._msPinchGesture},_listenGlobal_ProcessResize:!1,_global_ProcessResize:function(){if(this._listenGlobal_ProcessResize)this.onSizeChanged()},_window_scroll_recently:!1,_global_ProcessScroll:function(){this._window_scroll_recently=!0},_checkWindowScroll:function(){this._window_scroll_recently&&(this.onSizeChanged(),this._window_scroll_recently=!1)},
_listenGlobal_KeyDown:!1,_global_ProcessKeyDown:function(a){if(this._listenGlobal_KeyDown){this.get_cancelOnEscape()&&27===a.keyCode&&this._stopWorking(a,!1,!0,!0);var b=new lt.Controls.InteractiveKeyEventArgs;b.set_nativeEvent(a);b.set_keyCode(a.keyCode);this.onKeyDown(b)}},_keyDownManual:function(a,b){var c=new lt.Controls.InteractiveKeyEventArgs;c.set_nativeEvent(a);c.set_keyCode(b);this.onKeyDown(c)},_listenGlobal_KeyUp:!1,_global_ProcessKeyUp:function(a){if(this._listenGlobal_KeyUp){var b=new lt.Controls.InteractiveKeyEventArgs;
b.set_nativeEvent(a);b.set_keyCode(a.keyCode);this.onKeyUp(b)}},_keyUpManual:function(a,b){var c=new lt.Controls.InteractiveKeyEventArgs;c.set_nativeEvent(a);c.set_keyCode(b);this.onKeyUp(c)},_dragStartCounter:0,_enableDragStart:function(a){a?this._dragStartCounter++:0<this._dragStartCounter&&this._dragStartCounter--},_processDragStart_Delegate:null,_processDragStart:function(a){if(1>this._dragStartCounter)a.preventDefault();else{var b=new lt.Controls._serviceEventData;this._checkWindowScroll();b.fill(this,
a,this._targetOffset,this._lastPosition);if(this._isOnTarget(b))if(this._stopWorking(a,!1,!0,!0),0<=b.pointCount){b=b.points[0].clone();this._dragStartOrigin=b.clone();var c=new lt.Controls.InteractiveDragStartedEventArgs;c.set_mouseButton(1);c.set_nativeEvent(a);c.set_origin(b);c.set_position(b);c.set_change(lt.LeadPointD.create(0,0));this.onDragStarted(c);c.get_isHandled()||a.preventDefault()}else a.preventDefault();else a.preventDefault()}},_processDragEnd_Delegate:null,_processDragEnd:function(a){if(1>
this._dragStartCounter)a.preventDefault();else{var b=new lt.Controls._serviceEventData;b.fill(this,a,this._targetOffset,this._lastPosition);if(0<=b.pointCount){var b=b.points[0].clone(),c=new lt.Controls.InteractiveDragCompletedEventArgs;c.set_mouseButton(1);c.set_nativeEvent(a);c.set_origin(this._dragStartOrigin);c.set_position(b);c.set_change(lt.LeadPointD.create(0,0));c.set_direction(1);c.set_velocity(lt.LeadPointD.create(0,0));c.set_isMouseWheel(!0);this.onDragCompleted(c)}}},_contextMenuEventAttached:!1,
_preventContextMenu:!1,get_preventContextMenu:function(){return this._preventContextMenu},set_preventContextMenu:function(a){this._preventContextMenu=a;if(lt.LTHelper.device===lt.LTDevice.desktop&&this._isListening&&null!=this._eventsSource&&(this._contextMenuEventAttached&&!this._preventContextMenu&&(lt.Controls._eventHelper.removeEventListener(this._eventsSource,"contextmenu",this._processContextMenu_Delegate),this._msPointerEnabled&&lt.Controls._eventHelper.removeEventListener(this._eventsSource,
"MSGestureHold",this._processContextMenu_Delegate),this._contextMenuEventAttached=!1),!this._contextMenuEventAttached&&this._preventContextMenu))lt.Controls._eventHelper.addEventListener(this._eventsSource,"contextmenu",this._processContextMenu_Delegate),this._msPointerEnabled&&lt.Controls._eventHelper.addEventListener(this._eventsSource,"MSGestureHold",this._processContextMenu_Delegate),this._contextMenuEventAttached=!0;return a},_enableSelection:!0,get_enableSelection:function(){return this._enableSelection},
set_enableSelection:function(a){return this._enableSelection=a},_doStartListening:function(){this._listenGlobal_ProcessSelectStart=!0;null!=this._multiTouchStartPosition&&(this._multiTouchStartPosition=null);null!=this._multiTouchLastPosition&&(this._multiTouchLastPosition=null);this._msPointerEnabled&&(null!=this._msPinchGesture&&(this._msPinchGesture.target=this._eventsTarget),this._listenGlobal_MSPointer=!0,lt.Controls._eventHelper.addEventListener(this._eventsSource,"MSGestureChange",this._processMSGestureChange_Delegate),
lt.Controls._eventHelper.addEventListener(this._eventsSource,"MSGestureEnd",this._processMSGestureEnd_Delegate));lt.LTHelper.browser===lt.LTBrowser.edge&&this._msPointerEnabled&&(this._eventsSource.style.touchAction="none",this._eventsSource.style.msTouchAction="none",this._eventsSource.style["touch-action"]="none",this._eventsSource.style["-ms-touch-action"]="none");lt.LTHelper.supportsTouch&&!this._msPointerEnabled&&(this._listenGlobal_Touch=!0);lt.LTHelper.supportsMouse&&(this._msPointerEnabled||
(this._listenGlobal_Mouse=!0),this._listenGlobal_ProcessMouseWheel=this._listenGlobal_ProcessDrag=!0);if(lt.LTHelper.browser===lt.LTBrowser.firefox&&lt.LTHelper.device!==lt.LTDevice.desktop||lt.LTHelper.OS===lt.LTOS.mac)this._preventContextMenu=!0;this._preventContextMenu&&(lt.Controls._eventHelper.addEventListener(this._eventsSource,"contextmenu",this._processContextMenu_Delegate),this._msPointerEnabled&&lt.Controls._eventHelper.addEventListener(this._eventsSource,"MSGestureHold",this._processContextMenu_Delegate),
this._contextMenuEventAttached=!0);this._listenGlobal_KeyUp=this._listenGlobal_KeyDown=!0;lt.Controls._eventHelper.addEventListener(this._eventsSource,"dragstart",this._processDragStart_Delegate);lt.Controls._eventHelper.addEventListener(this._eventsSource,"dragend",this._processDragEnd_Delegate);Type.canCast(this._owner,lt.Controls.ImageViewer)||(this._listenGlobal_ProcessResize=!0)},_doStopListening:function(){-1!==this._holdIntervalId&&(clearInterval(this._holdIntervalId),this._holdIntervalId=
-1);null!=this._multiTouchStartPosition&&(this._multiTouchStartPosition=null);null!=this._multiTouchLastPosition&&(this._multiTouchLastPosition=null);this._listenGlobal_ProcessSelectStart=!1;this._msPointerEnabled&&(null!=this._msPinchGesture&&this._msPinchGesture.stop(),this._listenGlobal_MSPointer=!1,lt.Controls._eventHelper.removeEventListener(this._eventsSource,"MSGestureChange",this._processMSGestureChange_Delegate),lt.Controls._eventHelper.removeEventListener(this._eventsSource,"MSGestureEnd",
this._processMSGestureEnd_Delegate));lt.LTHelper.supportsTouch&&!this._msPointerEnabled&&(this._listenGlobal_Touch=!1);lt.LTHelper.browser===lt.LTBrowser.edge&&this._msPointerEnabled&&(this._eventsSource.style.touchAction="",this._eventsSource.style.msTouchAction="",this._eventsSource.style["touch-action"]="",this._eventsSource.style["-ms-touch-action"]="");lt.LTHelper.supportsMouse&&(this._msPointerEnabled||(this._listenGlobal_Mouse=!1),this._listenGlobal_ProcessMouseWheel=this._listenGlobal_ProcessDrag=
!1);this._contextMenuEventAttached&&(lt.Controls._eventHelper.removeEventListener(this._eventsSource,"contextmenu",this._processContextMenu_Delegate),this._msPointerEnabled&&lt.Controls._eventHelper.removeEventListener(this._eventsSource,"MSGestureHold",this._processContextMenu_Delegate),this._contextMenuEventAttached=!1);this._listenGlobal_KeyUp=this._listenGlobal_KeyDown=!1;lt.Controls._eventHelper.removeEventListener(this._eventsSource,"dragstart",this._processDragStart_Delegate);lt.Controls._eventHelper.removeEventListener(this._eventsSource,
"dragend",this._processDragEnd_Delegate);this._listenGlobal_ProcessResize=!1},onSizeChanged:function(){this._targetOffset=lt.Controls.InteractiveService._getControlPosition(this._eventsTarget,null)},_multiTouchStartPosition:null,_multiTouchLastPosition:null,_startPinchEventFired:!1,_pinchStartDistance:1,_pinchStartAngle:0,_doEnableHold:function(){},_processContextMenu_Delegate:null,_processContextMenu:function(a){if(lt.LTHelper.OS!==lt.LTOS.mac||a.ctrlKey)a.preventDefault(),a.stopImmediatePropagation()},
_listenGlobal_ProcessSelectStart:!1,_global_ProcessSelectStart:function(a){this._listenGlobal_ProcessSelectStart&&(this._enableSelection||a.preventDefault())},get__isManualDoubleTap:function(){return!0},_global_ProcessTouchStart:function(a){this._listenGlobal_Touch&&this._processDown(a)},_global_ProcessMSPointerDown:function(a){this._listenGlobal_MSPointer&&this._processDown(a)},_global_ProcessMouseDown:function(a){this._listenGlobal_Mouse&&this._processDown(a)},_processDown:function(a){var b=new lt.Controls._serviceEventData;
this._checkWindowScroll();b.fill(this,a,this._targetOffset,this._lastPosition);this._msPointerEnabled&&a.target.msSetPointerCapture&&a.target.msSetPointerCapture(a.pointerId);this._isOnTarget(b)&&(b.isTouchEvent&&(lt.LTHelper.OS===lt.LTOS.android||lt.LTHelper.browser===lt.LTBrowser.chrome)&&a.preventDefault(),this._stopWorking(a,!1,!0,!0),this._startPinchEventFired=this._dragStartedEventFired=!1,this._isDown=!0,this._enableHold&&(this._fireHoldEvent=!0),this._origin=b.points[0].clone(),this._workMouseButton=
b.mouseButton,this._holdIntervalId=setInterval(ss.Delegate.create(this,function(){if(this._holdIntervalId!==-1){clearInterval(this._holdIntervalId);this._holdIntervalId=-1}this._fireHoldEvent&&this._doFireHoldEvent(a)}),this.get_holdDelay()),b.isTouchEvent&&1<b.pointCount?(this._multiTouchStartPosition=b.points.clone(),this._multiTouchLastPosition=this._multiTouchStartPosition.clone(),this._pinchStartsOnDown&&this._doPinchStart(a,this._multiTouchStartPosition)):(this._lastPosition=b.points[0],this._dragStartsOnDown&&
(this._doDragStarted(a,this._lastPosition),this._dragDeltaFired=!1)),this._tapOnDown&&this._doTapDoubleTap(b,!1),lt.LTHelper.OS===lt.LTOS.iOS&&lt.LTHelper.browser===lt.LTBrowser.safari&&"touchstart"===a.type&&1===b.pointCount&&a.preventDefault())},_global_ProcessTouchMove:function(a){this._listenGlobal_Touch&&this._processMove(a)},_global_ProcessMSPointerMove:function(a){this._listenGlobal_MSPointer&&this._processMove(a)},_global_ProcessMouseMove:function(a){this._listenGlobal_Mouse&&this._processMove(a)},
_listenGlobal_ProcessDrag:!1,_global_ProcessDrag:function(a){this._listenGlobal_ProcessDrag&&this._processMove(a)},_processMove:function(a){var b=new lt.Controls._serviceEventData;b.fill(this,a,this._targetOffset,this._lastPosition);var c="drag"===a.type,d=this._isOnTarget(b);if(!c||d)b.isTouchEvent&&d&&!(1===b.pointCount&&"touchmove"===a.type&&lt.LTHelper.browser===lt.LTBrowser.chrome)&&a.preventDefault(),c=b.points[0].clone(),1===b.pointCount&&(!(this._lastPosition.get_x()-c.get_x())&&!(this._lastPosition.get_y()-
c.get_y())||(this._redundantPosition.get_x()||this._redundantPosition.get_y())&&c.get_x()===this._redundantPosition.get_x()&&c.get_y()===this._redundantPosition.get_y())||(this._fireHoldEvent=!1,1<b.pointCount?(this._multiTouchLastPosition=b.points.clone(),!this._pinchStartsOnDown&&!this._startPinchEventFired?(this._startPinchEventFired=!0,this._multiTouchStartPosition=this._multiTouchLastPosition.clone(),this._doPinchStart(a,this._multiTouchStartPosition)):null!=this._multiTouchStartPosition&&(d=
new lt.Controls.InteractivePinchDeltaEventArgs,d.set_mouseButton(this._workMouseButton),d.set_nativeEvent(a),this._calculatePinchDelta(d,this._multiTouchStartPosition[0],this._multiTouchStartPosition[1],this._multiTouchLastPosition[0],this._multiTouchLastPosition[1]),this.onPinchDelta(d))):!this._dragStartsOnDown&&!this._dragStartedEventFired&&this._isDown?(this._dragStartedEventFired=!0,this._doDragStarted(a,c),this._dragDeltaFired=!1):this._isDragging&&(d=new lt.Controls.InteractiveDragDeltaEventArgs,
d.set_mouseButton(this._workMouseButton),d.set_nativeEvent(a),d.set_origin(this._origin),d.set_position(c),d.set_change(lt.LeadPointD.create(this._lastPosition.get_x()-c.get_x(),this._lastPosition.get_y()-c.get_y())),this._dragDirectionCalculated||(this._dragDirectionCalculated=!0,this._dragDirection=Math.abs(d.get_change().get_x())>Math.abs(d.get_change().get_y())?0:1),d.set_direction(this._dragDirection),this.onDragDelta(d),this._dragDeltaFired=!0,this._redundantPosition=this._lastPosition.clone(),
this._lastPosition=c.clone()),this._doMove(b))},_global_ProcessTouchEndCancel:function(a){this._listenGlobal_Touch&&this._processUp(a)},_global_ProcessMSPointerUpCancel:function(a){this._listenGlobal_MSPointer&&this._processUp(a)},_global_ProcessMouseUp:function(a){this._listenGlobal_Mouse&&this._processUp(a)},_processUp:function(a){this._msPointerEnabled&&a.target.msReleasePointerCapture&&a.target.msReleasePointerCapture(a.pointerId);if(Type.canCast(this._owner,lt.Controls.ImageViewer)){var b=new lt.Controls._serviceEventData;
b.fill(this,a,this._targetOffset,this._lastPosition);this._isOnTarget(b)&&a.preventDefault();var c=new lt.Controls.InteractiveEventArgs;c.set_mouseButton(this._workMouseButton);c.set_nativeEvent(b.originalEvent);c.set_origin(b.points[0]);c.set_position(b.points[0]);this._internalOnUp(c)}b=!this._tapOnDown&&this._isDragging&&!this._dragDeltaFired;this._stopWorking(a,!1,!0,!1);b&&(b=new lt.Controls._serviceEventData,b.fill(this,a,this._targetOffset,this._lastPosition),this._isOnTarget(b)&&(a.preventDefault(),
this._doTapDoubleTap(b,!1)))},add__up:function(a){this.__up=ss.Delegate.combine(this.__up,a)},remove__up:function(a){this.__up=ss.Delegate.remove(this.__up,a)},__up_handler_get:function(){null==this.__up_handler&&(this.__up_handler=ss.EventHandler.create(this,this.add__up,this.remove__up));return this.__up_handler},__up:null,_internalOnUp:function(a){null!=this.__up&&this.__up(this,a)},_calculatePinchStarted:function(a,b,c,d,e){a.set_origin(b);a.set_origin2(c);a.set_position(d);a.set_position2(e);
b=a.get_origin().get_x()-a.get_origin2().get_x();c=a.get_origin().get_y()-a.get_origin2().get_y();this._pinchStartDistance=Math.sqrt(Math.pow(b,2)+Math.pow(c,2));a.set_distance(this._pinchStartDistance);this._pinchStartAngle=180*Math.atan(c/b)/Math.PI;a.set_angle(this._pinchStartAngle)},_calculatePinchDelta:function(a,b,c,d,e){a.set_origin(b);a.set_origin2(c);a.set_position(d);a.set_position2(e);b=a.get_position().get_x()-a.get_position2().get_x();c=a.get_position().get_y()-a.get_position2().get_y();
d=Math.sqrt(Math.pow(b,2)+Math.pow(c,2));this._pinchStartDistance?a.set_distanceRatio(d/this._pinchStartDistance):a.set_distanceRatio(1);b=180*Math.atan(c/b)/Math.PI;a.set_totalAngleDelta(b-this._pinchStartAngle)},_calculatePinchCompleted:function(a,b,c,d,e){a.set_origin(b);a.set_origin2(c);a.set_position(d);a.set_position2(e);b=a.get_position().get_x()-a.get_position2().get_x();c=a.get_position().get_y()-a.get_position2().get_y();d=Math.sqrt(Math.pow(b,2)+Math.pow(c,2));this._pinchStartDistance?
a.set_distanceRatio(d/this._pinchStartDistance):a.set_distanceRatio(1);b=180*Math.atan(c/b)/Math.PI;a.set_totalAngleDelta(b-this._pinchStartAngle)},_processMSGestureChange_Delegate:null,_processMSGestureChange:function(a){if(1!==a.scale){this._completeDrag(a,!0);var b=lt.LeadPointD.create(a.offsetX,a.offsetY);if(!this._startPinchEventFired){this._startPinchEventFired=!0;var c=new lt.Controls.InteractivePinchStartedEventArgs;c.set_mouseButton(this._workMouseButton);c.set_nativeEvent(a);c.set_origin(b);
c.set_origin2(b);c.set_position(b);c.set_position2(b);c.set_angle(0);c.set_distance(0);this.onPinchStarted(c)}c=new lt.Controls.InteractivePinchDeltaEventArgs;c.set_origin(b);c.set_origin2(b);c.set_position(b);c.set_position2(b);c.set_distanceRatio(a.scale);c.set_mouseButton(this._workMouseButton);c.set_nativeEvent(a);this.onPinchDelta(c)}},_processMSGestureEnd_Delegate:null,_processMSGestureEnd:function(a){if(this._startPinchEventFired){var b=new lt.Controls.InteractivePinchCompletedEventArgs,c=
lt.LeadPointD.create(a.offsetX,a.offsetY);b.set_origin(c);b.set_origin2(c);b.set_position(c);b.set_position2(c);b.set_distanceRatio(a.scale);b.set_mouseButton(this._workMouseButton);b.set_nativeEvent(a);this.onPinchCompleted(b)}this._startPinchEventFired=!1;null!=this._msPinchGesture&&this._msPinchGesture.stop()},_mouseWheelThrottleMS:20,_listenGlobal_ProcessMouseWheel:!1,_global_ProcessMouseWheel:function(a){if(this._listenGlobal_ProcessMouseWheel&&this._enableMouseWheel){this._stopWorking(a,!1,
!0,!0);var b=new lt.Controls._serviceEventData;b.fill(this,a,this._targetOffset,this._lastPosition);if(this._isOnTarget(b)){var c=0;if(a.ctrlKey&&-1!==this._mouseWheelThrottleTime&&Date.get_now().getTime()-this._mouseWheelThrottleTime<this._mouseWheelThrottleMS)a.preventDefault();else{this._mouseWheelThrottleTime=Date.get_now().getTime();var d=0;void 0!==a.wheelDeltaY?(d=a.wheelDeltaY,c=d/120):void 0!==a.wheelDelta?(d=a.wheelDelta,c=d/120):void 0!==a.detail&&(c=-a.detail/3);c&&(c*=30,0<c?c=(30+c)/
2:0>c&&(c=(c-30)/2));if(void 0!==a.deltaY){var e=-a.deltaY;Math.abs(e)<=Math.abs(d)/3+1&&(c=e)}c=parseInt(c);d=!1;if(c){b=b.points[0];d=new lt.Controls.InteractiveDragStartedEventArgs;d.set_mouseButton(1);d.set_nativeEvent(a);d.set_origin(b);d.set_position(b);d.set_change(lt.LeadPointD.create(0,0));d.set_isMouseWheel(!0);this.onDragStarted(d);var d=d.get_isHandled(),e=lt.LeadPointD.create(0,c),f=lt.LeadPointD.create(b.get_x(),b.get_y()+c),g=new lt.Controls.InteractiveDragDeltaEventArgs;g.set_mouseButton(1);
g.set_nativeEvent(a);g.set_origin(b);g.set_position(f);g.set_change(e);g.set_direction(1);g.set_isMouseWheel(!0);this.onDragDelta(g);d=d||g.get_isHandled();g=new lt.Controls.InteractiveDragCompletedEventArgs;g.set_mouseButton(1);g.set_nativeEvent(a);g.set_origin(b);g.set_position(f);g.set_change(e);g.set_direction(1);g.set_velocity(lt.LeadPointD.create(0,1));g.set_isMouseWheel(!0);this.onDragCompleted(g);d=d||g.get_isHandled()}a.preventDefault();a.returnValue=!1;!d&&Type.canCast(this._owner,lt.Controls.ImageViewer)&&
this._owner._doMouseWheel(c)}}}},_doPinchStart:function(a,b){this._startPinchEventFired=!0;var c=new lt.Controls.InteractivePinchStartedEventArgs;c.set_mouseButton(this._workMouseButton);c.set_nativeEvent(a);this._calculatePinchStarted(c,this._multiTouchStartPosition[0],this._multiTouchStartPosition[1],b[0],b[1]);this.onPinchStarted(c)},_isOnTarget:function(a){for(var b=ss.IEnumerator.getEnumerator(this._userControls);b.moveNext();)if(a.originalEvent.target===b.current)return!0;return null!=a.originalEvent.target&&
a.originalEvent.target===this._eventsTarget||a.originalEvent.target===this._eventsSource&&null!=this._eventsTarget&&(b=lt.LeadRectD.create(0,0,this._eventsTarget.clientWidth,this._eventsTarget.clientHeight),b.inflate(this._hitTestBuffer,this._hitTestBuffer),b.contains(a.points[0].get_x(),a.points[0].get_y()))?!0:!1},_clearHoldInterval:function(){-1!==this._holdIntervalId&&(clearInterval(this._holdIntervalId),this._holdIntervalId=-1)},_stopPinching:function(a,b){return this._startPinchEventFired&&
a.type!==lt.Controls._msEventsHelper.pointerup&&a.type!==lt.Controls._msEventsHelper.pointerdown?(this._completePinch(a,b),!0):!1},_completePinch:function(a,b){var c=new lt.Controls._serviceEventData;c.fill(this,a,this._targetOffset,this._lastPosition);this._startPinchEventFired=!1;if(0<c.pointCount){var d=new lt.Controls.InteractivePinchCompletedEventArgs;d.set_mouseButton(this._workMouseButton);d.set_nativeEvent(a);this._calculatePinchCompleted(d,this._multiTouchStartPosition[0],this._multiTouchStartPosition[1],
c.points[0],c.points[1]);d.set_isCanceled(b);this.onPinchCompleted(d)}else d=new lt.Controls.InteractivePinchCompletedEventArgs,d.set_mouseButton(this._workMouseButton),d.set_nativeEvent(a),this._calculatePinchCompleted(d,this._multiTouchStartPosition[0],this._multiTouchStartPosition[1],this._multiTouchLastPosition[0],this._multiTouchLastPosition[1]),this.onPinchCompleted(d),lt.LeadPointD.equals(this._multiTouchLastPosition[0],c.points[0])},get_supportsMouse:function(){return lt.LTHelper.supportsMouse}};
Object.defineProperty(lt.Controls.InteractiveService.prototype,"owner",{get:lt.Controls.InteractiveService.prototype.get_owner,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"eventsSource",{get:lt.Controls.InteractiveService.prototype.get_eventsSource,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"eventsTarget",{get:lt.Controls.InteractiveService.prototype.get_eventsTarget,set:lt.Controls.InteractiveService.prototype.set_eventsTarget,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"hitTestBuffer",{get:lt.Controls.InteractiveService.prototype.get_hitTestBuffer,set:lt.Controls.InteractiveService.prototype.set_hitTestBuffer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"targetOffset",{get:lt.Controls.InteractiveService.prototype.get_targetOffset,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,
"isListening",{get:lt.Controls.InteractiveService.prototype.get_isListening,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"tapOnDown",{get:lt.Controls.InteractiveService.prototype.get_tapOnDown,set:lt.Controls.InteractiveService.prototype.set_tapOnDown,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"enableHold",{get:lt.Controls.InteractiveService.prototype.get_enableHold,set:lt.Controls.InteractiveService.prototype.set_enableHold,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"holdDelay",{get:lt.Controls.InteractiveService.prototype.get_holdDelay,set:lt.Controls.InteractiveService.prototype.set_holdDelay,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"dragStartsOnDown",{get:lt.Controls.InteractiveService.prototype.get_dragStartsOnDown,set:lt.Controls.InteractiveService.prototype.set_dragStartsOnDown,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Controls.InteractiveService.prototype,"pinchStartsOnDown",{get:lt.Controls.InteractiveService.prototype.get_pinchStartsOnDown,set:lt.Controls.InteractiveService.prototype.set_pinchStartsOnDown,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"enableMouseWheel",{get:lt.Controls.InteractiveService.prototype.get_enableMouseWheel,set:lt.Controls.InteractiveService.prototype.set_enableMouseWheel,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,
"doubleTapDelay",{get:lt.Controls.InteractiveService.prototype.get_doubleTapDelay,set:lt.Controls.InteractiveService.prototype.set_doubleTapDelay,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"cancelOnEscape",{get:lt.Controls.InteractiveService.prototype.get_cancelOnEscape,set:lt.Controls.InteractiveService.prototype.set_cancelOnEscape,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"move",{get:lt.Controls.InteractiveService.prototype.__move_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"tap",{get:lt.Controls.InteractiveService.prototype.__tap_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"hold",{get:lt.Controls.InteractiveService.prototype.__hold_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"doubleTap",{get:lt.Controls.InteractiveService.prototype.__doubleTap_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"dragStarted",{get:lt.Controls.InteractiveService.prototype.__dragStarted_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"dragDelta",{get:lt.Controls.InteractiveService.prototype.__dragDelta_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"dragCompleted",{get:lt.Controls.InteractiveService.prototype.__dragCompleted_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"keyDown",{get:lt.Controls.InteractiveService.prototype.__keyDown_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"keyUp",{get:lt.Controls.InteractiveService.prototype.__keyUp_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"pinchStarted",{get:lt.Controls.InteractiveService.prototype.__pinchStarted_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"pinchDelta",{get:lt.Controls.InteractiveService.prototype.__pinchDelta_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"pinchCompleted",{get:lt.Controls.InteractiveService.prototype.__pinchCompleted_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService,"modifierKeys",{get:lt.Controls.InteractiveService.get_modifierKeys,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"userControls",{get:lt.Controls.InteractiveService.prototype.get_userControls,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"preventContextMenu",{get:lt.Controls.InteractiveService.prototype.get_preventContextMenu,set:lt.Controls.InteractiveService.prototype.set_preventContextMenu,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,
"enableSelection",{get:lt.Controls.InteractiveService.prototype.get_enableSelection,set:lt.Controls.InteractiveService.prototype.set_enableSelection,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"supportsMouse",{get:lt.Controls.InteractiveService.prototype.get_supportsMouse,enumerable:!0,configurable:!0});lt.Controls.InteractiveEventArgs=function(){lt.Controls.InteractiveEventArgs.initializeBase(this)};lt.Controls.InteractiveEventArgs.prototype={_mouseButton$1:0,
get_mouseButton:function(){return this._mouseButton$1},set_mouseButton:function(a){return this._mouseButton$1=a},_nativeEvent$1:null,get_nativeEvent:function(){return this._nativeEvent$1},set_nativeEvent:function(a){return this._nativeEvent$1=a},_origin$1:null,get_origin:function(){return this._origin$1.clone()},set_origin:function(a){this._origin$1=lt.Controls.PrimitivesHelper.cloneOrZeroPoint(a);return a},_position$1:null,get_position:function(){return this._position$1.clone()},set_position:function(a){this._position$1=
lt.Controls.PrimitivesHelper.cloneOrZeroPoint(a);return a},_isHandled$1:!1,get_isHandled:function(){return this._isHandled$1},set_isHandled:function(a){return this._isHandled$1=a}};Object.defineProperty(lt.Controls.InteractiveEventArgs.prototype,"mouseButton",{get:lt.Controls.InteractiveEventArgs.prototype.get_mouseButton,set:lt.Controls.InteractiveEventArgs.prototype.set_mouseButton,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveEventArgs.prototype,"nativeEvent",{get:lt.Controls.InteractiveEventArgs.prototype.get_nativeEvent,
set:lt.Controls.InteractiveEventArgs.prototype.set_nativeEvent,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveEventArgs.prototype,"origin",{get:lt.Controls.InteractiveEventArgs.prototype.get_origin,set:lt.Controls.InteractiveEventArgs.prototype.set_origin,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveEventArgs.prototype,"position",{get:lt.Controls.InteractiveEventArgs.prototype.get_position,set:lt.Controls.InteractiveEventArgs.prototype.set_position,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveEventArgs.prototype,"isHandled",{get:lt.Controls.InteractiveEventArgs.prototype.get_isHandled,set:lt.Controls.InteractiveEventArgs.prototype.set_isHandled,enumerable:!0,configurable:!0});lt.Controls.InteractiveDragStartedEventArgs=function(){lt.Controls.InteractiveDragStartedEventArgs.initializeBase(this)};lt.Controls.InteractiveDragStartedEventArgs.prototype={_change$2:null,get_change:function(){return this._change$2.clone()},
set_change:function(a){this._change$2=lt.Controls.PrimitivesHelper.cloneOrZeroPoint(a);return a},_isMouseWheel$2:!1,get_isMouseWheel:function(){return this._isMouseWheel$2},set_isMouseWheel:function(a){return this._isMouseWheel$2=a}};Object.defineProperty(lt.Controls.InteractiveDragStartedEventArgs.prototype,"change",{get:lt.Controls.InteractiveDragStartedEventArgs.prototype.get_change,set:lt.Controls.InteractiveDragStartedEventArgs.prototype.set_change,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveDragStartedEventArgs.prototype,
"isMouseWheel",{get:lt.Controls.InteractiveDragStartedEventArgs.prototype.get_isMouseWheel,set:lt.Controls.InteractiveDragStartedEventArgs.prototype.set_isMouseWheel,enumerable:!0,configurable:!0});lt.Controls.InteractiveDragDeltaEventArgs=function(){lt.Controls.InteractiveDragDeltaEventArgs.initializeBase(this)};lt.Controls.InteractiveDragDeltaEventArgs.prototype={_direction$2:0,get_direction:function(){return this._direction$2},set_direction:function(a){return this._direction$2=a},_change$2:null,
get_change:function(){return this._change$2.clone()},set_change:function(a){this._change$2=lt.Controls.PrimitivesHelper.cloneOrZeroPoint(a);return a},_isMouseWheel$2:!1,get_isMouseWheel:function(){return this._isMouseWheel$2},set_isMouseWheel:function(a){return this._isMouseWheel$2=a}};Object.defineProperty(lt.Controls.InteractiveDragDeltaEventArgs.prototype,"direction",{get:lt.Controls.InteractiveDragDeltaEventArgs.prototype.get_direction,set:lt.Controls.InteractiveDragDeltaEventArgs.prototype.set_direction,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveDragDeltaEventArgs.prototype,"change",{get:lt.Controls.InteractiveDragDeltaEventArgs.prototype.get_change,set:lt.Controls.InteractiveDragDeltaEventArgs.prototype.set_change,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveDragDeltaEventArgs.prototype,"isMouseWheel",{get:lt.Controls.InteractiveDragDeltaEventArgs.prototype.get_isMouseWheel,set:lt.Controls.InteractiveDragDeltaEventArgs.prototype.set_isMouseWheel,
enumerable:!0,configurable:!0});lt.Controls.InteractiveDragCompletedEventArgs=function(){lt.Controls.InteractiveDragCompletedEventArgs.initializeBase(this)};lt.Controls.InteractiveDragCompletedEventArgs.prototype={_direction$2:0,get_direction:function(){return this._direction$2},set_direction:function(a){return this._direction$2=a},_change$2:null,get_change:function(){return this._change$2.clone()},set_change:function(a){this._change$2=lt.Controls.PrimitivesHelper.cloneOrZeroPoint(a);return a},_velocity$2:null,
get_velocity:function(){return this._velocity$2.clone()},set_velocity:function(a){this._velocity$2=lt.Controls.PrimitivesHelper.cloneOrZeroPoint(a);return a},_isMouseWheel$2:!1,get_isMouseWheel:function(){return this._isMouseWheel$2},set_isMouseWheel:function(a){return this._isMouseWheel$2=a},_isCanceled$2:!1,get_isCanceled:function(){return this._isCanceled$2},set_isCanceled:function(a){return this._isCanceled$2=a}};Object.defineProperty(lt.Controls.InteractiveDragCompletedEventArgs.prototype,"direction",
{get:lt.Controls.InteractiveDragCompletedEventArgs.prototype.get_direction,set:lt.Controls.InteractiveDragCompletedEventArgs.prototype.set_direction,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveDragCompletedEventArgs.prototype,"change",{get:lt.Controls.InteractiveDragCompletedEventArgs.prototype.get_change,set:lt.Controls.InteractiveDragCompletedEventArgs.prototype.set_change,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveDragCompletedEventArgs.prototype,
"velocity",{get:lt.Controls.InteractiveDragCompletedEventArgs.prototype.get_velocity,set:lt.Controls.InteractiveDragCompletedEventArgs.prototype.set_velocity,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveDragCompletedEventArgs.prototype,"isMouseWheel",{get:lt.Controls.InteractiveDragCompletedEventArgs.prototype.get_isMouseWheel,set:lt.Controls.InteractiveDragCompletedEventArgs.prototype.set_isMouseWheel,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveDragCompletedEventArgs.prototype,
"isCanceled",{get:lt.Controls.InteractiveDragCompletedEventArgs.prototype.get_isCanceled,set:lt.Controls.InteractiveDragCompletedEventArgs.prototype.set_isCanceled,enumerable:!0,configurable:!0});lt.Controls.InteractiveKeyEventArgs=function(){lt.Controls.InteractiveKeyEventArgs.initializeBase(this)};lt.Controls.InteractiveKeyEventArgs.prototype={_nativeEvent$1:null,get_nativeEvent:function(){return this._nativeEvent$1},set_nativeEvent:function(a){return this._nativeEvent$1=a},_keyCode$1:0,get_keyCode:function(){return this._keyCode$1},
set_keyCode:function(a){return this._keyCode$1=a},_isHandled$1:!1,get_isHandled:function(){return this._isHandled$1},set_isHandled:function(a){return this._isHandled$1=a}};Object.defineProperty(lt.Controls.InteractiveKeyEventArgs.prototype,"nativeEvent",{get:lt.Controls.InteractiveKeyEventArgs.prototype.get_nativeEvent,set:lt.Controls.InteractiveKeyEventArgs.prototype.set_nativeEvent,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveKeyEventArgs.prototype,"keyCode",{get:lt.Controls.InteractiveKeyEventArgs.prototype.get_keyCode,
set:lt.Controls.InteractiveKeyEventArgs.prototype.set_keyCode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveKeyEventArgs.prototype,"isHandled",{get:lt.Controls.InteractiveKeyEventArgs.prototype.get_isHandled,set:lt.Controls.InteractiveKeyEventArgs.prototype.set_isHandled,enumerable:!0,configurable:!0});lt.Controls.InteractiveMultiTouchEventArgs=function(){lt.Controls.InteractiveMultiTouchEventArgs.initializeBase(this)};lt.Controls.InteractiveMultiTouchEventArgs.prototype=
{_origin2$2:null,get_origin2:function(){return this._origin2$2.clone()},set_origin2:function(a){this._origin2$2=lt.Controls.PrimitivesHelper.cloneOrZeroPoint(a);return a},_position2$2:null,get_position2:function(){return this._position2$2.clone()},set_position2:function(a){this._position2$2=lt.Controls.PrimitivesHelper.cloneOrZeroPoint(a);return a}};Object.defineProperty(lt.Controls.InteractiveMultiTouchEventArgs.prototype,"origin2",{get:lt.Controls.InteractiveMultiTouchEventArgs.prototype.get_origin2,
set:lt.Controls.InteractiveMultiTouchEventArgs.prototype.set_origin2,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveMultiTouchEventArgs.prototype,"position2",{get:lt.Controls.InteractiveMultiTouchEventArgs.prototype.get_position2,set:lt.Controls.InteractiveMultiTouchEventArgs.prototype.set_position2,enumerable:!0,configurable:!0});lt.Controls.InteractivePinchStartedEventArgs=function(){lt.Controls.InteractivePinchStartedEventArgs.initializeBase(this)};lt.Controls.InteractivePinchStartedEventArgs.prototype=
{_angle$3:0,get_angle:function(){return this._angle$3},set_angle:function(a){return this._angle$3=a},_distance$3:0,get_distance:function(){return this._distance$3},set_distance:function(a){return this._distance$3=a}};Object.defineProperty(lt.Controls.InteractivePinchStartedEventArgs.prototype,"angle",{get:lt.Controls.InteractivePinchStartedEventArgs.prototype.get_angle,set:lt.Controls.InteractivePinchStartedEventArgs.prototype.set_angle,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractivePinchStartedEventArgs.prototype,
"distance",{get:lt.Controls.InteractivePinchStartedEventArgs.prototype.get_distance,set:lt.Controls.InteractivePinchStartedEventArgs.prototype.set_distance,enumerable:!0,configurable:!0});lt.Controls.InteractivePinchDeltaEventArgs=function(){lt.Controls.InteractivePinchDeltaEventArgs.initializeBase(this)};lt.Controls.InteractivePinchDeltaEventArgs.prototype={_distanceRatio$3:0,get_distanceRatio:function(){return this._distanceRatio$3},set_distanceRatio:function(a){return this._distanceRatio$3=a},
_totalAngleDelta$3:0,get_totalAngleDelta:function(){return this._totalAngleDelta$3},set_totalAngleDelta:function(a){return this._totalAngleDelta$3=a}};Object.defineProperty(lt.Controls.InteractivePinchDeltaEventArgs.prototype,"distanceRatio",{get:lt.Controls.InteractivePinchDeltaEventArgs.prototype.get_distanceRatio,set:lt.Controls.InteractivePinchDeltaEventArgs.prototype.set_distanceRatio,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractivePinchDeltaEventArgs.prototype,"totalAngleDelta",
{get:lt.Controls.InteractivePinchDeltaEventArgs.prototype.get_totalAngleDelta,set:lt.Controls.InteractivePinchDeltaEventArgs.prototype.set_totalAngleDelta,enumerable:!0,configurable:!0});lt.Controls.InteractivePinchCompletedEventArgs=function(){lt.Controls.InteractivePinchCompletedEventArgs.initializeBase(this)};lt.Controls.InteractivePinchCompletedEventArgs.prototype={_isCanceled$4:!1,get_isCanceled:function(){return this._isCanceled$4},set_isCanceled:function(a){return this._isCanceled$4=a}};Object.defineProperty(lt.Controls.InteractivePinchCompletedEventArgs.prototype,
"isCanceled",{get:lt.Controls.InteractivePinchCompletedEventArgs.prototype.get_isCanceled,set:lt.Controls.InteractivePinchCompletedEventArgs.prototype.set_isCanceled,enumerable:!0,configurable:!0});lt.Controls.PaddingHelper=function(){};lt.Controls.PaddingHelper.create=function(a,b,c,d){return lt.Controls.ControlPadding.create(a,b,c,d)};lt.Controls.PaddingHelper.isNotEqual=function(a,b){return a.get_left()!==b.get_left()||a.get_top()!==b.get_top()||a.get_right()!==b.get_right()||a.get_bottom()!==
b.get_bottom()};lt.Controls.PaddingHelper.addToRectD=function(a,b){if(!b.get_all())return a.clone();var c=a.get_isEmpty()?lt.LeadRectD.create(0,0,0,0):a.clone();return lt.LeadRectD.fromLTRB(c.get_left()-b.get_left(),c.get_top()-b.get_top(),c.get_right()+b.get_right(),c.get_bottom()+b.get_bottom())};lt.Controls.PaddingHelper.removeFromRectD=function(a,b){if(!b.get_all())return a.clone();var c=a.get_isEmpty()?lt.LeadRectD.create(0,0,0,0):a.clone(),d=c.get_left()+b.get_left(),e=c.get_top()+b.get_top(),
f=c.get_right()-b.get_right(),c=c.get_bottom()-b.get_bottom();return f<d||c<e?lt.LeadRectD.get_empty():lt.LeadRectD.fromLTRB(d,e,f,c)};lt.Controls._imageViewerSyncGroup=function(){};lt.Controls._imageViewerSyncGroup.prototype={viewers:null,counter:0};lt.Controls.ImageViewerSyncManager=function(){};lt.Controls.ImageViewerSyncManager.beginSync=function(a){if(-1===a)return null;a=lt.Controls.ImageViewerSyncManager._syncGroups[a];if(null==a)return null;a.counter++;return 1===a.counter?a.viewers:null};
lt.Controls.ImageViewerSyncManager.isSyncing=function(a){if(-1===a)return!1;a=lt.Controls.ImageViewerSyncManager._syncGroups[a];return null==a?!1:0<a.counter};lt.Controls.ImageViewerSyncManager.endSync=function(a){if(-1!==a&&(a=lt.Controls.ImageViewerSyncManager._syncGroups[a],null!=a)){if(!a.counter)throw new lt.InvalidOperationException("'EndSync' called without a matching 'BeginSync'");a.counter--}};lt.Controls.ImageViewerSyncManager.sync=function(a){for(var b=lt.Controls.ImageViewerSyncManager._globalSyncId,
c=!0,d=!1,e=[],f=ss.IEnumerator.getEnumerator(a);f.moveNext();)if(a=f.current,null!=a)if(e.add(a),a=a._syncId,-1===a)d=!0,b!==lt.Controls.ImageViewerSyncManager._globalSyncId&&(c=!1);else{if(d||b!==lt.Controls.ImageViewerSyncManager._globalSyncId&&b!==a)c=!1;b=Math.min(b,a)}if(!(2>e.length||!d&&c))if(d&&b===lt.Controls.ImageViewerSyncManager._globalSyncId){for(b=0;b<e.length;b++)a=e[b],a._syncId=lt.Controls.ImageViewerSyncManager._globalSyncId,a._syncIndex=b;b=new lt.Controls._imageViewerSyncGroup;
b.viewers=e;lt.Controls.ImageViewerSyncManager._syncGroups[lt.Controls.ImageViewerSyncManager._globalSyncId]=b;lt.Controls.ImageViewerSyncManager._globalSyncId++}else{c=lt.Controls.ImageViewerSyncManager._syncGroups[b].viewers;d=c.length;for(e=ss.IEnumerator.getEnumerator(e);e.moveNext();)if(a=e.current,f=a._syncId,f!==b)if(f=lt.Controls.ImageViewerSyncManager.unsyncGroup(f),null!=f)for(f=ss.IEnumerator.getEnumerator(f);f.moveNext();)a._syncId=b,a._syncIndex=d,c.add(a),d++;else a._syncId=b,a._syncIndex=
d,c.add(a),d++}};lt.Controls.ImageViewerSyncManager.getSynced=function(a){if(-1===a)return null;a=lt.Controls.ImageViewerSyncManager._syncGroups[a];return null==a?null:a.viewers};lt.Controls.ImageViewerSyncManager.unsync=function(a){if(null!=a){var b=a._syncId;if(-1!==b){var c=lt.Controls.ImageViewerSyncManager._syncGroups[b];if(null!=c){c=c.viewers;if(null!=c){for(var d=a._syncIndex+1;d<c.length;d++)c[d]._syncIndex--;c.removeAt(a._syncIndex);2>c.length&&(1===c.length&&(c[0]._syncId=-1,c[0]._syncIndex=
-1),lt.Controls.ImageViewerSyncManager._syncGroups[b]=null,b===lt.Controls.ImageViewerSyncManager._globalSyncId-1&&lt.Controls.ImageViewerSyncManager._globalSyncId--)}a._syncId=-1;a._syncIndex=-1}}}};lt.Controls.ImageViewerSyncManager.unsyncGroup=function(a){if(-1===a)return null;var b=lt.Controls.ImageViewerSyncManager._syncGroups[a];if(null==b)return null;b=b.viewers;if(null!=b){for(var c=ss.IEnumerator.getEnumerator(b);c.moveNext();){var d=c.current;d._syncId=-1;d._syncIndex=-1}lt.Controls.ImageViewerSyncManager._syncGroups[a]=
null;a===lt.Controls.ImageViewerSyncManager._globalSyncId-1&&lt.Controls.ImageViewerSyncManager._globalSyncId--;return b}return null};lt.Controls._itemProps=function(){this.viewBounds=lt.LeadRectD.get_empty();this.viewContentBounds=lt.LeadRectD.get_empty();this.bounds=lt.LeadRectD.get_empty();this.itemElementOffset=lt.LeadPointD.get_empty();this.removedItemOffset=lt.LeadPointD.get_empty();this.contentBounds=lt.LeadRectD.get_empty();this.textAreaBounds=lt.LeadRectD.get_empty();this.textBounds=lt.LeadRectD.get_empty();
this.imageTransform=lt.LeadMatrix.get_identity();this.imageTransformFloatingPoint=lt.LeadMatrix.get_identity();this.imageTransformNoDpi=lt.LeadMatrix.get_identity();this.floaterTransform=lt.LeadMatrix.get_identity()};lt.Controls._itemProps.prototype={propsChanged:!1,stillHidden:!1,removedImageUrl:null,removedBackImageUrl:null,region:null,floaterRegion:null,interpolator:null};lt.Controls._layoutRowColumnInfo=function(a,b,c){this.firstItemIndex=a;this.lastItemIndex=b;this.bounds=c.clone()};lt.Controls._layoutRowColumnInfo.prototype=
{firstItemIndex:0,lastItemIndex:0,itemCount:0,bounds:null};lt.Controls._serviceEventData=function(){this.points=Array(2);this.points[0]=lt.LeadPointD.create(0,0);this.points[1]=lt.LeadPointD.create(0,0)};lt.Controls._serviceEventData.prototype={originalEvent:null,pointCount:0,mouseButton:0,isTouchEvent:!1,fill:function(a,b,c,d){this.originalEvent=b;this.pointCount=0;this.points[0].set_x(0);this.points[0].set_y(0);var e=0,f=0;if(b.type===lt.Controls._msEventsHelper.pointerdown||b.type===lt.Controls._msEventsHelper.pointermove||
b.type===lt.Controls._msEventsHelper.pointerup||b.type===lt.Controls._msEventsHelper.pointercancel){this.isTouchEvent=!0;var d=null,g="getPointerList"in b;g?(d=b.getPointerList(b.pointerId),e=d.length,1<e&&(this.isTouchEvent=!0)):e=1;this.pointCount=Math.min(2,e);for(var h=0;h<this.pointCount;h++)g?(e=d[h].clientX,f=d[h].clientY):(e=b.pageX,f=b.pageY),this.points[h].set_x(parseInt(e-c.get_x()+0.5)),this.points[h].set_y(parseInt(f-c.get_y()+0.5));b.type===lt.Controls._msEventsHelper.pointerdown&&(a=
a._getMSPinchGesture(),null!=a&&(void 0!=b.pointer?a.addPointer(b.pointer.id):void 0!=b.pointerId&&a.addPointer(b.pointerId)),this.mouseButton=lt.Controls.InteractiveService._getMouseButton(b.button),"preventMouseEvent"in b&&b.preventMouseEvent(),"preventManipulation"in b&&b.preventManipulation());this.mouseButton=1}else if(!("MSGestureChange"===b.type||"MSGestureEnd"===b.type))if("touchstart"===b.type||"touchmove"===b.type||"touchend"===b.type||"touchcancel"===b.type){this.isTouchEvent=!0;if(!("touches"in
b))throw Error("Unknown touch device");e=b.touches.length;if(this.pointCount=lt.LTHelper.supportsMultiTouch?Math.min(2,e):Math.min(1,e))for(h=0;h<this.pointCount;h++)e=b.touches[h].pageX,f=b.touches[h].pageY,this.points[h].set_x(parseInt(e-c.get_x()+0.5)),this.points[h].set_y(parseInt(f-c.get_y()+0.5));else this.pointCount=1,this.points[0].set_x(parseInt(d.get_x()+0.5)),this.points[0].set_y(parseInt(d.get_y()+0.5));this.mouseButton=1}else this.isTouchEvent=!1,e=b.pageX,f=b.pageY,this.pointCount=1,
this.points[0].set_x(parseInt(e-c.get_x()+0.5)),this.points[0].set_y(parseInt(f-c.get_y()+0.5)),this.mouseButton="mousedown"===b.type||"click"===b.type||"dblclick"===b.type?lt.Controls.InteractiveService._getMouseButton(b.button):0}};lt.Controls._msEventsHelper=function(){};lt.Controls._dragDropData=function(){};lt.Controls._dragDropData.prototype={effect:null,format:null};lt.Controls._dragDropHelper=function(){};lt.Controls._dragDropHelper.getDragData=function(){var a=new lt.Controls._dragDropData;
a.effect="copy";a.format="text";return a};lt.Controls._textSizeHelper=function(){this._init()};lt.Controls._textSizeHelper.get_instance=function(){return lt.Controls._textSizeHelper._instance};lt.Controls._textSizeHelper.prototype={_init:function(){this._canvas=document.createElement("canvas");this._canvas.width=400;this._canvas.height=400},_canvas:null,start:function(){return null==this._canvas?null:this._canvas.getContext("2d")},stop:function(){},measureHeight:function(a,b){if(null==a||null==b)return 0;
var c=parseInt(a.measureText("gM").width)+1;a.font=b;a.textBaseline="top";a.fillStyle="#000000";a.fillText("gM",0,0);var d=0,e=0;if(0<c){for(var f=a.getImageData(0,0,c,200),g=200,h=0;!e&&0<g;){g--;for(h=0;h<c;h++)if(f.data[4*g*c+4*h+3]){e=g;break}}for(g=0;200>g&&!d;){g++;for(h=0;h<c;h++)if(f.data[4*g*c+4*h+3]){d=g;break}}}return Math.max(0,e+d)},getSize:function(a,b,c,d,e){if(null==a||null==c)return lt.LeadSizeD.create(0,0);a.save();a.font=c;b=lt.LeadSizeD.create(a.measureText(b).width,d);a.restore();
return!e.get_isEmpty()?(a=lt.LeadRectD.create(e.get_x(),e.get_y(),b.get_width(),b.get_height()),a=lt.LeadRectD.intersectRects(a,e),a.get_isEmpty()?lt.LeadSizeD.create(0,0):a.get_size()):b}};lt.Controls.GraphicsHelper=function(){};lt.Controls.GraphicsHelper.getCornerPoints=function(a,b,c,d){a=lt.Controls.PrimitivesHelper.getCornerPoints(a);if(b.get_left()||b.get_top()||b.get_right()||b.get_bottom())for(var e=c.get_width(),c=c.get_height(),b=[lt.LeadPointD.create(-b.get_left()/e,-b.get_top()/c),lt.LeadPointD.create(b.get_right()/
e,-b.get_top()/c),lt.LeadPointD.create(b.get_right()/e,b.get_bottom()/c),lt.LeadPointD.create(-b.get_left()/e,b.get_bottom()/c)],c=0;c<a.length;c++)a[c]=lt.LeadPointD.create(a[c].get_x()+b[c].get_x(),a[c].get_y()+b[c].get_y());d.transformPoints(a);return a};lt.Controls.GraphicsHelper.colorFromString=function(a){return a};lt.Controls.GraphicsHelper.areEqualColors=function(a,b){return a.toLowerCase()===b.toLowerCase()};lt.Controls.GraphicsHelper.isTransparentColor=function(a){return String.isNullOrEmpty(a)||
!String.compare(a,"transparent",!0)};lt.Controls.GraphicsHelper.saveContext=function(a){a.save();return 1};lt.Controls.GraphicsHelper.restoreContext=function(a,b){null!=b&&a.restore()};lt.Controls.GraphicsHelper.multiplyTransform=function(a,b){var c=lt.LeadMatrix.create(b.get_m11(),b.get_m12(),b.get_m21(),b.get_m22(),b.get_offsetX(),b.get_offsetY());a.transform(c.get_m11(),c.get_m12(),c.get_m21(),c.get_m22(),c.get_offsetX(),c.get_offsetY())};lt.Controls.GraphicsHelper.intersectClip=function(a,b){b.get_isEmpty()||
(a.beginPath(),a.rect(b.get_x(),b.get_y(),b.get_width(),b.get_height()),a.clip())};lt.Controls.GraphicsHelper.renderExcludeClip=function(a,b,c,d){if(!b.get_isEmpty()&&!c.get_isEmpty()){null==lt.Controls.GraphicsHelper._maskCanvas&&(lt.Controls.GraphicsHelper._maskCanvas=document.createElement("canvas"));lt.Controls.GraphicsHelper._maskCanvas.width=Math.ceil(b.get_width());lt.Controls.GraphicsHelper._maskCanvas.height=Math.ceil(b.get_height());var e=lt.Controls.GraphicsHelper._maskCanvas.getContext("2d");
e.clearRect(0,0,b.get_width(),b.get_height());e.fillStyle=d;e.fillRect(0,0,b.get_width(),b.get_height());e.save();e.beginPath();e.rect(c.get_x()-b.get_x(),c.get_y()-b.get_y(),c.get_width(),c.get_height());e.clip();e.closePath();e.fillStyle="transparent";e.globalCompositeOperation="copy";e.rect(c.get_x()-b.get_x(),c.get_y()-b.get_y(),c.get_width(),c.get_height());e.fill();e.globalCompositeOperation="source-over";e.restore();a.save();a.beginPath();a.rect(b.get_x(),b.get_y(),b.get_width(),b.get_height());
a.clip();a.closePath();a.drawImage(lt.Controls.GraphicsHelper._maskCanvas,b.get_x(),b.get_y());a.restore();lt.Controls.GraphicsHelper._maskCanvas.width=0;lt.Controls.GraphicsHelper._maskCanvas.height=0}};lt.Controls.GraphicsHelper.getScaleFactor=function(){return lt.LeadSizeD.create(1,1)};lt.Controls.GraphicsHelper.renderBorder=function(a,b,c,d,e,f,g){if(!(0>=c||lt.Controls.GraphicsHelper.isTransparentColor(d)||e.get_isEmpty()||1>e.get_width()||1>e.get_height())&&lt.Controls.ControlsHelper.isRightAngle(g))1!==
b&&(c=Math.min(1,c*b),c=lt.Controls.PrimitivesHelper.toInt(c)),e=lt.Controls.GraphicsHelper.getCornerPoints(e,f,lt.LeadSizeD.create(1,1),g),e=lt.Controls.PrimitivesHelper.getBoundingRect(e),a.strokeStyle=d,a.lineWidth=c,d=Math.floor(c/2),e.inflate(d,d),a.strokeRect(e.get_x(),e.get_y(),e.get_width(),e.get_height())};lt.Controls.GraphicsHelper.renderShadow=function(a,b,c,d,e,f,g){if(!d.get_isEmpty()&&!(1>d.get_width()||1>d.get_height()||!c.get_isVisible()||!c.get_offsetX()&&!c.get_offsetY()||lt.Controls.GraphicsHelper.isTransparentColor(c.get_color()))&&
lt.Controls.ControlsHelper.isRightAngle(f))if(d=lt.Controls.GraphicsHelper.getCornerPoints(d,e,lt.LeadSizeD.create(1,1),f),d=lt.Controls.PrimitivesHelper.getBoundingRect(d),!d.get_isEmpty()&&!(1>d.get_width()||1>d.get_height())){e=Math.abs(c.get_offsetX());f=Math.abs(c.get_offsetY());5*e>d.get_width()&&(e=Math.max(0,e/5)+0.5);5*f>d.get_height()&&(f=Math.max(0,f/5)+0.5);0>e&&(e*=-1);0>f&&(f*=-1);var h=c.get_blur();1!==b&&(h=Math.max(0,lt.Controls.PrimitivesHelper.toInt(b*h)));a.save();a.shadowColor=
c.get_color();a.shadowBlur=h;a.shadowOffsetX=e;a.shadowOffsetY=f;a.fillStyle=c.get_color();a.fillRect(d.get_x(),d.get_y(),d.get_width(),d.get_height());a.restore();lt.Controls.GraphicsHelper.isTransparentColor(g)?a.clearRect(d.get_x(),d.get_y(),d.get_width(),d.get_height()):(a.fillStyle=g,a.fillRect(d.get_x(),d.get_y(),d.get_width(),d.get_height()))}};lt.Controls.GraphicsHelper.fillBackground=function(a,b,c,d){if(!c.get_isEmpty()&&!(1>c.get_width()||1>c.get_height()||lt.Controls.GraphicsHelper.isTransparentColor(b))){var e=
null;d.get_isIdentity()||(e=lt.Controls.GraphicsHelper.saveContext(a),lt.Controls.GraphicsHelper.multiplyTransform(a,d));d=a.fillStyle;a.fillStyle=b;a.fillRect(c.get_x(),c.get_y(),c.get_width(),c.get_height());a.fillStyle=d;null!=e&&lt.Controls.GraphicsHelper.restoreContext(a,e)}};lt.Controls.GraphicsHelper.clearBackground=function(a,b,c){if(!b.get_isEmpty()&&!(1>b.get_width()||1>b.get_height())){var d=null;c.get_isIdentity()?(d=lt.Controls.GraphicsHelper.saveContext(a),a.setTransform(1,0,0,1,0,0)):
(d=lt.Controls.GraphicsHelper.saveContext(a),lt.Controls.GraphicsHelper.multiplyTransform(a,c));a.clearRect(b.get_x(),b.get_y(),b.get_width(),b.get_height());null!=d&&lt.Controls.GraphicsHelper.restoreContext(a,d)}};lt.Controls.GraphicsHelper.renderText=function(a,b,c,d,e,f,g,h,i){if(!g.get_isEmpty()&&!(1>g.get_width()||1>g.get_height()||null==b||null==c||lt.Controls.GraphicsHelper.isTransparentColor(d)))a.save(),a.beginPath(),h.get_isEmpty()||lt.Controls.GraphicsHelper.intersectClip(a,h),lt.Controls.GraphicsHelper.multiplyTransform(a,
i),a.font=c,a.textBaseline="top",a.fillStyle=d,a.fillText(b,g.get_x(),g.get_y()),a.restore()};lt.Controls.GraphicsHelper.addRoundRect=function(a,b,c,d){if(1>c||1>d)return a.rect(b.get_x(),b.get_y(),b.get_width(),b.get_height()),!0;var e=b.get_x(),f=b.get_y(),g=b.get_width(),b=b.get_height();a.moveTo(e+c,f);a.lineTo(e+g-c,f);a.quadraticCurveTo(e+g,f,e+g,f+d);a.lineTo(e+g,f+b-d);a.quadraticCurveTo(e+g,f+b,e+g-c,f+b);a.lineTo(e+c,f+b);a.quadraticCurveTo(e,f+b,e,f+b-d);a.lineTo(e,f+d);a.quadraticCurveTo(e,
f,e+c,f);return!0};lt.Controls.GraphicsHelper.addEllipse=function(a,b){var c=b.get_x(),d=b.get_width(),e=b.get_y(),f=b.get_height(),g=0.5522848*(d/2),h=0.5522848*(f/2),i=c+d,j=e+f,d=c+d/2,f=e+f/2;a.moveTo(c,f);a.bezierCurveTo(c,f-h,d-g,e,d,e);a.bezierCurveTo(d+g,e,i,f-h,i,f);a.bezierCurveTo(i,f+h,d+g,j,d,j);a.bezierCurveTo(d-g,j,c,f+h,c,f)};lt.Controls.GraphicsHelper.getNativeContext=function(a){return a.get_context()};lt.Controls._imageViewerCommonClasses=function(){};lt.Controls._elementsHelper=
function(){};lt.Controls._elementsHelper.isImgElement=function(a){return null!=a&&a instanceof HTMLImageElement};lt.Controls._elementsHelper.isCanvasElement=function(a){return null!=a&&a instanceof HTMLCanvasElement};lt.Controls._elementsHelper.isSvgElement=function(a){return null!=a&&a instanceof SVGElement};lt.Controls._elementsHelper.isElement=function(a){return null!=a&&a instanceof Element};lt.Controls._elementsHelper.isHTMLElement=function(a){return null!=a&&a instanceof HTMLElement};lt.Controls._elementsHelper.isNonImgAndNonSvgElement=
function(a){return lt.Controls._elementsHelper.isElement(a)&&!lt.Controls._elementsHelper.isImgElement(a)&&!lt.Controls._elementsHelper.isSvgElement(a)};lt.Controls._elementsHelper.repaint=function(a){return a.offsetHeight};lt.Controls._elementsHelper.getElementComputedStyles=function(a){return window.getComputedStyle(a)};lt.Controls._elementsHelper.getElementCSSString=function(a,b){return a[b].toString()};lt.Controls._elementsHelper.getElementCSSInt=function(a,b){var c=lt.Controls._elementsHelper.getElementCSSString(a,
b),c=parseInt(c,10);return isNaN(c)?0:c};lt.Controls._elementsHelper.getElementCSSArrayInt=function(a,b,c){for(var d=["Top","Right","Bottom","Left"],e=Array(4),f=0;4>f;f++)e[f]=lt.Controls._elementsHelper.getElementCSSInt(a,b+d[f]+c);return e};lt.Controls._elementsHelper.getSize=function(a){var b=-1,c=-1;if(lt.Controls._elementsHelper.isHTMLElement(a)){if(lt.Controls._elementsHelper.isImgElement(a)&&a.naturalWidth&&a.naturalHeight)return lt.LeadSizeD.create(a.naturalWidth,a.naturalHeight);var d=document.createElement("span");
d.style.visibility="hidden";d.style.display="inline-block";d.style.position="absolute";d.appendChild(a);document.body.appendChild(d);var e=!1,b=a.style.boxSizing;String.isNullOrWhiteSpace(b)&&(b=lt.Controls._elementsHelper.getElementComputedStyles(a).boxSizing,!String.isNullOrWhiteSpace(b)&&"content-box"!==b&&(e=!0,a.style.boxSizing="content-box"));c=lt.Controls._elementsHelper.getElementComputedStyles(d);b=parseInt(c.width,10);c=parseInt(c.height,10);document.body.removeChild(d);d.removeChild(a);
e&&(a.style.boxSizing="")}else lt.Controls._elementsHelper.isSvgElement(a)&&(b=parseInt(a.getAttribute("width")),c=parseInt(a.getAttribute("height")));return 0>b||0>c?lt.LeadSizeD.get_empty():lt.LeadSizeD.create(b,c)};lt.Controls._elementsHelper.createElementsModePrefixClasses=function(a,b){var c=document.createElement("style");c.type="text/css";c.id=b;var d,e="",f;d={position:"absolute","box-sizing":"content-box",visibility:"visible"};var g=[a.get_viewElementClass(),a.get_itemElementClass(),a.get_itemImageElementClass(),
a.get_itemBackImageElementClass(),a.get_itemImageClippingElementClass(),a.get_itemImageFlipElementClass(),a.get_itemImageBorderElementClass(),a.get_itemTextElementClass()];f="";for(var h=0;h<g.length-1;h++)f+=String.format(".{0}, ",g[h]);f+=String.format(".{0}",g[h]);e+=lt.Controls._elementsHelper._createClassText(f,d);d={"-ms-transform-origin":"0 0","-webkit-transform-origin":"0 0","transform-origin":"0 0"};f=String.format(".{0}, .{1}, .{2}",a.get_viewElementClass(),a.get_itemElementClass(),a.get_itemImageClippingElementClass());
e+=lt.Controls._elementsHelper._createClassText(f,d);d={"-ms-transform-origin":"50% 50%","-webkit-transform-origin":"50% 50%","transform-origin":"50% 50%"};f=String.format(".{0}, .{1}, .{2}",a.get_itemImageElementClass(),a.get_itemBackImageElementClass(),a.get_itemImageFlipElementClass(),a.get_itemImageBorderElementClass());e+=lt.Controls._elementsHelper._createClassText(f,d);d={left:"0px",top:"0px",overflow:"hidden"};f=String.format(".{0}",a.get_viewElementClass());e+=lt.Controls._elementsHelper._createClassText(f,
d);d={"white-space":"nowrap"};f=String.format(".{0}",a.get_itemImageFlipElementClass());e+=lt.Controls._elementsHelper._createClassText(f,d);d={position:"relative"};f=String.format(".{0} > *",a.get_itemImageElementClass());e+=lt.Controls._elementsHelper._createClassText(f,d);c.innerHTML=e;document.getElementsByTagName("head")[0].appendChild(c)};lt.Controls._elementsHelper.createElementsModeCommonClasses=function(a){var b=document.createElement("style");b.type="text/css";b.id=a;var c="",d,a={"-webkit-transition":"none !important",
transition:"none !important"};d=String.format(".{0}, .{0} *","lt_no_transition");c+=lt.Controls._elementsHelper._createClassText(d,a);a={"-ms-transition":"none !important","-webkit-transition":"none !important",transition:"none !important"};d=String.format(".{0}, .{0} *","lt_item_no_transition");c+=lt.Controls._elementsHelper._createClassText(d,a);b.innerHTML=c;document.getElementsByTagName("head")[0].appendChild(b)};lt.Controls._elementsHelper.createNamespaceClasses=function(a,b){var c=document.createElement("style");
c.type="text/css";c.id=b;var d,e="",f="";d={position:"relative"};f=String.format(".{0}",a);e+=lt.Controls._elementsHelper._createClassText(f,d);d={margin:"0px",position:"relative","z-index":"inherit","vertical-align":"inherit"};f=String.format(".{0}-{1}",a,"autoscroll");e+=lt.Controls._elementsHelper._createClassText(f,d);d={width:"100%",height:"100%",padding:"0px",position:"absolute"};f=String.format(".{0}-{1}",a,"main");e+=lt.Controls._elementsHelper._createClassText(f,d);d={left:"0",top:"0",position:"absolute"};
f=String.format(".{0}-{1}",a,"forecanvas");e+=lt.Controls._elementsHelper._createClassText(f,d);d={visibility:"hidden"};f=String.format(".{0}-{1}",a,"images");e+=lt.Controls._elementsHelper._createClassText(f,d);d={left:"0",top:"0",position:"absolute",overflow:"hidden"};f=String.format(".{0}-{1}",a,"viewholder");e+=lt.Controls._elementsHelper._createClassText(f,d);d={left:"0",top:"0",position:"absolute"};f=String.format(".{0}-{1}",a,"eventcanvas");e+=lt.Controls._elementsHelper._createClassText(f,
d);d={position:"relative",height:"100%",overflow:"hidden","pointer-events":"none"};f=String.format(".{0}-{1}",a,"passthrough");e+=lt.Controls._elementsHelper._createClassText(f,d);d={"pointer-events":"none"};f=String.format(".{0} .{1}-{2}","lt_pointer_events",a,"forecanvas");e+=lt.Controls._elementsHelper._createClassText(f,d);c.innerHTML=e;document.getElementsByTagName("head")[0].appendChild(c)};lt.Controls._elementsHelper.createCommonClasses=function(a){var b=document.createElement("style");b.type=
"text/css";b.id=a;var c="",d,a={overflow:"hidden"};d=String.format(".{0}","lt_no_overflow");c+=lt.Controls._elementsHelper._createClassText(d,a);a={display:"none"};d=String.format(".{0}","lt_no_display");c+=lt.Controls._elementsHelper._createClassText(d,a);b.innerHTML="\n"+c;document.getElementsByTagName("head")[0].appendChild(b)};lt.Controls._elementsHelper._createClassText=function(a,b){var c="",d;for(d in b)c+=String.format("   {0}: {1};\n",d,b[d]);return String.format("{0} {\n{1}}\n",a,c)};lt.Controls.ControlsHelper=
function(){};lt.Controls.ControlsHelper.checkIfNull=function(a,b){if(null==a)throw new lt.ArgumentNullException(b);};lt.Controls.ControlsHelper.isTranslateOnly=function(a){return lt.LeadDoubleTools.areClose(a.get_m11(),1)&&lt.LeadDoubleTools.areClose(a.get_m12(),0)&&lt.LeadDoubleTools.areClose(a.get_m21(),0)&&lt.LeadDoubleTools.areClose(a.get_m22(),1)};lt.Controls.ControlsHelper.isRightAngle=function(a){var b=Math.abs(a.get_m11()),c=Math.abs(a.get_m12()),d=Math.abs(a.get_m21()),a=Math.abs(a.get_m22()),
e=!lt.LeadDoubleTools.areClose(b,0)&&!lt.LeadDoubleTools.areClose(a,0)&&lt.LeadDoubleTools.areClose(c,0)&&lt.LeadDoubleTools.areClose(d,0);e||(e=lt.LeadDoubleTools.areClose(b,0)&&lt.LeadDoubleTools.areClose(a,0)&&!lt.LeadDoubleTools.areClose(c,0)&&!lt.LeadDoubleTools.areClose(d,0));return e};lt.Controls.ControlsHelper.getDateTimeNow=function(){return Date.get_now().getTime()};lt.Controls.ControlsHelper.getTimeSpan=function(a,b){return a-b};lt.Controls.ControlsHelper._isUpper=function(a,b){return"A"<=
a[b]&&"Z">=a[b]};lt.Controls.ControlsHelper.getPropertyName=function(a){if(String.isNullOrEmpty(a))return a;if("ID"===a)return"id";for(var b=!1,c=0,d=0;d<a.length;d++)if(lt.Controls.ControlsHelper._isUpper(a,d))c++;else{b=!0;break}return!b&&1!==a.length||!c?a:1<c?a.substring(0,c-1).toLowerCase()+a.substring(c-1):1===a.length?a.toLowerCase():a.substring(0,1).toLowerCase()+a.substring(1)};lt.Controls.ControlsHelper.checkResolution=function(a,b){lt.Controls.ControlsHelper.checkIfNull(a,b);if(!a.get_isEmpty()&&
(0>a.get_width()||0>a.get_height()))throw new lt.ArgumentOutOfRangeException(b,a,"Must have a width and height values greater than or equal to 0");};lt.Controls._imageProcessingHelper=function(){};lt.Controls._imageProcessingHelper.get_canInvert=function(){return null!=lt.Controls.ImageViewer.get_imageProcessingLibrariesPath()};lt.Controls._imageProcessingHelper.invert=function(a){if(null==a)return!1;var b=a.get_canvas();if(null==b)return!1;for(var c=a=null,d=null,c=b.getContext("2d"),a=c.getImageData(0,
0,b.width,b.height),d=a.data,b=d.length,e=0;e<b;)d[e]=lt.Controls._imageProcessingHelper._invertMap[d[e++]],d[e]=lt.Controls._imageProcessingHelper._invertMap[d[e++]],d[e]=lt.Controls._imageProcessingHelper._invertMap[d[e++]],e++;c.putImageData(a,0,0);return!0};lt.Controls._interpolatorRenderData=function(){this._srcRect=lt.LeadRectD.create(0,0,0,0);this._dstRect=lt.LeadRectD.create(0,0,0,0);this._transform=lt.LeadMatrix.get_identity()};lt.Controls._interpolatorRenderData.prototype={get_srcRect:function(){return this._srcRect.clone()},
set_srcRect:function(a){this._srcRect=a.clone();return a},get_dstRect:function(){return this._dstRect.clone()},set_dstRect:function(a){this._dstRect=a.clone();return a},get_transform:function(){return this._transform.clone()},set_transform:function(a){this._transform=a.clone();return a},updateTransform:function(a){this._transform=a.clone();if(this._transform.get_isIdentity())this._dstRect=this._srcRect;else{var a=this._transform.get_m11(),b=this._transform.get_m12(),c=this._transform.get_m21(),d=
this._transform.get_m22(),e=this._transform.get_offsetX(),f=this._transform.get_offsetY(),g=Math.sqrt(a*a+b*b),h=Math.sqrt(c*c+d*d);this._dstRect=lt.LeadRectD.create(parseInt(this._srcRect.get_x()*g+0.5),parseInt(this._srcRect.get_y()*h+0.5),parseInt(this._srcRect.get_width()*g+0.5),parseInt(this._srcRect.get_height()*h+0.5));this._transform=lt.LeadMatrix.create(a/g,b/g,c/h,d/h,e,f)}}};lt.Controls._wholeNumberQueueData=function(){this.previous=this.next=-1};lt.Controls._wholeNumberQueue=function(){this._tail=
this._head=-1;this._map=[]};lt.Controls._wholeNumberQueue.prototype={_map:null,_length:0,get_length:function(){return this._length},remove:function(a){var b=this._map[a];if(null==b)return this._length;var c=this._map[b.next],d=this._map[b.previous];this._head===a?this._head=b.next:d.next=b.next;this._tail===a?this._tail=b.previous:c.previous=b.previous;this._map[a]=null;this._length--;return this._length},enqueue:function(a){if(0>a)throw new lt.InvalidOperationException("Can only queue whole numbers");
this.remove(a);var b=new lt.Controls._wholeNumberQueueData;b.previous=this._tail;var c=this._map[this._tail];null!=c?c.next=a:this._head=a;this._tail=a;this._map[a]=b;this._length++;return this._length},dequeue:function(){var a=this._head;this.remove(this._head);return a}};lt.Controls._interpolatorManager=function(a){this._lastQueued=-1;this._imageViewer=a;this._runMode=0;this._updateRunMode()};lt.Controls._interpolatorManager.prototype={_imageViewer:null,_runMode:0,get_runMode:function(){return this._runMode},
set_runMode:function(a){this._runMode!==a&&(this._runMode=a,this._updateRunMode());return a},_interpolatorQueue:null,_currentItemIndex:0,_updateRunMode:function(){this._runMode?this._interpolatorQueue=null:(this._interpolatorQueue=new lt.Controls._wholeNumberQueue,this._currentItemIndex=-1)},register:function(a){if(this._runMode||this._currentItemIndex===a)return!0;if(-1===this._currentItemIndex)return this._currentItemIndex=a,!0;a!==this._lastQueued&&(this._lastQueued=a,this._interpolatorQueue.enqueue(a));
return!1},release:function(a){this._runMode||null==this._imageViewer||((a===this._lastQueued&&(this._lastQueued=-1),a===this._currentItemIndex)?(this._currentItemIndex=this._interpolatorQueue.dequeue(),-1!==this._currentItemIndex&&(a=this._imageViewer.get_items().get__props()[this._currentItemIndex],null!=a.interpolator&&a.interpolator.start())):this._interpolatorQueue.remove(a))}};lt.Controls._canvasManager=function(){};lt.Controls._canvasManager.createSourceData=function(a,b,c){if(b.get_isEmpty()||
null==a)return null;var d=b.get_width(),b=b.get_height(),e=1;if(0<c&&(d>c||b>c))e=d>b?c/d:c/b,d=lt.Controls.PrimitivesHelper.toInt(d*e),b=lt.Controls.PrimitivesHelper.toInt(b*e);lt.Controls._canvasManager._canvas.width=parseInt(d);lt.Controls._canvasManager._canvas.height=parseInt(b);if((e=lt.LTHelper.ensureUsableCanvas(lt.Controls._canvasManager._canvas))&&1!==e)d*=e,b*=e;c=lt.Controls._canvasManager._canvas.getContext("2d");e=null;try{c.drawImage(a,0,0,d,b),e=c.getImageData(0,0,d,b)}catch(f){return null}return e};
lt.Controls._canvasManager.createDestinationData=function(a){var b=lt.Controls.PrimitivesHelper.toInt(a.get_width()),a=lt.Controls.PrimitivesHelper.toInt(a.get_height());if(b!==lt.Controls._canvasManager._canvas.width||a!==lt.Controls._canvasManager._canvas.height)lt.Controls._canvasManager._canvas.width=b,lt.Controls._canvasManager._canvas.height=a;return lt.Controls._canvasManager._canvas.getContext("2d").createImageData(b,a)};lt.Controls._canvasManager.drawResult=function(a,b,c){var d=lt.Controls.PrimitivesHelper.toInt(c.get_width()),
e=lt.Controls.PrimitivesHelper.toInt(c.get_height());if(d!==lt.Controls._canvasManager._canvas.width||e!==lt.Controls._canvasManager._canvas.height)lt.Controls._canvasManager._canvas.width=d,lt.Controls._canvasManager._canvas.height=e;lt.Controls._canvasManager._canvas.getContext("2d").putImageData(b,0,0);a.drawImage(lt.Controls._canvasManager._canvas,c.get_x(),c.get_y(),c.get_width(),c.get_height())};lt.Controls._interpolator=function(a,b){this._imageViewer=a;this._item=b;this._interpolationTimeout_Delegate=
ss.Delegate.create(this,this._interpolationTimeout)};lt.Controls._interpolator.prototype={_imageViewer:null,_item:null,_command:null,_timeoutVar:0,_resultData:null,_interpolationTimeout_Delegate:null,dispose:function(){this._resultData=null},stop:function(a,b){null==this._imageViewer||null==this._item||(this._stopCommand(a),this._hasInterpolationResult=!1,this._renderData=this._resultData=null,b&&this._imageViewer._InterpolatorManager.release(this._imageViewer.get_items().indexOf(this._item)))},_stopCommand:function(a){this._timeoutVar&&
(clearTimeout(this._timeoutVar),this._timeoutVar=0);null!=this._command&&this._command.get_isRunning()&&(this._command.abort(),a&&this._imageViewer._internalOnInterpolation(lt.Controls.InterpolationEventArgs.create(this._imageViewer.get_interpolationMode(),this._item,null,2)));this._command=null},start:function(){if(!(null==this._imageViewer||null==this._item||!this._item.get_hasImage()||null==lt.Controls.ImageViewer.get_imageProcessingLibrariesPath())){var a=this._imageViewer.get_items().indexOf(this._item);
if(-1!==a&&this._imageViewer._InterpolatorManager.register(a)&&(this.stop(!0,!1),1===this._imageViewer.get_interpolationMode()||2===this._imageViewer.get_interpolationMode()))this._timeoutVar&&(clearTimeout(this._timeoutVar),this._timeoutVar=0),this._timeoutVar=setTimeout(this._interpolationTimeout_Delegate,100)}},_interpolationTimeout:function(){if(!(null==this._imageViewer||null==this._item)){var a=this._imageViewer.get_items().indexOf(this._item),b=this._imageViewer.get_interpolationMode(),c=lt.Controls.InterpolationEventArgs.create(b,
this._item,null,0);this._imageViewer._internalOnInterpolation(c);if(c.get_isCanceled())this._imageViewer._InterpolatorManager.release(a);else{c=null;1===b?c="ResizeBilinear":2===b&&(c="ScaleToGray");var d=this._item.get_imageSize(),e=this._item.get_imageScale(),f=d.clone();f.set_width(f.get_width()/e);f.set_height(f.get_height()/e);e={};e.width=parseInt(d.get_width());e.height=parseInt(d.get_height());var g=new lt.Controls._interpolatorRenderData;g.set_srcRect(lt.LeadRectD.create(0,0,d.get_width(),
d.get_height()));g.updateTransform(this._imageViewer.getItemImageTransform(this._item));var h=g.get_dstRect();if(8>h.get_width()||8>h.get_height()||h.get_width()>=d.get_width()||h.get_height()>=d.get_height())this._imageViewer._InterpolatorManager.release(a);else{var i=null,d=null;try{null!=this._item.get_canvas()&&(i=this._item.get_canvas().getContext("2d").getImageData(0,0,this._item.get_canvas().width,this._item.get_canvas().height));if(null==i){var j=this._item.get_image();null!=j&&lt.Controls.ImageViewerItem._isImageCompleted(j)&&
(i=lt.Controls._canvasManager.createSourceData(j,f,lt.Controls.CanvasOptions.get_maximumInterpolationSize()))}if(null==i)this._imageViewer._InterpolatorManager.release(a);else{d=lt.Controls._canvasManager.createDestinationData(h);this._command=new lt.ImageProcessing;this._command.set_jsFilePath(lt.Controls.ImageViewer._getImageProcessingFile(lt.Controls.ImageViewer.get_imageProcessingLibrariesPath(),"Leadtools.ImageProcessing.Core.js"));this._command.set_command(c);this._command.set_imageData(i);
var k=this._command.get_arguments();if(null!=e)for(a=0;a<Object.getKeyCount(e);a++)k[Object.keys(e)[a]]=e[Object.keys(e)[a]];k.resultImage=d;this._command.add_completed(ss.Delegate.create(this,this._imageProcessingCompeletedHandler));this._command.add_error(ss.Delegate.create(this,this._imageProcessingErrorHandler));this._renderData=g;this._command.run()}}catch(n){this._imageViewer._internalOnInterpolation(lt.Controls.InterpolationEventArgs.create(b,this._item,n,3))}}}}},_hasInterpolationResult:!1,
get_hasInterpolationResult:function(){return this._hasInterpolationResult},_renderData:null,_imageProcessingCompeletedHandler:function(a,b){var c=Type.safeCast(a,lt.ImageProcessing);c.remove_completed(ss.Delegate.create(this,this._imageProcessingCompeletedHandler));c.remove_error(ss.Delegate.create(this,this._imageProcessingErrorHandler));c.abort();c=null;try{this._resultData=b.get_results().resultImage}catch(d){c=d}this._interpolationCompeleted(c)},_interpolationCompeleted:function(a){if(null!=a)this.stop(!1,
!0),this._imageViewer._internalOnInterpolation(lt.Controls.InterpolationEventArgs.create(this._imageViewer.get_interpolationMode(),this._item,a,3));else{this._hasInterpolationResult=!0;this._stopCommand(!1);a=this._imageViewer.get_eraseBackgroundOnInvalidate();try{this._imageViewer.set_eraseBackgroundOnInvalidate(!1),this._imageViewer.invalidateItem(this._item),this._imageViewer._internalOnInterpolation(lt.Controls.InterpolationEventArgs.create(this._imageViewer.get_interpolationMode(),this._item,
null,1))}finally{this._imageViewer.set_eraseBackgroundOnInvalidate(a)}this._imageViewer._InterpolatorManager.release(this._imageViewer.get_items().indexOf(this._item))}},_imageProcessingErrorHandler:function(a,b){var c=Type.safeCast(a,lt.ImageProcessing);c.remove_completed(ss.Delegate.create(this,this._imageProcessingCompeletedHandler));c.remove_error(ss.Delegate.create(this,this._imageProcessingErrorHandler));c.abort();this._interpolationCompeleted(b.get_error())},renderImage:function(a){if(null!=
this._resultData){var b=this._renderData.get_transform(),c=this._renderData.get_dstRect();a.save();a.transform(b.get_m11(),b.get_m12(),b.get_m21(),b.get_m22(),b.get_offsetX(),b.get_offsetY());lt.Controls._canvasManager.drawResult(a,this._resultData,c);a.restore()}},onTransformChanged:function(){if(this._hasInterpolationResult){var a=this._item.get_imageSize(),b=new lt.Controls._interpolatorRenderData;b.set_srcRect(lt.LeadRectD.create(0,0,a.get_width(),a.get_height()));b.updateTransform(this._imageViewer.getItemImageTransform(this._item));
var c=b.get_dstRect(),d=this._renderData.get_dstRect(),a=parseInt(d.get_width()+0.5),d=parseInt(d.get_height()+0.5),e=parseInt(c.get_width()+0.5),c=parseInt(c.get_height()+0.5);if(a===e||d===c){this._renderData=b;return}}this.stop(!0,!1);this.start()}};lt.Controls._leadTimer=function(a,b,c,d,e){this._intervalId=this._timeoutId=-1;this._ownerControl=a;this._callback=b;this._createNativeTimer(c,d,e);this._init()};lt.Controls._leadTimer.prototype={_ownerControl:null,_callback:null,_cleanUp:function(){this._deleteNativeTimers();
this._callback=this._ownerControl=null},_init:function(){this._onCallback_Delegate=ss.Delegate.create(this,this._onCallback)},_onCallback_Delegate:null,dispose:function(){this._cleanUp()},_period:0,_state:null,_createNativeTimer:function(a,b,c){c||(c=1);this._state=a;this.change(b,c)},_deleteNativeTimers:function(){-1!==this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=-1);-1!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=-1);this._period=0},change:function(a,
b){this._deleteNativeTimers();this._period=b;this._period||(this._period=1);-1!==a&&(this._timeoutId=setTimeout(ss.Delegate.create(this,function(){this._callback!=null&&this._callback(this._state);clearTimeout(this._timeoutId);this._timeoutId=-1;if(this._period>0)this._intervalId=setInterval(this._onCallback_Delegate,b)}),a))},_onCallback:function(){null!=this._callback&&this._callback(this._state)}};lt.Controls.PrimitivesHelper=function(){};lt.Controls.PrimitivesHelper.toInt=function(a){return 0<=
a?Math.round(a):-Math.round(-a)};lt.Controls.PrimitivesHelper.toRenderTransform=function(a){if(a.get_isIdentity())return a;a.set_offsetX(lt.Controls.PrimitivesHelper.toInt(1E5*a.get_offsetX())/1E5);a.set_offsetY(lt.Controls.PrimitivesHelper.toInt(1E5*a.get_offsetY())/1E5);a.set_m11(lt.Controls.PrimitivesHelper.toInt(1E5*a.get_m11())/1E5);a.set_m12(lt.Controls.PrimitivesHelper.toInt(1E5*a.get_m12())/1E5);a.set_m21(lt.Controls.PrimitivesHelper.toInt(1E5*a.get_m21())/1E5);a.set_m22(lt.Controls.PrimitivesHelper.toInt(1E5*
a.get_m22())/1E5);return a};lt.Controls.PrimitivesHelper.roundTo=function(a,b){var c=Math.pow(10,b);return lt.Controls.PrimitivesHelper.toInt(a*c)/c};lt.Controls.PrimitivesHelper.toCSSTransform=function(a){return String.format("matrix({0}, {1}, {2}, {3}, {4}, {5})",a.get_m11(),a.get_m12(),a.get_m21(),a.get_m22(),a.get_offsetX(),a.get_offsetY())};lt.Controls.PrimitivesHelper.getBoundingRect=function(a){for(var b=a[0].get_x(),c=a[0].get_y(),d=b,e=c,f=1;f<a.length;f++)a[f].get_x()<b&&(b=a[f].get_x()),
a[f].get_x()>d&&(d=a[f].get_x()),a[f].get_y()<c&&(c=a[f].get_y()),a[f].get_y()>e&&(e=a[f].get_y());return lt.LeadRectD.fromLTRB(b,c,d,e)};lt.Controls.PrimitivesHelper.getCornerPoints=function(a){var b=a.get_isEmpty();return[!b?lt.LeadPointD.create(a.get_left(),a.get_top()):lt.LeadPointD.create(0,0),!b?lt.LeadPointD.create(a.get_right(),a.get_top()):lt.LeadPointD.create(0,0),!b?lt.LeadPointD.create(a.get_right(),a.get_bottom()):lt.LeadPointD.create(0,0),!b?lt.LeadPointD.create(a.get_left(),a.get_bottom()):
lt.LeadPointD.create(0,0)]};lt.Controls.PrimitivesHelper.transformRect=function(a,b){var c=lt.Controls.PrimitivesHelper.getCornerPoints(a);b.transformPoints(c);return lt.Controls.PrimitivesHelper.getBoundingRect(c)};lt.Controls.PrimitivesHelper.getCenterPoint=function(a){return lt.LeadPointD.create(a.get_x()+a.get_width()/2,a.get_y()+a.get_height()/2)};lt.Controls.PrimitivesHelper.unionRects=function(a,b){return lt.LeadRectD.unionRects(a,b)};lt.Controls.PrimitivesHelper.cloneOrZeroPoint=function(a){return null==
a||a.get_isEmpty()?lt.LeadPointD.create(0,0):a.clone()};lt.Controls.PrimitivesHelper.cloneOrZeroSize=function(a){return null==a||a.get_isEmpty()?lt.LeadSizeD.create(0,0):a.clone()};lt.Controls.PrimitivesHelper.cloneOrZeroRect=function(a){return null==a||a.get_isEmpty()?lt.LeadRectD.create(0,0,0,0):a.clone()};lt.Controls.PrimitivesHelper.isEmptyOrZeroPoint=function(a){return a.get_isEmpty()||!a.get_x()&&!a.get_y()};lt.Controls.PrimitivesHelper.isEmptyOrZeroSize=function(a){return a.get_isEmpty()||
!a.get_width()&&!a.get_height()};lt.Controls.PrimitivesHelper.isEmptyOrZeroRect=function(a){return a.get_isEmpty()||!a.get_width()&&!a.get_height()};lt.Controls.PrimitivesHelper.toLeadPointD=function(a){return a.clone()};lt.Controls.PrimitivesHelper.toLeadSizeD=function(a){return a.clone()};lt.Controls.PrimitivesHelper.toLeadRectD=function(a){return a.clone()};lt.Controls.PrimitivesHelper.toLeadPoint=function(a){return a.get_isEmpty()?lt.LeadPointD.create(0,0):lt.LeadPointD.create(lt.Controls.PrimitivesHelper.toInt(a.get_x()),
lt.Controls.PrimitivesHelper.toInt(a.get_y()))};lt.Controls.PrimitivesHelper.toLeadSize=function(a){return a.get_isEmpty()?lt.LeadSizeD.create(0,0):lt.LeadSizeD.create(lt.Controls.PrimitivesHelper.toInt(a.get_width()),lt.Controls.PrimitivesHelper.toInt(a.get_height()))};lt.Controls.PrimitivesHelper.toLeadRect=function(a){return a.get_isEmpty()?lt.LeadRectD.create(0,0,0,0):lt.LeadRectD.create(lt.Controls.PrimitivesHelper.toInt(a.get_x()),lt.Controls.PrimitivesHelper.toInt(a.get_y()),lt.Controls.PrimitivesHelper.toInt(a.get_width()),
lt.Controls.PrimitivesHelper.toInt(a.get_height()))};lt.Controls.PrimitivesHelper.normalizeRect=function(a){return a};lt.Controls._eventHelper=function(){};lt.Controls._eventHelper.windowAddEventListener=function(a,b){lt.Controls._eventHelper._changeEventListener(!0,lt.Controls._eventHelper._window,a,b,!1,!1)};lt.Controls._eventHelper.windowRemoveEventListener=function(a,b){lt.Controls._eventHelper._changeEventListener(!1,lt.Controls._eventHelper._window,a,b,!1,!1)};lt.Controls._eventHelper.documentAddEventListener=
function(a,b){lt.Controls._eventHelper._changeEventListener(!0,lt.Controls._eventHelper._document,a,b,!1,!1)};lt.Controls._eventHelper.documentRemoveEventListener=function(a,b){lt.Controls._eventHelper._changeEventListener(!1,lt.Controls._eventHelper._document,a,b,!1,!1)};lt.Controls._eventHelper.addEventListener=function(a,b,c){lt.Controls._eventHelper._changeEventListener(!0,a,b,c,!1,!1)};lt.Controls._eventHelper.removeEventListener=function(a,b,c){lt.Controls._eventHelper._changeEventListener(!1,
a,b,c,!1,!1)};lt.Controls._eventHelper._changeEventListener=function(a,b,c,d,e,f){if(lt.LTHelper.browser===lt.LTBrowser.chrome&&56<=lt.LTHelper.version)b[(a?"add":"remove")+"EventListener"](c,d,{capture:e,passive:f});else a?b.addEventListener(c,d,!1):b.removeEventListener(c,d,!1)};lt.Controls._windowViewerHelper=function(){};lt.Controls._windowViewerHelper.add=function(a){lt.Controls._windowViewerHelper._viewers.contains(a)||(lt.Controls._windowViewerHelper._viewers.length||(lt.Controls._eventHelper.windowAddEventListener("resize",
lt.Controls._windowViewerHelper._resize_Delegate),lt.Controls._eventHelper.windowAddEventListener("orientationchange",lt.Controls._windowViewerHelper._delayedResize_Delegate),lt.Controls._eventHelper.windowAddEventListener("orientationchanged",lt.Controls._windowViewerHelper._delayedResize_Delegate),lt.Controls._windowModifierKeyHelper.registerGlobalModifierKeys()),lt.Controls._windowViewerHelper._viewers.add(a))};lt.Controls._windowViewerHelper.remove=function(a){lt.Controls._windowViewerHelper._viewers.contains(a)&&
(lt.Controls._windowViewerHelper._viewers.remove(a),lt.Controls._windowViewerHelper._viewers.length||(lt.Controls._eventHelper.windowRemoveEventListener("resize",lt.Controls._windowViewerHelper._resize_Delegate),lt.Controls._eventHelper.windowRemoveEventListener("orientationchange",lt.Controls._windowViewerHelper._delayedResize_Delegate),lt.Controls._eventHelper.windowRemoveEventListener("orientationchanged",lt.Controls._windowViewerHelper._delayedResize_Delegate),lt.Controls._windowModifierKeyHelper.deregisterGlobalModifierKeys()))};
lt.Controls._windowViewerHelper._resize=function(){for(var a=ss.IEnumerator.getEnumerator(lt.Controls._windowViewerHelper._viewers);a.moveNext();){var b=a.current;if(b.get__canAutoSizeChanged())b.onSizeChanged();if(null!=b.get_interactiveService())b.get_interactiveService().onSizeChanged()}};lt.Controls._windowViewerHelper._delayedResize=function(a){-1===lt.Controls._windowViewerHelper._resizeDelayTimeout&&(lt.Controls._windowViewerHelper._resizeDelayTimeout=setTimeout(function(){lt.Controls._windowViewerHelper._resizeDelayTimeout=
-1;lt.Controls._windowViewerHelper._resize(a)},400))};lt.Controls._windowInteractiveServiceHelper=function(){};lt.Controls._windowInteractiveServiceHelper.add=function(a){lt.Controls._windowInteractiveServiceHelper._services.contains(a)||(lt.Controls._windowInteractiveServiceHelper._services.length||(lt.Controls._eventHelper.windowAddEventListener("scroll",lt.Controls._windowInteractiveServiceHelper._captureScroll_Delegate),lt.Controls._eventHelper.windowAddEventListener("resize",lt.Controls._windowInteractiveServiceHelper._resize_Delegate),
lt.Controls._eventHelper.documentAddEventListener("drag",lt.Controls._windowInteractiveServiceHelper._drag_Delegate),lt.Controls._eventHelper.windowAddEventListener(lt.LTHelper.mouseWheelEvent,lt.Controls._windowInteractiveServiceHelper._mouseWheel_Delegate),lt.Controls._eventHelper.documentAddEventListener("selectstart",lt.Controls._windowInteractiveServiceHelper._selectStart_Delegate),lt.Controls._eventHelper.documentAddEventListener(lt.Controls._msEventsHelper.pointerdown,lt.Controls._windowInteractiveServiceHelper._msPointerDown_Delegate),
lt.Controls._eventHelper.documentAddEventListener(lt.Controls._msEventsHelper.pointermove,lt.Controls._windowInteractiveServiceHelper._msPointerMove_Delegate),lt.Controls._eventHelper.documentAddEventListener(lt.Controls._msEventsHelper.pointerup,lt.Controls._windowInteractiveServiceHelper._msPointerUpCancel_Delegate),lt.Controls._eventHelper.documentAddEventListener(lt.Controls._msEventsHelper.pointercancel,lt.Controls._windowInteractiveServiceHelper._msPointerUpCancel_Delegate),lt.Controls._eventHelper.documentAddEventListener("touchstart",
lt.Controls._windowInteractiveServiceHelper._touchStart_Delegate),lt.Controls._eventHelper.documentAddEventListener("touchmove",lt.Controls._windowInteractiveServiceHelper._touchMove_Delegate),lt.Controls._eventHelper.documentAddEventListener("touchend",lt.Controls._windowInteractiveServiceHelper._touchEndCancel_Delegate),lt.Controls._eventHelper.documentAddEventListener("touchcancel",lt.Controls._windowInteractiveServiceHelper._touchEndCancel_Delegate),lt.Controls._eventHelper.documentAddEventListener("mousedown",
lt.Controls._windowInteractiveServiceHelper._mouseDown_Delegate),lt.Controls._eventHelper.documentAddEventListener("mousemove",lt.Controls._windowInteractiveServiceHelper._mouseMove_Delegate),lt.Controls._eventHelper.documentAddEventListener("mouseup",lt.Controls._windowInteractiveServiceHelper._mouseUp_Delegate)),lt.Controls._windowInteractiveServiceHelper._services.add(a))};lt.Controls._windowInteractiveServiceHelper.remove=function(a){lt.Controls._windowInteractiveServiceHelper._services.contains(a)&&
(lt.Controls._windowInteractiveServiceHelper._services.remove(a),lt.Controls._windowInteractiveServiceHelper._services.length||(lt.Controls._eventHelper.windowRemoveEventListener("scroll",lt.Controls._windowInteractiveServiceHelper._captureScroll_Delegate),lt.Controls._eventHelper.windowRemoveEventListener("resize",lt.Controls._windowInteractiveServiceHelper._resize_Delegate),lt.Controls._eventHelper.documentRemoveEventListener("selectstart",lt.Controls._windowInteractiveServiceHelper._selectStart_Delegate),
lt.Controls._eventHelper.documentRemoveEventListener("drag",lt.Controls._windowInteractiveServiceHelper._drag_Delegate),lt.Controls._eventHelper.windowRemoveEventListener(lt.LTHelper.mouseWheelEvent,lt.Controls._windowInteractiveServiceHelper._mouseWheel_Delegate),lt.Controls._eventHelper.documentRemoveEventListener(lt.Controls._msEventsHelper.pointerdown,lt.Controls._windowInteractiveServiceHelper._msPointerDown_Delegate),lt.Controls._eventHelper.documentRemoveEventListener(lt.Controls._msEventsHelper.pointermove,
lt.Controls._windowInteractiveServiceHelper._msPointerMove_Delegate),lt.Controls._eventHelper.documentRemoveEventListener(lt.Controls._msEventsHelper.pointerup,lt.Controls._windowInteractiveServiceHelper._msPointerUpCancel_Delegate),lt.Controls._eventHelper.documentRemoveEventListener(lt.Controls._msEventsHelper.pointercancel,lt.Controls._windowInteractiveServiceHelper._msPointerUpCancel_Delegate),lt.Controls._eventHelper.documentRemoveEventListener("touchstart",lt.Controls._windowInteractiveServiceHelper._touchStart_Delegate),
lt.Controls._eventHelper.documentRemoveEventListener("touchmove",lt.Controls._windowInteractiveServiceHelper._touchMove_Delegate),lt.Controls._eventHelper.documentRemoveEventListener("touchend",lt.Controls._windowInteractiveServiceHelper._touchEndCancel_Delegate),lt.Controls._eventHelper.documentRemoveEventListener("touchcancel",lt.Controls._windowInteractiveServiceHelper._touchEndCancel_Delegate),lt.Controls._eventHelper.documentRemoveEventListener("mousedown",lt.Controls._windowInteractiveServiceHelper._mouseDown_Delegate),
lt.Controls._eventHelper.documentRemoveEventListener("mousemove",lt.Controls._windowInteractiveServiceHelper._mouseMove_Delegate),lt.Controls._eventHelper.documentRemoveEventListener("mouseup",lt.Controls._windowInteractiveServiceHelper._mouseUp_Delegate)))};lt.Controls._windowInteractiveServiceHelper._captureScroll=function(a){for(var b=ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);b.moveNext();)b.current._global_ProcessScroll(a)};lt.Controls._windowInteractiveServiceHelper._resize=
function(a){for(var b=ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);b.moveNext();)b.current._global_ProcessResize(a)};lt.Controls._windowInteractiveServiceHelper._drag=function(a){for(var b=ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);b.moveNext();)b.current._global_ProcessDrag(a)};lt.Controls._windowInteractiveServiceHelper._mouseWheel=function(a){for(var b=ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);b.moveNext();)b.current._global_ProcessMouseWheel(a)};
lt.Controls._windowInteractiveServiceHelper._selectStart=function(a){for(var b=ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);b.moveNext();)b.current._global_ProcessSelectStart(a)};lt.Controls._windowInteractiveServiceHelper._msPointerDown=function(a){for(var b=ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);b.moveNext();)b.current._global_ProcessMSPointerDown(a)};lt.Controls._windowInteractiveServiceHelper._msPointerMove=function(a){for(var b=
ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);b.moveNext();)b.current._global_ProcessMSPointerMove(a)};lt.Controls._windowInteractiveServiceHelper._msPointerUpCancel=function(a){for(var b=ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);b.moveNext();)b.current._global_ProcessMSPointerUpCancel(a)};lt.Controls._windowInteractiveServiceHelper._touchStart=function(a){for(var b=ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);b.moveNext();)b.current._global_ProcessTouchStart(a)};
lt.Controls._windowInteractiveServiceHelper._touchMove=function(a){for(var b=ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);b.moveNext();)b.current._global_ProcessTouchMove(a)};lt.Controls._windowInteractiveServiceHelper._touchEndCancel=function(a){for(var b=ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);b.moveNext();)b.current._global_ProcessTouchEndCancel(a)};lt.Controls._windowInteractiveServiceHelper._mouseDown=function(a){for(var b=
ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);b.moveNext();)b.current._global_ProcessMouseDown(a)};lt.Controls._windowInteractiveServiceHelper._mouseMove=function(a){for(var b=ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);b.moveNext();)b.current._global_ProcessMouseMove(a)};lt.Controls._windowInteractiveServiceHelper._mouseUp=function(a){for(var b=ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);b.moveNext();)b.current._global_ProcessMouseUp(a)};
lt.Controls._windowInteractiveServiceHelper.keyDown=function(a){for(var b=ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);b.moveNext();)b.current._global_ProcessKeyDown(a)};lt.Controls._windowInteractiveServiceHelper.keyDownManual=function(a,b){for(var c=ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);c.moveNext();)c.current._keyDownManual(a,b)};lt.Controls._windowInteractiveServiceHelper.keyUp=function(a){for(var b=ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);b.moveNext();)b.current._global_ProcessKeyUp(a)};
lt.Controls._windowInteractiveServiceHelper.keyUpManual=function(a,b){for(var c=ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);c.moveNext();)c.current._keyUpManual(a,b)};lt.Controls._windowModifierKeyHelper=function(){};lt.Controls._windowModifierKeyHelper.registerGlobalModifierKeys=function(){lt.Controls._windowModifierKeyHelper._modifierKeysCounter++;1===lt.Controls._windowModifierKeyHelper._modifierKeysCounter&&(lt.Controls._eventHelper.windowAddEventListener("keydown",
lt.Controls._windowModifierKeyHelper._keyDown_Delegate),lt.Controls._eventHelper.windowAddEventListener("keyup",lt.Controls._windowModifierKeyHelper._keyUp_Delegate),lt.Controls._eventHelper.documentAddEventListener("mouseover",lt.Controls._windowModifierKeyHelper._mouseOver_Delegate),lt.Controls._eventHelper.documentAddEventListener("mouseleave",lt.Controls._windowModifierKeyHelper._mouseLeave_Delegate))};lt.Controls._windowModifierKeyHelper.get_isGlobalModifierKeysRegistered=function(){return 1<=
lt.Controls._windowModifierKeyHelper._modifierKeysCounter};lt.Controls._windowModifierKeyHelper.deregisterGlobalModifierKeys=function(){if(!lt.Controls._windowModifierKeyHelper._modifierKeysCounter)throw new lt.InvalidOperationException("'DeregisterGlobalModifierKeys' called without a matching 'RegisterGlobalModifierKeys'");lt.Controls._windowModifierKeyHelper._modifierKeysCounter--;lt.Controls._windowModifierKeyHelper._modifierKeysCounter||(lt.Controls._eventHelper.windowRemoveEventListener("keydown",
lt.Controls._windowModifierKeyHelper._keyDown_Delegate),lt.Controls._eventHelper.windowRemoveEventListener("keyup",lt.Controls._windowModifierKeyHelper._keyUp_Delegate),lt.Controls._eventHelper.documentRemoveEventListener("mouseover",lt.Controls._windowModifierKeyHelper._mouseOver_Delegate),lt.Controls._eventHelper.documentRemoveEventListener("mouseleave",lt.Controls._windowModifierKeyHelper._mouseLeave_Delegate))};lt.Controls._windowModifierKeyHelper.get_modifierKeys=function(){return lt.Controls._windowModifierKeyHelper._modifierKeys};
lt.Controls._windowModifierKeyHelper._keyDown=function(a){lt.Controls._windowModifierKeyHelper._needsReset=!1;switch(a.keyCode){case 16:lt.Controls._windowModifierKeyHelper._modifierKeys|=65536;break;case 17:lt.Controls._windowModifierKeyHelper._modifierKeys|=131072;break;case 18:lt.Controls._windowModifierKeyHelper._modifierKeys|=262144}lt.Controls._windowInteractiveServiceHelper.keyDown(a)};lt.Controls._windowModifierKeyHelper._keyUp=function(a){lt.Controls._windowModifierKeyHelper._needsReset=
!1;switch(a.keyCode){case 16:lt.Controls._windowModifierKeyHelper._modifierKeys&=-65537;break;case 17:lt.Controls._windowModifierKeyHelper._modifierKeys&=-131073;break;case 18:lt.Controls._windowModifierKeyHelper._modifierKeys&=-262145}lt.Controls._windowInteractiveServiceHelper.keyUp(a)};lt.Controls._windowModifierKeyHelper._mouseOver=function(a){if(lt.Controls._windowModifierKeyHelper._needsReset){lt.Controls._windowModifierKeyHelper._needsReset=!1;try{(a.shiftKey&&65536!==(lt.Controls._windowModifierKeyHelper._modifierKeys&
65536)?(lt.Controls._windowModifierKeyHelper._modifierKeys|=65536,lt.Controls._windowInteractiveServiceHelper.keyDownManual(a,65536)):!a.shiftKey&&65536===(lt.Controls._windowModifierKeyHelper._modifierKeys&65536)&&(lt.Controls._windowModifierKeyHelper._modifierKeys&=-65537,lt.Controls._windowInteractiveServiceHelper.keyUpManual(a,65536)),a.ctrlKey&&131072!==(lt.Controls._windowModifierKeyHelper._modifierKeys&131072)?(lt.Controls._windowModifierKeyHelper._modifierKeys|=131072,lt.Controls._windowInteractiveServiceHelper.keyDownManual(a,
131072)):!a.ctrlKey&&131072===(lt.Controls._windowModifierKeyHelper._modifierKeys&131072)&&(lt.Controls._windowModifierKeyHelper._modifierKeys&=-131073,lt.Controls._windowInteractiveServiceHelper.keyUpManual(a,131072)),a.altKey&&262144!==(lt.Controls._windowModifierKeyHelper._modifierKeys&262144))?(lt.Controls._windowModifierKeyHelper._modifierKeys|=262144,lt.Controls._windowInteractiveServiceHelper.keyDownManual(a,262144)):!a.altKey&&262144===(lt.Controls._windowModifierKeyHelper._modifierKeys&262144)&&
(lt.Controls._windowModifierKeyHelper._modifierKeys&=-262145,lt.Controls._windowInteractiveServiceHelper.keyUpManual(a,262144))}catch(b){}}};lt.Controls._windowModifierKeyHelper._mouseLeave=function(){lt.Controls._windowModifierKeyHelper._needsReset=!0};lt.Controls._lT_VersionNumber.registerClass("lt.Controls._lT_VersionNumber");lt.Controls.CanvasOptions.registerClass("lt.Controls.CanvasOptions");lt.Controls.ControlDropShadowOptions.registerClass("lt.Controls.ControlDropShadowOptions");lt.Controls.InterpolationEventArgs.registerClass("lt.Controls.InterpolationEventArgs",
lt.LeadEventArgs);lt.Controls.ControlPadding.registerClass("lt.Controls.ControlPadding");lt.Controls.PropertyChangedEventArgs.registerClass("lt.Controls.PropertyChangedEventArgs",lt.LeadEventArgs);lt.Controls.ControlRegionRenderer.registerClass("lt.Controls.ControlRegionRenderer");lt.Controls.ImageViewer.registerClass("lt.Controls.ImageViewer",null,ss.IDisposable);lt.Controls._imageViewerGroup.registerClass("lt.Controls._imageViewerGroup");lt.Controls.ImageViewerImageLoadingEventArgs.registerClass("lt.Controls.ImageViewerImageLoadingEventArgs",
lt.LeadEventArgs);lt.Controls.ImageViewerCreateOptions.registerClass("lt.Controls.ImageViewerCreateOptions");lt.Controls.ImageViewerElementsModeCreateOptions.registerClass("lt.Controls.ImageViewerElementsModeCreateOptions");lt.Controls.ImageViewerRenderEventArgs.registerClass("lt.Controls.ImageViewerRenderEventArgs",lt.LeadEventArgs);lt.Controls.ImageViewerItemChangedEventArgs.registerClass("lt.Controls.ImageViewerItemChangedEventArgs",lt.LeadEventArgs);lt.Controls.ImageViewerItemErrorEventArgs.registerClass("lt.Controls.ImageViewerItemErrorEventArgs",
lt.LeadEventArgs);lt.Controls.ImageViewerItemDragDropEventArgs.registerClass("lt.Controls.ImageViewerItemDragDropEventArgs",lt.LeadEventArgs);lt.Controls.ImageViewerElementsUpdatedEventArgs.registerClass("lt.Controls.ImageViewerElementsUpdatedEventArgs",lt.LeadEventArgs);lt.Controls.ImageViewerRenderRedirectOptions.registerClass("lt.Controls.ImageViewerRenderRedirectOptions");lt.Controls._controlInertiaScroller.registerClass("lt.Controls._controlInertiaScroller");lt.Controls._inertiaParams.registerClass("lt.Controls._inertiaParams");
lt.Controls.ControlInertiaScrollOptions.registerClass("lt.Controls.ControlInertiaScrollOptions");lt.Controls.ImageViewerInteractiveMode.registerClass("lt.Controls.ImageViewerInteractiveMode");lt.Controls.ImageViewerActiveItemInteractiveMode.registerClass("lt.Controls.ImageViewerActiveItemInteractiveMode",lt.Controls.ImageViewerInteractiveMode);lt.Controls.ImageViewerAutoPanInteractiveMode.registerClass("lt.Controls.ImageViewerAutoPanInteractiveMode",lt.Controls.ImageViewerInteractiveMode);lt.Controls.ImageViewerCenterAtInteractiveMode.registerClass("lt.Controls.ImageViewerCenterAtInteractiveMode",
lt.Controls.ImageViewerInteractiveMode);lt.Controls.ImageViewerDragInteractiveMode.registerClass("lt.Controls.ImageViewerDragInteractiveMode",lt.Controls.ImageViewerInteractiveMode);lt.Controls._targetControls.registerClass("lt.Controls._targetControls");lt.Controls.ImageViewerInteractiveModes.registerClass("lt.Controls.ImageViewerInteractiveModes",lt.LeadCollection);lt.Controls.ImageViewerSpyGlassInteractiveMode.registerClass("lt.Controls.ImageViewerSpyGlassInteractiveMode",lt.Controls.ImageViewerInteractiveMode);
lt.Controls.ImageViewerMagnifyGlassInteractiveMode.registerClass("lt.Controls.ImageViewerMagnifyGlassInteractiveMode",lt.Controls.ImageViewerSpyGlassInteractiveMode);lt.Controls.ImageViewerNoneInteractiveMode.registerClass("lt.Controls.ImageViewerNoneInteractiveMode",lt.Controls.ImageViewerInteractiveMode);lt.Controls.ImageViewerPagerInteractiveMode.registerClass("lt.Controls.ImageViewerPagerInteractiveMode",lt.Controls.ImageViewerInteractiveMode);lt.Controls.ImageViewerPanControl.registerClass("lt.Controls.ImageViewerPanControl",
null,ss.IDisposable);lt.Controls.ImageViewerPanZoomInteractiveMode.registerClass("lt.Controls.ImageViewerPanZoomInteractiveMode",lt.Controls.ImageViewerInteractiveMode);lt.Controls.ImageViewerRubberBandEventArgs.registerClass("lt.Controls.ImageViewerRubberBandEventArgs",lt.LeadEventArgs);lt.Controls.ImageViewerRubberBandInteractiveMode.registerClass("lt.Controls.ImageViewerRubberBandInteractiveMode",lt.Controls.ImageViewerInteractiveMode);lt.Controls.ImageViewerSelectItemsInteractiveMode.registerClass("lt.Controls.ImageViewerSelectItemsInteractiveMode",
lt.Controls.ImageViewerRubberBandInteractiveMode);lt.Controls.ImageViewerSpyGlassDrawImageEventArgs.registerClass("lt.Controls.ImageViewerSpyGlassDrawImageEventArgs",lt.LeadEventArgs);lt.Controls.ImageViewerZoomAtInteractiveMode.registerClass("lt.Controls.ImageViewerZoomAtInteractiveMode",lt.Controls.ImageViewerInteractiveMode);lt.Controls.ImageViewerZoomToInteractiveMode.registerClass("lt.Controls.ImageViewerZoomToInteractiveMode",lt.Controls.ImageViewerRubberBandInteractiveMode);lt.Controls.ImageViewerItem.registerClass("lt.Controls.ImageViewerItem");
lt.Controls.ElementInsertionHelper.registerClass("lt.Controls.ElementInsertionHelper");lt.Controls.ImageViewerItems.registerClass("lt.Controls.ImageViewerItems",lt.LeadCollection);lt.Controls.ImageViewerViewLayout.registerClass("lt.Controls.ImageViewerViewLayout");lt.Controls.ImageViewerHorizontalViewLayout.registerClass("lt.Controls.ImageViewerHorizontalViewLayout",lt.Controls.ImageViewerViewLayout);lt.Controls.ImageViewerSingleViewLayout.registerClass("lt.Controls.ImageViewerSingleViewLayout",lt.Controls.ImageViewerViewLayout);
lt.Controls.ImageViewerVerticalViewLayout.registerClass("lt.Controls.ImageViewerVerticalViewLayout",lt.Controls.ImageViewerViewLayout);lt.Controls.ImageViewerViewLayoutVector.registerClass("lt.Controls.ImageViewerViewLayoutVector");lt.Controls.InteractiveService.registerClass("lt.Controls.InteractiveService",null,ss.IDisposable);lt.Controls.InteractiveEventArgs.registerClass("lt.Controls.InteractiveEventArgs",lt.LeadEventArgs);lt.Controls.InteractiveDragStartedEventArgs.registerClass("lt.Controls.InteractiveDragStartedEventArgs",
lt.Controls.InteractiveEventArgs);lt.Controls.InteractiveDragDeltaEventArgs.registerClass("lt.Controls.InteractiveDragDeltaEventArgs",lt.Controls.InteractiveEventArgs);lt.Controls.InteractiveDragCompletedEventArgs.registerClass("lt.Controls.InteractiveDragCompletedEventArgs",lt.Controls.InteractiveEventArgs);lt.Controls.InteractiveKeyEventArgs.registerClass("lt.Controls.InteractiveKeyEventArgs",lt.LeadEventArgs);lt.Controls.InteractiveMultiTouchEventArgs.registerClass("lt.Controls.InteractiveMultiTouchEventArgs",
lt.Controls.InteractiveEventArgs);lt.Controls.InteractivePinchStartedEventArgs.registerClass("lt.Controls.InteractivePinchStartedEventArgs",lt.Controls.InteractiveMultiTouchEventArgs);lt.Controls.InteractivePinchDeltaEventArgs.registerClass("lt.Controls.InteractivePinchDeltaEventArgs",lt.Controls.InteractiveMultiTouchEventArgs);lt.Controls.InteractivePinchCompletedEventArgs.registerClass("lt.Controls.InteractivePinchCompletedEventArgs",lt.Controls.InteractivePinchDeltaEventArgs);lt.Controls.PaddingHelper.registerClass("lt.Controls.PaddingHelper");
lt.Controls._imageViewerSyncGroup.registerClass("lt.Controls._imageViewerSyncGroup");lt.Controls.ImageViewerSyncManager.registerClass("lt.Controls.ImageViewerSyncManager");lt.Controls._itemProps.registerClass("lt.Controls._itemProps");lt.Controls._layoutRowColumnInfo.registerClass("lt.Controls._layoutRowColumnInfo");lt.Controls._serviceEventData.registerClass("lt.Controls._serviceEventData");lt.Controls._msEventsHelper.registerClass("lt.Controls._msEventsHelper");lt.Controls._dragDropData.registerClass("lt.Controls._dragDropData");
lt.Controls._dragDropHelper.registerClass("lt.Controls._dragDropHelper");lt.Controls._textSizeHelper.registerClass("lt.Controls._textSizeHelper");lt.Controls.GraphicsHelper.registerClass("lt.Controls.GraphicsHelper");lt.Controls._imageViewerCommonClasses.registerClass("lt.Controls._imageViewerCommonClasses");lt.Controls._elementsHelper.registerClass("lt.Controls._elementsHelper");lt.Controls.ControlsHelper.registerClass("lt.Controls.ControlsHelper");lt.Controls._imageProcessingHelper.registerClass("lt.Controls._imageProcessingHelper");
lt.Controls._interpolatorRenderData.registerClass("lt.Controls._interpolatorRenderData");lt.Controls._wholeNumberQueueData.registerClass("lt.Controls._wholeNumberQueueData");lt.Controls._wholeNumberQueue.registerClass("lt.Controls._wholeNumberQueue");lt.Controls._interpolatorManager.registerClass("lt.Controls._interpolatorManager");lt.Controls._canvasManager.registerClass("lt.Controls._canvasManager");lt.Controls._interpolator.registerClass("lt.Controls._interpolator");lt.Controls._leadTimer.registerClass("lt.Controls._leadTimer",
null,ss.IDisposable);lt.Controls.PrimitivesHelper.registerClass("lt.Controls.PrimitivesHelper");lt.Controls._eventHelper.registerClass("lt.Controls._eventHelper");lt.Controls._windowViewerHelper.registerClass("lt.Controls._windowViewerHelper");lt.Controls._windowInteractiveServiceHelper.registerClass("lt.Controls._windowInteractiveServiceHelper");lt.Controls._windowModifierKeyHelper.registerClass("lt.Controls._windowModifierKeyHelper");lt.Controls._lT_VersionNumber.l_VER_PRODUCT="LEADTOOLS\u00ae for JavaScript";
lt.Controls._lT_VersionNumber.l_VER_COMPANYNAME_STR="LEAD Technologies, Inc.";lt.Controls._lT_VersionNumber.l_VER_LEGALTRADEMARKS_STR="LEADTOOLS\u00ae is a trademark of LEAD Technologies, Inc.";lt.Controls._lT_VersionNumber.l_VER_LEGALCOPYRIGHT_STR="\u00a9 1991-2017 LEAD Technologies, Inc.";lt.Controls._lT_VersionNumber.l_VER_DLLEXT=".dll";lt.Controls._lT_VersionNumber.l_VER_EXEEXT=".exe";lt.Controls._lT_VersionNumber.l_VER_PLATFORM="";lt.Controls._lT_VersionNumber.l_VER_PLATFORM_FOR="";lt.Controls._lT_VersionNumber.l_VER_PRODUCTNAME_STR=
"LEADTOOLS\u00ae for JavaScript";lt.Controls._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_XXX="Leadtools.Xxx.dll";lt.Controls._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_XXX="LEADTOOLS Xxx";lt.Controls._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_KERNEL="lt.dll";lt.Controls._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_KERNEL="Leadtools";lt.Controls._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_CONTROLS="lt.Controls.dll";lt.Controls._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_CONTROLS="Controls";lt.Controls._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_DOCUMENTS_UI=
"lt.Documents.UI.dll";lt.Controls._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_DOCUMENTS_UI="Documents User Interface";lt.Controls._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_CONTROLS_MEDICAL="lt.Controls.Medical.dll";lt.Controls._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_CONTROLS_MEDICAL="Medical Controls";lt.Controls._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_DOCUMENTS="lt.Documents.dll";lt.Controls._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_DOCUMENTS="Documents";lt.Controls._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_CORE=
"lt.Annotations.Core.dll";lt.Controls._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_CORE="Annotations Core";lt.Controls._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_AUTOMATION="lt.Annotations.Automation.dll";lt.Controls._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_AUTOMATION="Annotations Automation";lt.Controls._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_DESIGNERS="lt.Annotations.Designers.dll";lt.Controls._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_DESIGNERS=
"Annotations Designers";lt.Controls._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_RENDERING="lt.Annotations.Rendering.dll";lt.Controls._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_RENDERING="Annotations Rendering";lt.Controls._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_CCOW="Leadtools.Ccow.dll";lt.Controls._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_CCOW="Leadtools CCOW Library";lt.Controls._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_DOCUMENTS="Leadtools.Annotations.Documents.dll";
lt.Controls._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_DOCUMENTS="Annotations Documents";lt.Controls._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_LEGACY="Leadtools.Annotations.Legacy.dll";lt.Controls._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_LEGACY="Annotations Legacy";lt.Controls._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_JAVASCRIPT="Leadtools.Annotations.JavaScript.dll";lt.Controls._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_JAVASCRIPT=
"JavaScripot Annotations";lt.Controls._lT_VersionNumber.l_VER_PRODUCTVERSION_DOT_STR="19.0.0.0";lt.Controls._lT_VersionNumber.l_VER_FILEVERSION_DOT_STR="19.0.0.57";lt.Controls.CanvasOptions._autoScale=!0;lt.Controls.CanvasOptions._maximumSize=0;lt.Controls.CanvasOptions._maximumInterpolationSize=4096;lt.Controls.ControlRegionRenderer._instance=new lt.Controls.ControlRegionRenderer;lt.Controls.ControlRegionRenderer.maximumAnimateIndex=65535;lt.Controls.ControlRegionRenderer._animationInterval=100;
lt.Controls.ControlRegionRenderer._timer=null;lt.Controls.ImageViewer._ScreenDpi_Name=lt.Controls.ControlsHelper.getPropertyName("ScreenDpi");lt.Controls.ImageViewer._ScreenDpi_Default=lt.LeadSizeD.create(0,0);lt.Controls.ImageViewer._UseDpi_Name=lt.Controls.ControlsHelper.getPropertyName("UseDpi");lt.Controls.ImageViewer._ScrollMode_Name=lt.Controls.ControlsHelper.getPropertyName("ScrollMode");lt.Controls.ImageViewer._ScrollMode_Default=0;lt.Controls.ImageViewer._RestrictScroll_Name=lt.Controls.ControlsHelper.getPropertyName("RestrictScroll");
lt.Controls.ImageViewer._ScrollOffset_Name=lt.Controls.ControlsHelper.getPropertyName("ScrollOffset");lt.Controls.ImageViewer._ScrollOffset_Default=lt.LeadPointD.create(0,0);lt.Controls.ImageViewer._ViewBorderThickness_Name=lt.Controls.ControlsHelper.getPropertyName("ViewBorderThickness");lt.Controls.ImageViewer._ViewBorderColor_Name=lt.Controls.ControlsHelper.getPropertyName("ViewBorderColor");lt.Controls.ImageViewer._ViewMargin_Name=lt.Controls.ControlsHelper.getPropertyName("ViewMargin");lt.Controls.ImageViewer._ViewMargin_Default=
lt.Controls.PaddingHelper.create(0,0,0,0);lt.Controls.ImageViewer._ViewPadding_Name=lt.Controls.ControlsHelper.getPropertyName("ViewPadding");lt.Controls.ImageViewer._ViewPadding_Default=lt.Controls.PaddingHelper.create(0,0,0,0);lt.Controls.ImageViewer._ViewDropShadow_Name=lt.Controls.ControlsHelper.getPropertyName("ViewDropShadow");lt.Controls.ImageViewer._ViewDropShadow_Default=lt.Controls.ControlDropShadowOptions.createDefault();lt.Controls.ImageViewer._ItemBorderThickness_Name=lt.Controls.ControlsHelper.getPropertyName("ItemBorderThickness");
lt.Controls.ImageViewer._ItemBorderColor_Name=lt.Controls.ControlsHelper.getPropertyName("ItemBorderColor");lt.Controls.ImageViewer._ItemMargin_Name=lt.Controls.ControlsHelper.getPropertyName("ItemMargin");lt.Controls.ImageViewer._ItemMargin_Default=lt.Controls.PaddingHelper.create(0,0,0,0);lt.Controls.ImageViewer._ItemPadding_Name=lt.Controls.ControlsHelper.getPropertyName("ItemPadding");lt.Controls.ImageViewer._ItemPadding_Default=lt.Controls.PaddingHelper.create(0,0,0,0);lt.Controls.ImageViewer._ImageBorderThickness_Name=
lt.Controls.ControlsHelper.getPropertyName("ImageBorderThickness");lt.Controls.ImageViewer._ImageBorderColor_Name=lt.Controls.ControlsHelper.getPropertyName("ImageBorderColor");lt.Controls.ImageViewer._ImageDropShadow_Name=lt.Controls.ControlsHelper.getPropertyName("ImageDropShadow");lt.Controls.ImageViewer._ImageDropShadow_Default=lt.Controls.ControlDropShadowOptions.createDefault();lt.Controls.ImageViewer._ItemSpacing_Name=lt.Controls.ControlsHelper.getPropertyName("ItemSpacing");lt.Controls.ImageViewer._ItemSpacing_Default=
lt.LeadSizeD.create(0,0);lt.Controls.ImageViewer._ItemBackgroundColor_Name=lt.Controls.ControlsHelper.getPropertyName("ItemBackgroundColor");lt.Controls.ImageViewer._ImageBackgroundColor_Name=lt.Controls.ControlsHelper.getPropertyName("ImageBackgroundColor");lt.Controls.ImageViewer._SelectedItemBorderColor_Name=lt.Controls.ControlsHelper.getPropertyName("SelectedItemBorderColor");lt.Controls.ImageViewer._SelectedItemBackgroundColor_Name=lt.Controls.ControlsHelper.getPropertyName("SelectedItemBackgroundColor");
lt.Controls.ImageViewer._HoveredItemBorderColor_Name=lt.Controls.ControlsHelper.getPropertyName("HoveredItemBorderColor");lt.Controls.ImageViewer._HoveredItemBackgroundColor_Name=lt.Controls.ControlsHelper.getPropertyName("HoveredItemBackgroundColor");lt.Controls.ImageViewer._ActiveItemBorderColor_Name=lt.Controls.ControlsHelper.getPropertyName("ActiveItemBorderColor");lt.Controls.ImageViewer._ActiveItemBackgroundColor_Name=lt.Controls.ControlsHelper.getPropertyName("ActiveItemBackgroundColor");lt.Controls.ImageViewer._ItemTextFont_Name=
lt.Controls.ControlsHelper.getPropertyName("ItemTextFont");lt.Controls.ImageViewer._ItemSize_Name=lt.Controls.ControlsHelper.getPropertyName("ItemSize");lt.Controls.ImageViewer._ItemSize_Default=lt.LeadSizeD.create(0,0);lt.Controls.ImageViewer._ItemSizeMode_Name=lt.Controls.ControlsHelper.getPropertyName("ItemSizeMode");lt.Controls.ImageViewer._ItemSizeMode_Default=0;lt.Controls.ImageViewer._ResizeOnTransform_Name=lt.Controls.ControlsHelper.getPropertyName("ResizeOnTransform");lt.Controls.ImageViewer._ClipImageToContent_Name=
lt.Controls.ControlsHelper.getPropertyName("ClipImageToContent");lt.Controls.ImageViewer._ImageHorizontalAlignment_Name=lt.Controls.ControlsHelper.getPropertyName("ImageHorizontalAlignment");lt.Controls.ImageViewer._ImageHorizontalAlignment_Default=1;lt.Controls.ImageViewer._ImageVerticalAlignment_Name=lt.Controls.ControlsHelper.getPropertyName("ImageVerticalAlignment");lt.Controls.ImageViewer._ImageVerticalAlignment_Default=1;lt.Controls.ImageViewer._TextHorizontalAlignment_Name=lt.Controls.ControlsHelper.getPropertyName("TextHorizontalAlignment");
lt.Controls.ImageViewer._TextHorizontalAlignment_Default=1;lt.Controls.ImageViewer._TextVerticalAlignment_Name=lt.Controls.ControlsHelper.getPropertyName("TextVerticalAlignment");lt.Controls.ImageViewer._TextVerticalAlignment_Default=2;lt.Controls.ImageViewer._ItemTextWrap_Name=lt.Controls.ControlsHelper.getPropertyName("ItemTextWrap");lt.Controls.ImageViewer._ItemTextTrimming_Name=lt.Controls.ControlsHelper.getPropertyName("ItemTextTrimming");lt.Controls.ImageViewer._ItemTextTrimming_Default=3;lt.Controls.ImageViewer._ItemTextColor_Name=
lt.Controls.ControlsHelper.getPropertyName("ItemTextColor");lt.Controls.ImageViewer._SelectedItemTextColor_Name=lt.Controls.ControlsHelper.getPropertyName("SelectedItemTextColor");lt.Controls.ImageViewer._AspectRatioCorrection_Name=lt.Controls.ControlsHelper.getPropertyName("AspectRatioCorrection");lt.Controls.ImageViewer._ViewHorizontalAlignment_Name=lt.Controls.ControlsHelper.getPropertyName("ViewHorizontalAlignment");lt.Controls.ImageViewer._ViewHorizontalAlignment_Default=0;lt.Controls.ImageViewer._ViewVerticalAlignment_Name=
lt.Controls.ControlsHelper.getPropertyName("ViewVerticalAlignment");lt.Controls.ImageViewer._ViewVerticalAlignment_Default=0;lt.Controls.ImageViewer._ItemHorizontalAlignment_Name=lt.Controls.ControlsHelper.getPropertyName("ItemHorizontalAlignment");lt.Controls.ImageViewer._ItemHorizontalAlignment_Default=1;lt.Controls.ImageViewer._ItemVerticalAlignment_Name=lt.Controls.ControlsHelper.getPropertyName("ItemVerticalAlignment");lt.Controls.ImageViewer._ItemVerticalAlignment_Default=1;lt.Controls.ImageViewer._Flip_Name=
lt.Controls.ControlsHelper.getPropertyName("Flip");lt.Controls.ImageViewer._Reverse_Name=lt.Controls.ControlsHelper.getPropertyName("Reverse");lt.Controls.ImageViewer._RotateAngle_Name=lt.Controls.ControlsHelper.getPropertyName("RotateAngle");lt.Controls.ImageViewer._Invert_Name=lt.Controls.ControlsHelper.getPropertyName("Invert");lt.Controls.ImageViewer._MaximumScaleFactor_Name=lt.Controls.ControlsHelper.getPropertyName("MaximumScaleFactor");lt.Controls.ImageViewer._MinimumScaleFactor_Name=lt.Controls.ControlsHelper.getPropertyName("MinimumScaleFactor");
lt.Controls.ImageViewer._OwnerDraw_Name=lt.Controls.ControlsHelper.getPropertyName("OwnerDraw");lt.Controls.ImageViewer._ImageRegionRenderMode_Name=lt.Controls.ControlsHelper.getPropertyName("ImageRegionRenderMode");lt.Controls.ImageViewer._ImageRegionRenderMode_Default=1;lt.Controls.ImageViewer._FloaterRegionRenderMode_Name=lt.Controls.ControlsHelper.getPropertyName("FloaterRegionRenderMode");lt.Controls.ImageViewer._FloaterRegionRenderMode_Default=1;lt.Controls.ImageViewer._FloaterOpacity_Name=
lt.Controls.ControlsHelper.getPropertyName("FloaterOpacity");lt.Controls.ImageViewer._InteractiveService_Name=lt.Controls.ControlsHelper.getPropertyName("InteractiveService");lt.Controls.ImageViewer._WorkingInteractiveMode_Name=lt.Controls.ControlsHelper.getPropertyName("WorkingInteractiveMode");lt.Controls.ImageViewer._IdleInteractiveMode_Name=lt.Controls.ControlsHelper.getPropertyName("IdleInteractiveMode");lt.Controls.ImageViewer._HitTestStateInteractiveMode_Name=lt.Controls.ControlsHelper.getPropertyName("HitTestStateInteractiveMode");
lt.Controls.ImageViewer._DropCopyKeyState_Name=lt.Controls.ControlsHelper.getPropertyName("DropCopyKeyState");lt.Controls.ImageViewer._DropCopyKeyState_Default=1;lt.Controls.ImageViewer._DropMoveKeyState_Name=lt.Controls.ControlsHelper.getPropertyName("DropMoveKeyState");lt.Controls.ImageViewer._DropMoveKeyState_Default=131072;lt.Controls.ImageViewer._DropLinkKeyState_Name=lt.Controls.ControlsHelper.getPropertyName("DropLinkKeyState");lt.Controls.ImageViewer._DropLinkKeyState_Default=262144;lt.Controls.ImageViewer._ImageResolution_Name=
lt.Controls.ControlsHelper.getPropertyName("ImageResolution");lt.Controls.ImageViewer._ImageSize_Name=lt.Controls.ControlsHelper.getPropertyName("ImageSize");lt.Controls.ImageViewer._ImageScale_Name=lt.Controls.ControlsHelper.getPropertyName("ImageScale");lt.Controls.ImageViewer._FloaterTransform_Name=lt.Controls.ControlsHelper.getPropertyName("FloaterTransform");lt.Controls.ImageViewer._AutoResetOptions_Name=lt.Controls.ControlsHelper.getPropertyName("AutoResetOptions");lt.Controls.ImageViewer._AutoResetOptions_Default=
15;lt.Controls.ImageViewer._StyleElementsTagIdBase="_ltiv-styles-elements";lt.Controls.ImageViewer._globalCount=0;lt.Controls.ImageViewer._licFile=[42,3,7,2,18,9,9,10,21,42,15,5,3,8,21,3,72,18,30,18];lt.Controls.ImageViewer._errorMsg=[25,37,36,62,109,44,61,61,33,36,46,44,57,36,34,35,109,37,44,62,109,47,40,40,35,109,41,40,59,40,33,34,61,40,41,109,58,36,57,37,34,56,57,109,44,109,63,56,35,57,36,32,40,109,33,36,46,40,35,62,40,109,43,34,63,109,57,37,40,109,1,8,12,9,25,2,2,1,30,109,30,9,6,99,71,4,35,109,
34,63,41,40,63,109,57,34,109,33,40,42,44,33,33,52,109,41,40,61,33,34,52,109,57,37,40,109,44,61,61,33,36,46,44,57,36,34,35,97,109,57,37,40,109,41,40,59,40,33,34,61,40,63,109,32,56,62,57,109,43,36,63,62,57,109,34,47,57,44,36,35,109,44,109,63,56,35,57,36,32,40,109,33,36,46,40,35,62,40,109,43,63,34,32,109,1,8,12,9,109,25,40,46,37,35,34,33,34,42,36,40,62,97,109,4,35,46,99,109,4,43,109,52,34,56,109,47,40,33,36,40,59,40,109,52,34,56,109,44,63,40,109,42,40,57,57,36,35,42,109,57,37,36,62,109,32,40,62,62,44,
42,40,109,36,35,109,40,63,63,34,63,97,109,46,34,35,57,44,46,57,109,1,8,12,9,109,25,40,46,37,35,34,33,34,42,36,40,62,97,109,4,35,46,99,109,44,57,109,122,125,121,96,126,126,127,96,120,120,126,127,99,71,26,36,57,37,34,56,57,109,44,109,59,44,33,36,41,109,63,56,35,57,36,32,40,109,33,36,46,40,35,62,40,97,109,57,37,36,62,109,33,36,47,63,44,63,52,109,58,36,33,33,109,40,53,61,36,63,40,109,36,35,109,57,37,40,109,43,56,57,56,63,40,99];lt.Controls.ImageViewer._9823H1=!1;lt.Controls.ImageViewer._9823H=!1;lt.Controls.ImageViewer._EnableRequestAnimationFrame_Name=
lt.Controls.ControlsHelper.getPropertyName("EnableRequestAnimationFrame");lt.Controls.ImageViewer._AutoCreateCanvas_Name=lt.Controls.ControlsHelper.getPropertyName("AutoCreateCanvas");lt.Controls.ImageViewer._ResizeElementForView_Name=lt.Controls.ControlsHelper.getPropertyName("ResizeElementForView");lt.Controls.ImageViewer._maximumBrowserScroll=15E5;lt.Controls.ImageViewer._imageProcessingLibrariesPath=null;lt.Controls.ImageViewer._EraseBackgroundOnInvalidate_Name=lt.Controls.ControlsHelper.getPropertyName("EraseBackgroundOnInvalidate");
lt.Controls.ImageViewer._toVerify=[28,5,30,18,31,7,3,15,18,126,119,22,112,19,124,3,30,15,18,3,112,124,126,22,15,4,2];lt.Controls.ImageViewer._AllowDrop_Name=lt.Controls.ControlsHelper.getPropertyName("AllowDrop");lt.Controls.ImageViewer._customDragCursorStyle=null;lt.Controls.ImageViewer._InterpolationRunMode_Name=lt.Controls.ControlsHelper.getPropertyName("InterpolationRunMode");lt.Controls.ImageViewer._InterpolationRunMode_Default=0;lt.Controls.ImageViewer._InterpolationMode_Name=lt.Controls.ControlsHelper.getPropertyName("InterpolationMode");
lt.Controls.ImageViewer._InterpolationMode_Default=0;lt.Controls.ImageViewer._Image_Name=lt.Controls.ControlsHelper.getPropertyName("Image");lt.Controls.ImageViewer._Element_Name=lt.Controls.ControlsHelper.getPropertyName("Element");lt.Controls.ImageViewer._Canvas_Name=lt.Controls.ControlsHelper.getPropertyName("Canvas");lt.Controls.ImageViewer._ImageUrl_Name=lt.Controls.ControlsHelper.getPropertyName("ImageUrl");lt.Controls.ImageViewer._BackImageUrl_Name=lt.Controls.ControlsHelper.getPropertyName("BackImageUrl");
lt.Controls.ImageViewer._BackImage_Name=lt.Controls.ControlsHelper.getPropertyName("BackImage");lt.Controls.ImageViewer._Floater_Name=lt.Controls.ControlsHelper.getPropertyName("Floater");lt.Controls.ImageViewer._LoadImageUrlMode_Name=lt.Controls.ControlsHelper.getPropertyName("LoadImageUrlMode");lt.Controls.ImageViewer._BackImageLoadImageUrlMode_Name=lt.Controls.ControlsHelper.getPropertyName("BackImageLoadImageUrlMode");lt.Controls.ImageViewer._setMaximumBrowserScroll();lt.Controls._imageViewerGroup._count=
0;lt.Controls._imageViewerGroup._elementsModeCount=0;lt.Controls._imageViewerGroup._viewers=[];lt.Controls._imageViewerGroup._prefixes={};lt.Controls._imageViewerGroup._namespaces={};lt.Controls.ImageViewerElementsModeCreateOptions.defaultClassPrefix="lt";lt.Controls.ImageViewerElementsModeCreateOptions.defaultViewElementClass="view";lt.Controls.ImageViewerElementsModeCreateOptions.defaultItemElementClass="item";lt.Controls.ImageViewerElementsModeCreateOptions.defaultItemImageElementClass="image";
lt.Controls.ImageViewerElementsModeCreateOptions.defaultItemBackImageElementClass="backimage";lt.Controls.ImageViewerElementsModeCreateOptions.defaultItemImageClippingElementClass="image-clipping";lt.Controls.ImageViewerElementsModeCreateOptions.defaultItemImageFlipElementClass="image-flip";lt.Controls.ImageViewerElementsModeCreateOptions.defaultItemImageBorderElementClass="image-border";lt.Controls.ImageViewerElementsModeCreateOptions.defaultItemTextElementClass="item-text";lt.Controls.ImageViewerElementsModeCreateOptions.defaultItemHoverClass=
"item-hovered";lt.Controls.ImageViewerElementsModeCreateOptions.defaultItemSelectClass="item-selected";lt.Controls.ImageViewerElementsModeCreateOptions.defaultItemActiveClass="item-active";lt.Controls.ImageViewerElementsModeCreateOptions.defaultItemImageLoadingClass="image-loading";lt.Controls.ImageViewerElementsModeCreateOptions.defaultItemImageLoadedClass="image-loaded";lt.Controls._controlInertiaScroller._timer=null;lt.Controls._controlInertiaScroller._instance=new lt.Controls._controlInertiaScroller;
lt.Controls.ImageViewerDragInteractiveMode._globalDragIndex=0;lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceViewer=null;lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceItem=null;lt.Controls.ImageViewerDragInteractiveMode._globalTargetImageViewerMode=0;lt.Controls.ImageViewerDragInteractiveMode._defaultAlowedEffects$1="copy";lt.Controls.ImageViewerDragInteractiveMode._customDragCompleted_DropsOnly=!1;lt.Controls.ImageViewerDragInteractiveMode._globalDragCustomElement=null;
lt.Controls.ImageViewerInteractiveMode.noneModeId=0;lt.Controls.ImageViewerInteractiveMode.panZoomModeId=1;lt.Controls.ImageViewerInteractiveMode.centerAtModeId=2;lt.Controls.ImageViewerInteractiveMode.zoomAtModeId=3;lt.Controls.ImageViewerInteractiveMode.zoomToModeId=4;lt.Controls.ImageViewerInteractiveMode.autoPanModeId=5;lt.Controls.ImageViewerInteractiveMode.rubberBandModeId=6;lt.Controls.ImageViewerInteractiveMode.spyGlassModeId=7;lt.Controls.ImageViewerInteractiveMode.magnifyGlassModeId=8;lt.Controls.ImageViewerInteractiveMode.activeItemModeId=
9;lt.Controls.ImageViewerInteractiveMode.addRegionModeId=10;lt.Controls.ImageViewerInteractiveMode.dragModeId=11;lt.Controls.ImageViewerInteractiveMode.pagerModeId=12;lt.Controls.ImageViewerInteractiveMode.selectItemsModeId=13;lt.Controls.ImageViewerInteractiveMode.floaterModeId=14;lt.Controls.ImageViewerInteractiveMode.userModeId=-1;lt.Controls.ElementInsertionHelper._None="none";lt.Controls.ElementInsertionHelper._All="all";lt.Controls.ElementInsertionHelper._Clear="";lt.Controls.ImageViewerSyncManager._syncGroups=
null;lt.Controls.ImageViewerSyncManager._globalSyncId=0;lt.Controls.ImageViewerSyncManager._syncGroups={};lt.Controls._msEventsHelper.pointerdown=null;lt.Controls._msEventsHelper.pointerup=null;lt.Controls._msEventsHelper.pointercancel=null;lt.Controls._msEventsHelper.pointermove=null;(function(){var a=lt.LTHelper.OS===lt.LTOS.windows&&lt.LTHelper.device===lt.LTDevice.mobile;-1!==window.navigator.userAgent.toLocaleLowerCase().indexOf("windows nt 6.2")||a?(lt.Controls._msEventsHelper.pointerdown="MSPointerDown",
lt.Controls._msEventsHelper.pointerup="MSPointerUp",lt.Controls._msEventsHelper.pointercancel="MSPointerCancel",lt.Controls._msEventsHelper.pointermove="MSPointerMove"):(lt.Controls._msEventsHelper.pointerdown="pointerdown",lt.Controls._msEventsHelper.pointerup="pointerup",lt.Controls._msEventsHelper.pointercancel="pointercancel",lt.Controls._msEventsHelper.pointermove="pointermove")})();lt.Controls._textSizeHelper._instance=new lt.Controls._textSizeHelper;lt.Controls.GraphicsHelper.nativeTransparentColor=
null;lt.Controls.GraphicsHelper._maskCanvas=null;lt.Controls._imageViewerCommonClasses.autoscrollDiv="autoscroll";lt.Controls._imageViewerCommonClasses.mainDiv="main";lt.Controls._imageViewerCommonClasses.foreCanvas="forecanvas";lt.Controls._imageViewerCommonClasses.eventCanvas="eventcanvas";lt.Controls._imageViewerCommonClasses.passthroughDiv="passthrough";lt.Controls._imageViewerCommonClasses.imagesDiv="images";lt.Controls._imageViewerCommonClasses.viewDivHolder="viewholder";lt.Controls.ControlsHelper.int32MaxValue=
2147483647;lt.Controls.ControlsHelper.int16MaxValue=65535;lt.Controls._imageProcessingHelper._invertMap=[255,254,253,252,251,250,249,248,247,246,245,244,243,242,241,240,239,238,237,236,235,234,233,232,231,230,229,228,227,226,225,224,223,222,221,220,219,218,217,216,215,214,213,212,211,210,209,208,207,206,205,204,203,202,201,200,199,198,197,196,195,194,193,192,191,190,189,188,187,186,185,184,183,182,181,180,179,178,177,176,175,174,173,172,171,170,169,168,167,166,165,164,163,162,161,160,159,158,157,
156,155,154,153,152,151,150,149,148,147,146,145,144,143,142,141,140,139,138,137,136,135,134,133,132,131,130,129,128,127,126,125,124,123,122,121,120,119,118,117,116,115,114,113,112,111,110,109,108,107,106,105,104,103,102,101,100,99,98,97,96,95,94,93,92,91,90,89,88,87,86,85,84,83,82,81,80,79,78,77,76,75,74,73,72,71,70,69,68,67,66,65,64,63,62,61,60,59,58,57,56,55,54,53,52,51,50,49,48,47,46,45,44,43,42,41,40,39,38,37,36,35,34,33,32,31,30,29,28,27,26,25,24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,
7,6,5,4,3,2,1,0];lt.Controls._canvasManager._canvas=document.createElement("canvas");lt.Controls._leadTimer.infinite=-1;lt.Controls._eventHelper._window=window;lt.Controls._eventHelper._document=document;lt.Controls._windowViewerHelper._viewers=[];lt.Controls._windowViewerHelper._resize_Delegate=null;lt.Controls._windowViewerHelper._resizeDelayTimeout=-1;lt.Controls._windowViewerHelper._delayedResize_Delegate=null;lt.Controls._windowViewerHelper._resize_Delegate=lt.Controls._windowViewerHelper._resize;
lt.Controls._windowViewerHelper._delayedResize_Delegate=lt.Controls._windowViewerHelper._delayedResize;lt.Controls._windowInteractiveServiceHelper._services=[];lt.Controls._windowInteractiveServiceHelper._captureScroll_Delegate=null;lt.Controls._windowInteractiveServiceHelper._resize_Delegate=null;lt.Controls._windowInteractiveServiceHelper._drag_Delegate=null;lt.Controls._windowInteractiveServiceHelper._mouseWheel_Delegate=null;lt.Controls._windowInteractiveServiceHelper._selectStart_Delegate=null;
lt.Controls._windowInteractiveServiceHelper._msPointerDown_Delegate=null;lt.Controls._windowInteractiveServiceHelper._msPointerMove_Delegate=null;lt.Controls._windowInteractiveServiceHelper._msPointerUpCancel_Delegate=null;lt.Controls._windowInteractiveServiceHelper._touchStart_Delegate=null;lt.Controls._windowInteractiveServiceHelper._touchMove_Delegate=null;lt.Controls._windowInteractiveServiceHelper._touchEndCancel_Delegate=null;lt.Controls._windowInteractiveServiceHelper._mouseDown_Delegate=null;
lt.Controls._windowInteractiveServiceHelper._mouseMove_Delegate=null;lt.Controls._windowInteractiveServiceHelper._mouseUp_Delegate=null;lt.Controls._windowInteractiveServiceHelper._captureScroll_Delegate=lt.Controls._windowInteractiveServiceHelper._captureScroll;lt.Controls._windowInteractiveServiceHelper._resize_Delegate=lt.Controls._windowInteractiveServiceHelper._resize;lt.Controls._windowInteractiveServiceHelper._drag_Delegate=lt.Controls._windowInteractiveServiceHelper._drag;lt.Controls._windowInteractiveServiceHelper._mouseWheel_Delegate=
lt.Controls._windowInteractiveServiceHelper._mouseWheel;lt.Controls._windowInteractiveServiceHelper._selectStart_Delegate=lt.Controls._windowInteractiveServiceHelper._selectStart;lt.Controls._windowInteractiveServiceHelper._msPointerDown_Delegate=lt.Controls._windowInteractiveServiceHelper._msPointerDown;lt.Controls._windowInteractiveServiceHelper._msPointerMove_Delegate=lt.Controls._windowInteractiveServiceHelper._msPointerMove;lt.Controls._windowInteractiveServiceHelper._msPointerUpCancel_Delegate=
lt.Controls._windowInteractiveServiceHelper._msPointerUpCancel;lt.Controls._windowInteractiveServiceHelper._touchStart_Delegate=lt.Controls._windowInteractiveServiceHelper._touchStart;lt.Controls._windowInteractiveServiceHelper._touchMove_Delegate=lt.Controls._windowInteractiveServiceHelper._touchMove;lt.Controls._windowInteractiveServiceHelper._touchEndCancel_Delegate=lt.Controls._windowInteractiveServiceHelper._touchEndCancel;lt.Controls._windowInteractiveServiceHelper._mouseDown_Delegate=lt.Controls._windowInteractiveServiceHelper._mouseDown;
lt.Controls._windowInteractiveServiceHelper._mouseMove_Delegate=lt.Controls._windowInteractiveServiceHelper._mouseMove;lt.Controls._windowInteractiveServiceHelper._mouseUp_Delegate=lt.Controls._windowInteractiveServiceHelper._mouseUp;lt.Controls._windowModifierKeyHelper._modifierKeysCounter=0;lt.Controls._windowModifierKeyHelper._modifierKeys=0;lt.Controls._windowModifierKeyHelper._keyDown_Delegate=null;lt.Controls._windowModifierKeyHelper._keyUp_Delegate=null;lt.Controls._windowModifierKeyHelper._needsReset=
!0;lt.Controls._windowModifierKeyHelper._mouseOver_Delegate=null;lt.Controls._windowModifierKeyHelper._mouseLeave_Delegate=null;lt.Controls._windowModifierKeyHelper._keyDown_Delegate=lt.Controls._windowModifierKeyHelper._keyDown;lt.Controls._windowModifierKeyHelper._keyUp_Delegate=lt.Controls._windowModifierKeyHelper._keyUp;lt.Controls._windowModifierKeyHelper._mouseOver_Delegate=lt.Controls._windowModifierKeyHelper._mouseOver;lt.Controls._windowModifierKeyHelper._mouseLeave_Delegate=lt.Controls._windowModifierKeyHelper._mouseLeave})();
