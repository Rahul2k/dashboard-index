/**************************************************
LEADTOOLS (C) 1991-2017 LEAD Technologies, Inc. ALL RIGHTS RESERVED.
This software is protected by United States and International copyright laws.
Any copying, duplication, deployment, redistribution, modification or other
disposition hereof is STRICTLY PROHIBITED without an express written license
granted by LEAD Technologies, Inc.. This notice may not be removed or otherwise
altered under any circumstances.
Portions of this product are licensed under US patent 5,327,254 and foreign
counterparts.
For more information, contact LEAD Technologies, Inc. at 704-332-5532 or visit
https://www.leadtools.com
**************************************************/
// Leadtools.Documents.js
// Version:19.0.0.12
var __extends=this&&this.__extends||function(d,e){function h(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);d.prototype=null===e?Object.create(e):(h.prototype=e.prototype,new h)},lt;
(function(d){(function(e){(function(h){(function(a){a[a.unknown=0]="unknown";a[a.ean13=1]="ean13";a[a.ean8=2]="ean8";a[a.upca=3]="upca";a[a.upce=4]="upce";a[a.code3Of9=5]="code3Of9";a[a.code128=6]="code128";a[a.codeInterleaved2Of5=7]="codeInterleaved2Of5";a[a.codabar=8]="codabar";a[a.uccean128=9]="uccean128";a[a.code93=10]="code93";a[a.eanext5=11]="eanext5";a[a.eanext2=12]="eanext2";a[a.msi=13]="msi";a[a.code11=14]="code11";a[a.codeStandard2Of5=15]="codeStandard2Of5";a[a.gs1Databar=16]="gs1Databar";
a[a.gs1DatabarLimited=17]="gs1DatabarLimited";a[a.gs1DatabarExpanded=18]="gs1DatabarExpanded";a[a.patchCode=19]="patchCode";a[a.postNet=20]="postNet";a[a.planet=21]="planet";a[a.australianPost4State=22]="australianPost4State";a[a.royalMail4State=23]="royalMail4State";a[a.usps4State=24]="usps4State";a[a.gs1DatabarStacked=25]="gs1DatabarStacked";a[a.gs1DatabarExpandedStacked=26]="gs1DatabarExpandedStacked";a[a.pdf417=27]="pdf417";a[a.microPDF417=28]="microPDF417";a[a.datamatrix=29]="datamatrix";a[a.qr=
30]="qr";a[a.aztec=31]="aztec";a[a.maxi=32]="maxi";a[a.microQR=33]="microQR";a[a.pharmaCode=34]="pharmaCode"})(h.BarcodeSymbology||(h.BarcodeSymbology={}));var c=h.BarcodeSymbology,b=function(){function a(){this._symbology=c.unknown;this._bounds=d.LeadRectD.empty;this._rotationAngle=0;this._data=[];this._value=""}a.fromJson=function(g){if(null==g)return null;var b=new a;return!b.copyFromJson(g)?null:b};a.prototype.copyFromJson=function(a){if(null==a||!e.Internal.PropertyBag.copyMatchingProperties(a,
this,["data"]))return!1;a=a.data;null!=a&&0<a.length&&(this._data=d.LTHelper.base64Decode(a));return!0};Object.defineProperty(a.prototype,"symbology",{get:function(){return this._symbology},set:function(a){this._symbology=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"bounds",{get:function(){return this._bounds},set:function(a){this._bounds=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"rotationAngle",{get:function(){return this._rotationAngle},set:function(a){this._rotationAngle=
a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"data",{get:function(){return this._data},set:function(a){this._data=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"value",{get:function(){return this._value},set:function(a){this._value=a},enumerable:!0,configurable:!0});return a}();h.BarcodeData=b})(e.Barcode||(e.Barcode={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(d){(function(a){a[a.auto=0]="auto";a[a.disabled=1]="disabled";a[a.always=2]="always"})(d.DocumentConverterSvgImagesRecognitionMode||(d.DocumentConverterSvgImagesRecognitionMode={}));var h=d.DocumentConverterSvgImagesRecognitionMode;(function(a){a[a.none=0]="none";a[a.skip=1]="skip";a[a.skipIgnoreAnnotations=2]="skipIgnoreAnnotations"})(d.DocumentConverterEmptyPageMode||(d.DocumentConverterEmptyPageMode={}));var c=d.DocumentConverterEmptyPageMode;(function(a){a[a.abort=0]="abort";
a[a.resume=1]="resume"})(d.DocumentConverterJobErrorMode||(d.DocumentConverterJobErrorMode={}));var b=d.DocumentConverterJobErrorMode;(function(a){a[a.none=0]="none";a[a.external=1]="external";a[a.overlay=2]="overlay";a[a.embed=3]="embed"})(d.DocumentConverterAnnotationsMode||(d.DocumentConverterAnnotationsMode={}));var a=d.DocumentConverterAnnotationsMode,g=function(){return function(){this.jobErrorMode=b.resume;this.pageNumberingTemplate="##name##_Page(##page##).##extension##";this.enableSvgConversion=
!0;this.svgImagesRecognitionMode=h.auto;this.emptyPageMode=c.none;this.preprocessorInvert=this.preprocessorOrient=this.preprocessorDeskew=!1;this.inputDocumentLastPageNumber=this.inputDocumentFirstPageNumber=0;this.documentFormat=d.Writers.DocumentFormat.user;this.rasterImageFormat=d.RasterImageFormat.unknown;this.rasterImageBitsPerPixel=0;this.jobName=this.documentOptions=null;this.annotationsMode=a.none;this.annotations=this.documentName=null}}();d.DocumentConverterJobData=g})(d.Documents||(d.Documents=
{}))})(lt||(lt={}));(function(d){(function(d){var h=function(){function c(b){this._document=b}c.prototype.dispose=function(){this._document=null};Object.defineProperty(c.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});return c}();d.DocumentBarcodes=h})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(e){var h=function(c){function b(a){c.call(this);this._document=null;this._internalAddCount=0;a&&(this._document=a)}__extends(b,c);b.prototype.dispose=function(){this._document=null};Object.defineProperty(b.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});b.prototype.beginAdd=function(){this._internalAddCount++};b.prototype.endAdd=function(){this._internalAddCount--};b.prototype.insertItem=function(a,g){if(0===this._internalAddCount)throw"This operation is not supported";
if(!g)throw"Item cannot be null";c.prototype.insertItem.call(this,a,g);this._document.documentsAddedRemoved(g,!0)};b.prototype.removeItem=function(a){if(0===this._internalAddCount)throw"This operation is not supported";var g=this.item(a);c.prototype.removeItem.call(this,a);this._document.documentsAddedRemoved(g,!1)};b.prototype.moveItem=function(){throw"This operation is not supported";};b.prototype.setItem=function(){throw"This operation is not supported";};b.prototype.clearItems=function(){throw"This operation is not supported";
};b.prototype.tryAdd=function(a){this.beginAdd();try{for(var g=0;g<this.count;g++)if(this.item(g)===a)return;this.add(a);e.DocumentFactory.incrementDocumentRef(a)}finally{this.endAdd()}};b.prototype.tryRemove=function(a){for(var g=0,b=this._document.pages.count,c=0;c<b&&2>g;c++)this._document.pages.item(c).document===a&&g++;if(1===g){this.beginAdd();try{this.remove(a),0===e.DocumentFactory.decrementDocumentRef(a)&&this.document.autoDisposeDocuments&&a.dispose()}finally{this.endAdd()}}};return b}(d.LeadCollection);
e.DocumentDocuments=h})(d.Documents||(d.Documents={}))})(lt||(lt={}));(function(d){d=d.Documents||(d.Documents={});d=d.RasterImageFormat||(d.RasterImageFormat={});d[d.unknown=0]="unknown";d[d.tifJpeg422=24]="tifJpeg422";d[d.ccittGroup4=29]="ccittGroup4";d[d.rasPdfJpeg=150]="rasPdfJpeg";d[d.rasPdfG4=149]="rasPdfG4"})(lt||(lt={}));
(function(d){(function(d){(function(d){var c=function(){function b(a){this._format=a}Object.defineProperty(b.prototype,"format",{get:function(){return this._format},enumerable:!0,configurable:!0});return b}();d.DocumentOptions=c})(d.Writers||(d.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(d){(function(d){var c=function(b){function a(){b.call(this,d.DocumentFormat.rtf);this.textMode=d.DocumentTextMode.auto}__extends(a,b);return a}(d.DocumentOptions);d.RtfDocumentOptions=c})(d.Writers||(d.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(d){(function(d){(function(a){a[a.ansi=0]="ansi";a[a.unicode=1]="unicode";a[a.unicodeBigEndian=2]="unicodeBigEndian";a[a.utf8=3]="utf8"})(d.TextDocumentType||(d.TextDocumentType={}));var c=d.TextDocumentType,b=function(a){function g(){a.call(this,d.DocumentFormat.text);this.documentType=c.ansi;this.formatted=this.addPageBreak=this.addPageNumber=!1}__extends(g,a);return g}(d.DocumentOptions);d.TextDocumentOptions=b})(d.Writers||(d.Writers={}))})(d.Documents||(d.Documents={}))})(lt||
(lt={}));(function(d){(function(d){(function(d){var c=function(b){function a(){b.call(this,d.DocumentFormat.svg)}__extends(a,b);return a}(d.DocumentOptions);d.SvgDocumentOptions=c;c=function(b){function a(){b.call(this,d.DocumentFormat.emf)}__extends(a,b);return a}(d.DocumentOptions);d.EmfDocumentOptions=c})(d.Writers||(d.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(d){(function(d){var c=function(b){function a(){b.call(this,d.DocumentFormat.xls)}__extends(a,b);return a}(d.DocumentOptions);d.XlsDocumentOptions=c})(d.Writers||(d.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(d){(function(d){(function(a){a[a.pdf=0]="pdf";a[a.pdfA=1]="pdfA";a[a.pdf12=2]="pdf12";a[a.pdf13=3]="pdf13";a[a.pdf15=4]="pdf15";a[a.pdf16=5]="pdf16"})(d.PdfDocumentType||(d.PdfDocumentType={}));var c=d.PdfDocumentType;(function(a){a[a.rc40Bit=0]="rc40Bit";a[a.rc128Bit=1]="rc128Bit"})(d.PdfDocumentEncryptionMode||(d.PdfDocumentEncryptionMode={}));var b=d.PdfDocumentEncryptionMode;(function(a){a[a.pageOnly=0]="pageOnly";a[a.fullScreen=3]="fullScreen";a[a.bookmarksAndPage=1]="bookmarksAndPage";
a[a.thumbnailAndPage=2]="thumbnailAndPage";a[a.layerAndPage=4]="layerAndPage";a[a.attachmentsAndPage=5]="attachmentsAndPage"})(d.PdfDocumentPageModeType||(d.PdfDocumentPageModeType={}));var a=d.PdfDocumentPageModeType;(function(a){a[a.singlePageDisplay=0]="singlePageDisplay";a[a.oneColumnDisplay=1]="oneColumnDisplay";a[a.twoColumnLeftDisplay=2]="twoColumnLeftDisplay";a[a.twoColumnRightDisplay=3]="twoColumnRightDisplay";a[a.twoPageLeft=4]="twoPageLeft";a[a.twoPageRight=5]="twoPageRight"})(d.PdfDocumentPageLayoutType||
(d.PdfDocumentPageLayoutType={}));var g=d.PdfDocumentPageLayoutType;(function(a){a[a.defaultType=0]="defaultType";a[a.fitWidth=1]="fitWidth";a[a.fitHeight=2]="fitHeight";a[a.fitWidthBounds=3]="fitWidthBounds";a[a.fitHeightBounds=4]="fitHeightBounds";a[a.fitBounds=5]="fitBounds"})(d.PdfDocumentPageFitType||(d.PdfDocumentPageFitType={}));var n=d.PdfDocumentPageFitType,i=function(i){function e(){i.call(this,d.DocumentFormat.pdf);this.documentType=c.pdf;this.fontEmbedMode=d.DocumentFontEmbedMode.auto;
this.linearized=this.imageOverText=!1;this.author=this.keywords=this.subject=this.title=null;this.isProtected=!1;this.ownerPassword=this.userPassword=null;this.encryptionMode=b.rc128Bit;this.annotationsEnabled=this.editEnabled=this.copyEnabled=this.highQualityPrintEnabled=this.printEnabled=!0;this.assemblyEnabled=!1;this.oneBitImageCompression=d.OneBitImageCompressionType.jbig2;this.coloredImageCompression=d.ColoredImageCompressionType.flateJpeg;this.qualityFactor=80;this.imageOverTextSize=d.DocumentImageOverTextSize.original;
this.imageOverTextMode=d.DocumentImageOverTextMode.strict;this.initialPageNumber=1;this.pageModeType=a.pageOnly;this.pageLayoutType=g.singlePageDisplay;this.pageFitType=n.defaultType;this.zoomPercent=this.yCoordinate=this.xCoordinate=0;this.displayDocTitle=this.centerWindow=this.fitWindow=this.hideWindowUI=this.hideMenubar=this.hideToolbar=!1}__extends(e,i);return e}(d.DocumentOptions);d.PdfDocumentOptions=i})(d.Writers||(d.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(d){(function(d){var c=function(b){function a(){b.call(this,d.DocumentFormat.xps)}__extends(a,b);return a}(d.DocumentOptions);d.XpsDocumentOptions=c})(d.Writers||(d.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));(function(d){(function(d){(function(d){var c=function(b){function a(){b.call(this,d.DocumentFormat.pub)}__extends(a,b);return a}(d.DocumentOptions);d.PubDocumentOptions=c})(d.Writers||(d.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(d){(function(d){var c=function(b){function a(){b.call(this,d.DocumentFormat.mob)}__extends(a,b);return a}(d.DocumentOptions);d.MobDocumentOptions=c})(d.Writers||(d.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));(function(d){(function(d){(function(d){var c=function(b){function a(){b.call(this,d.DocumentFormat.ltd)}__extends(a,b);return a}(d.DocumentOptions);d.LtdDocumentOptions=c})(d.Writers||(d.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(d){(function(d){var c=function(b){function a(){b.call(this,d.DocumentFormat.html);this.fontEmbedMode=d.DocumentFontEmbedMode.none;this.useBackgroundColor=!1;this.backgroundColor="white"}__extends(a,b);return a}(d.DocumentOptions);d.HtmlDocumentOptions=c})(d.Writers||(d.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(d){(function(d){var c=function(b){function a(){b.call(this,d.DocumentFormat.docx);this.textMode=d.DocumentTextMode.auto}__extends(a,b);return a}(d.DocumentOptions);d.DocxDocumentOptions=c})(d.Writers||(d.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(d){(function(d){var c=function(b){function a(){b.call(this,d.DocumentFormat.doc);this.textMode=d.DocumentTextMode.auto}__extends(a,b);return a}(d.DocumentOptions);d.DocDocumentOptions=c})(d.Writers||(d.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(d){(function(d){(function(a){a[a.mm10=0]="mm10";a[a.inch1200=1]="inch1200";a[a.dpi=2]="dpi";a[a.pixel=3]="pixel"})(d.AltoXmlMeasurementUnit||(d.AltoXmlMeasurementUnit={}));var c=d.AltoXmlMeasurementUnit,b=function(a){function g(){a.call(this,d.DocumentFormat.altoXml);this.measurementUnit=c.mm10;this.applicationDescription=this.softwareVersion=this.softwareName=this.softwareCreator=this.processingStepSettings=this.processingStepDescription=this.processingAgency=this.processingDateTime=
this.fileName=null;this.firstPhysicalPageNumber=1;this.formatted=!1;this.indentation="\t"}__extends(g,a);return g}(d.DocumentOptions);d.AltoXmlDocumentOptions=b})(d.Writers||(d.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(e){var h=function(){function c(b){this._document=b}c.prototype.dispose=function(){this._document=null};Object.defineProperty(c.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"annotationsUri",{get:function(){return this._document.values.annotationsUri},enumerable:!0,configurable:!0});c.createEmptyContainer=function(b){var a=new d.Annotations.Core.AnnContainer;a.size=b.size.clone();b=b.resolution;a.mapper.mapResolutions(b,
b,b,b);return a};c.prototype.getAnnotations=function(b){var a=$.Deferred();if(this.document.isLocal){for(var g=[],n=this.document.pages.count,i=0;i<n;i++)if(b){var p=this.document.pages.item(i),p=c.createEmptyContainer(p);p.pageNumber=i+1;g.push(p)}else g.push(null);return a.resolve(g).promise()}b={url:[e.DocumentFactory.serviceUri,c._controllerName,"GetAnnotations"].join("/"),type:"POST",contentType:"application/json",data:JSON.stringify({documentId:this._document.documentId,pageNumber:0,createEmpty:b,
userData:this._document.serviceUserData})};if(!e.DocumentFactory.doPrepareAjax(this,c._className,"GetAnnotations",b))return a.reject(null,"Canceled","Canceled").promise();$.ajax(b).done(function(g){var b=g.annotations,c=null;null!=b&&(c=(new d.Annotations.Core.AnnCodecs).loadAll(b));a.resolve(c,"undefined"===typeof g.userData?null:g.userData)}).fail(function(g,b,c){e.DocumentFactory.log(c);a.reject(g,b,c)});return a.promise()};Object.defineProperty(c.prototype,"modifiedContainers",{get:function(){return this._modifiedContainers},
set:function(b){this._modifiedContainers=b},enumerable:!0,configurable:!0});c.prototype.setAnnotations=function(b){var a=[e.DocumentFactory.serviceUri,c._controllerName,"SetAnnotations"].join("/"),g=null;null!=b&&(g=(new d.Annotations.Core.AnnCodecs).saveAll(b,d.Annotations.Core.AnnFormat.annotations));var b={documentId:this._document.documentId,pageNumber:0,annotations:g,userData:this._document.serviceUserData},n=$.Deferred(),a={url:a,type:"POST",contentType:"application/json",data:JSON.stringify(b)};
if(!e.DocumentFactory.doPrepareAjax(this,c._className,"SetAnnotations",a))return n.reject(null,"Canceled","Canceled").promise();$.ajax(a).done(function(a){n.resolve("undefined"===typeof a.userData?null:a.userData)}).fail(function(a,g,b){e.DocumentFactory.log(b);n.reject(a,g,b)});return n.promise()};c._className="DocumentAnnotations";c._controllerName="Page";return c}();e.DocumentAnnotations=h})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(d){(function(d){(function(c){c[c.user=-1]="user";c[c.ltd=0]="ltd";c[c.pdf=1]="pdf";c[c.doc=2]="doc";c[c.rtf=3]="rtf";c[c.html=4]="html";c[c.text=5]="text";c[c.emf=6]="emf";c[c.xps=7]="xps";c[c.docx=8]="docx";c[c.xls=9]="xls";c[c.pub=10]="pub";c[c.mob=11]="mob";c[c.svg=12]="svg";c[c.altoXml=13]="altoXml"})(d.DocumentFormat||(d.DocumentFormat={}));(function(c){c[c.none=0]="none";c[c.auto=1]="auto";c[c.force=2]="force";c[c.all=3]="all"})(d.DocumentFontEmbedMode||(d.DocumentFontEmbedMode=
{}));(function(c){c[c.flate=0]="flate";c[c.faxG31D=1]="faxG31D";c[c.faxG32D=2]="faxG32D";c[c.faxG4=3]="faxG4";c[c.lzw=4]="lzw";c[c.jbig2=5]="jbig2"})(d.OneBitImageCompressionType||(d.OneBitImageCompressionType={}));(function(c){c[c.flateJpeg=0]="flateJpeg";c[c.lzwJpeg=1]="lzwJpeg";c[c.flate=2]="flate";c[c.lzw=3]="lzw";c[c.jpeg=4]="jpeg";c[c.flateJpx=5]="flateJpx";c[c.lzwJpx=6]="lzwJpx";c[c.jpx=7]="jpx"})(d.ColoredImageCompressionType||(d.ColoredImageCompressionType={}));(function(c){c[c.original=
0]="original";c[c.half=1]="half";c[c.quarter=2]="quarter"})(d.DocumentImageOverTextSize||(d.DocumentImageOverTextSize={}));(function(c){c[c.none=0]="none";c[c.strict=1]="strict";c[c.relaxed=2]="relaxed"})(d.DocumentImageOverTextMode||(d.DocumentImageOverTextMode={}));(function(c){c[c.auto=0]="auto";c[c.nonFramed=1]="nonFramed";c[c.framed=2]="framed"})(d.DocumentTextMode||(d.DocumentTextMode={}))})(d.Writers||(d.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(e){var h=function(c){function b(a){c.call(this);this._document=null;this._internalAddCount=0;a&&(this._document=a)}__extends(b,c);b.prototype.dispose=function(){for(var a=0;a<this.count;a++){var g=this.item(a);g&&g.document===this._document&&g.dispose()}this._document=null};Object.defineProperty(b.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"originalFirstPageNumber",{get:function(){return this._document.values.originalFirstPageNumber},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"originalLastPageNumber",{get:function(){return this._document.values.originalLastPageNumber},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"originalPageCount",{get:function(){return this._document.values.originalPageCount},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"defaultPageSize",{get:function(){return this._document.values.defaultPageSize},set:function(a){if(a.isEmpty)throw"Size must not be empty";
this._document.values.defaultPageSize=a.clone()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"defaultResolution",{get:function(){return this._document.values.defaultResolution},set:function(a){if(0>a)throw"Value must be greater than or equal to 0";this._document.values.defaultResolution=a},enumerable:!0,configurable:!0});b.prototype.getTargetPageNumber=function(a,g){if(0>=g||!a||a===this._document)return g;if(a.pages.count<g)return 0;var b=this.indexOf(a.pages.item(g-1));return-1==
b?0:b+1};b.prototype.beginAdd=function(){this._internalAddCount++};b.prototype.endAdd=function(){this._internalAddCount--};b.prototype.createPage=function(a,g){return this._createPage(a,g,-1)};b.prototype._createPage=function(a,g,b){return this._document.createPage(a,g,b)};b.prototype.insertItem=function(a,g){if(null==g)throw"Item cannot be null";0===this._internalAddCount&&this._document.canModify();g.document?this._document.documents.tryAdd(g.document):g.setDocument(this.document,a+1);g.size.isEmpty&&
0===this._internalAddCount&&g.setSize(this.defaultPageSize);c.prototype.insertItem.call(this,a,g);0==this._internalAddCount&&(this._document.cacheStatus=e.DocumentCacheStatus.notSynced)};b.prototype.removeItem=function(a){0===this._internalAddCount&&this._document.canModify();var g=this.item(a);g.document!==this._document?this._document.documents.tryRemove(g.document):g.setDocument(null,0);c.prototype.removeItem.call(this,a);0==this._internalAddCount&&(this._document.cacheStatus=e.DocumentCacheStatus.notSynced)};
b.prototype.setItem=function(a,g){if(null==g)throw"Item cannot be null";0==this._internalAddCount&&this._document.canModify();this[a]!=g&&(this.removeItem(a),this.insertItem(a,g))};b.prototype.moveItem=function(a,g){0==this._internalAddCount&&this._document.canModify();c.prototype.moveItem.call(this,a,g)};b.prototype.clearItems=function(){for(0==this._internalAddCount&&this._document.canModify();0<this.count;)this.removeItem(0)};return b}(d.LeadCollection);e.DocumentPages=h})(d.Documents||(d.Documents=
{}))})(lt||(lt={}));
(function(d){(function(e){(function(e){var c=function(){function b(){this._size=d.LeadSizeD.empty;this._pageNumber=this._resolution=0;this._originalPageNumber=-1;this._hasEmbeddedAnnotations=this._isAnnotationsModified=this._isDeleted=!1;this._documentId=null}b.fromJson=function(a){if(!a)return null;var g=new b;return!g.copyFromJson(a)?null:g};b.prototype.copyFromJson=function(a){return!a||!e.PropertyBag.copyMatchingProperties(a,this,["pageNumber"])?!1:!0};Object.defineProperty(b.prototype,"size",
{get:function(){return this._size.clone()},set:function(a){this._size=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"resolution",{get:function(){return this._resolution},set:function(a){this._resolution=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"pageNumber",{get:function(){return this._pageNumber},set:function(a){this._pageNumber=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"originalPageNumber",{get:function(){return this._originalPageNumber},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isDeleted",{get:function(){return this._isDeleted},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isAnnotationsModified",{get:function(){return this._isAnnotationsModified},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasEmbeddedAnnotations",{get:function(){return this._hasEmbeddedAnnotations},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"documentId",{get:function(){return this._documentId},
set:function(a){this._documentId=a},enumerable:!0,configurable:!0});return b}();e.DocumentPageValues=c})(e.Internal||(e.Internal={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(d){var h=function(){function c(){this._bookmarks=[];this._pageLinks=[]}c.prototype.DocumentParseStructureData=function(){};Object.defineProperty(c.prototype,"bookmarks",{get:function(){return this._bookmarks},set:function(b){this._bookmarks=b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"pageLinks",{get:function(){return this._pageLinks},set:function(b){this._pageLinks=b},enumerable:!0,configurable:!0});return c}();d.DocumentParseStructureData=h;h=function(){function c(b){this._document=
null;this._bookmarks=[];if(null==b)throw Error("Document cannot be null");this._document=b}c.prototype.dispose=function(){this._document=null};Object.defineProperty(c.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});c.prototype.copyFromJson=function(b,a){var g=this;if(!b&&!a)return!1;b&&0<b.length&&(this._bookmarks=[],b.forEach(function(a){var b=new d.DocumentBookmark;b.copyFromJson(a);g._bookmarks.push(b)}));a&&0<a.length&&a.forEach(function(a,b){var c=
g._document.pages[b];if(!c||!c.copyLinksFromJson(a))return false});return this._document.values.isStructureParsed=!0};Object.defineProperty(c.prototype,"bookmarks",{get:function(){return this._bookmarks},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"parseBookmarks",{get:function(){return this._document.values.parseBookmarks},set:function(b){this._document.values.parseBookmarks=b;this._document.forEachDocument(function(a){a.structure&&(a.structure.parseBookmarks=b)})},enumerable:!0,
configurable:!0});Object.defineProperty(c.prototype,"parsePageLinks",{get:function(){return this._document.values.parsePageLinks},set:function(b){this._document.values.parsePageLinks=b;this._document.forEachDocument(function(a){a.structure&&(a.structure.parsePageLinks=b)})},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isParsed",{get:function(){var b=this._document.values.isStructureParsed;if(!b&&this._document.hasDocuments)for(var a=0;a<this._document.documents.count&&!b;a++){var g=
this._document.documents.item(a);g.isStructureSupported&&g.structure.isParsed&&(b=!0)}return b},enumerable:!0,configurable:!0});c.prototype.parse=function(){var b=this,a=$.Deferred();if(this.isParsed)return a.resolve(this._document),a.promise();var g=this._document,g={url:[d.DocumentFactory.serviceUri,c._controllerName,"ParseStructure"].join("/"),type:"POST",contentType:"application/json",data:JSON.stringify({documentId:g.documentId,parseBookmarks:this.parseBookmarks,parsePageLinks:this.parsePageLinks,
userData:this._document.serviceUserData})};if(!d.DocumentFactory.doPrepareAjax(this,c._className,"Parse",g))return a.reject(null,"Canceled","Canceled").promise();$.ajax(g).done(function(g){if(!g.hasOwnProperty("bookmarks")||!g.hasOwnProperty("pageLinks"))return a.reject(null,null,"Invalid object"),a.promise();b.copyFromJson(g.bookmarks,g.pageLinks)?a.resolve(b._document,"undefined"===typeof g.userData?null:g.userData):a.reject(null,null,"Invalid object")}).fail(function(g,b,c){d.DocumentFactory.log(c);
a.reject(g,b,c)});return a.promise()};c._className="DocumentStructure";c._controllerName="Structure";return c}();d.DocumentStructure=h})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(d){(function(c){c[c.auto=0]="auto";c[c.svgOnly=1]="svgOnly";c[c.ocrOnly=2]="ocrOnly"})(d.DocumentTextExtractionMode||(d.DocumentTextExtractionMode={}));var h=function(){function c(b){this._document=b}Object.defineProperty(c.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});c.fromJson=function(b,a){if(null==b)return null;var g=new c(a);return!g.copyFromJson(b)?null:g};c.prototype.copyFromJson=function(b){return null==b||!d.Internal.PropertyBag.copyMatchingProperties(b,
this,["document","linkPatterns","defLinkPatterns"])?!1:!0};Object.defineProperty(c.prototype,"textExtractionMode",{get:function(){return this._document.values.textExtractionMode},set:function(b){this._document.values.textExtractionMode=b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"autoParseLinks",{get:function(){return this._document.values.autoParseLinks},set:function(b){this._document.values.autoParseLinks=b},enumerable:!0,configurable:!0});Object.defineProperty(c,"linkPatterns",
{get:function(){return c._linkPatterns},enumerable:!0,configurable:!0});c.resetLinkPatterns=function(){c._linkPatterns=[];c._linkPatterns.push(RegExp(c._defaultLinkPatterns[0],c._defaultLinkFlags[0]));c._linkPatterns.push(RegExp(c._defaultLinkPatterns[1],c._defaultLinkFlags[1]))};c._defaultLinkPatterns=["((?:[a-z][\\w-]+:(?:/{1,3}|[a-z0-9%])|www\\d{0,3}[.]|ftp\\d{0,3}[.]|mailto\\d{0,3}[@]|[a-z0-9.\\-]+[.][a-z]{2,4}/)(?:[^\\s()<>]+|\\(([^\\s()<>]+|(\\([^\\s()<>]+\\)))*\\))+(?:\\(([^\\s()<>]+|(\\([^\\s()<>]+\\)))*\\)|[^\\s`!()\\[\\]{};:'\".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))",
"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?"];c._defaultLinkFlags=["gi","g"];c._linkPatterns=[RegExp(c._defaultLinkPatterns[0],c._defaultLinkFlags[0]),RegExp(c._defaultLinkPatterns[1],c._defaultLinkFlags[1])];return c}();d.DocumentText=h})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(e){(function(h){var c=function(){function b(){this._annotationsUri=null;this._defaultBitsPerPixel=0;this._defaultPageSize=d.LeadSizeD.empty;this._defaultResolution=300;this._documentType=this._name=this._documentId=null;this._fileLength=this._originalPageCount=this._originalLastPageNumber=this._originalFirstPageNumber=0;this._isStructureSupported=this._isStructureParsed=this._isReadOnly=this._isEncrypted=this._isDownloaded=this._isDecrypted=!1;this._password=this._mimeType=
null;this._maximumImagePixelSize=0;this._thumbnailPixelSize=d.LeadSizeD.create(128,128);this._unembedSvgImages=!1;this._cacheUri=this._uri=null;this._isResolutionsSupported=this._isSvgViewingPreferred=this._isSvgSupported=!1;this._textExtractionMode=e.DocumentTextExtractionMode.auto;this._parsePageLinks=this._parseBookmarks=this._autoParseLinks=!0;this._lastCacheSyncTime=new Date}b.fromJson=function(a){if(null==a)return null;var g=new b;return!g.copyFromJson(a)?null:g};b.prototype.copyFromJson=function(a){return null==
a||!h.PropertyBag.copyMatchingProperties(a,this,null)?!1:!0};Object.defineProperty(b.prototype,"annotationsUri",{get:function(){return this._annotationsUri},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"defaultBitsPerPixel",{get:function(){return this._defaultBitsPerPixel},set:function(a){this._defaultBitsPerPixel=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"defaultPageSize",{get:function(){return this._defaultPageSize},set:function(a){this._defaultPageSize=
a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"defaultResolution",{get:function(){return this._defaultResolution},set:function(a){this._defaultResolution=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"documentId",{get:function(){return this._documentId},set:function(a){this._documentId=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"name",{get:function(){return this._name},set:function(a){this._name=a},enumerable:!0,configurable:!0});
Object.defineProperty(b.prototype,"documentType",{get:function(){return this._documentType},set:function(a){this._documentType=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"originalFirstPageNumber",{get:function(){return this._originalFirstPageNumber},set:function(a){this._originalFirstPageNumber=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"originalLastPageNumber",{get:function(){return this._originalLastPageNumber},set:function(a){this._originalLastPageNumber=
a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"originalPageCount",{get:function(){return this._originalPageCount},set:function(a){this._originalPageCount=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"fileLength",{get:function(){return this._fileLength},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isDecrypted",{get:function(){return this._isDecrypted},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isDownloaded",
{get:function(){return this._isDownloaded},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isEncrypted",{get:function(){return this._isEncrypted},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isReadOnly",{get:function(){return this._isReadOnly},set:function(a){this._isReadOnly=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isStructureParsed",{get:function(){return this._isStructureParsed},set:function(a){this._isStructureParsed=a},enumerable:!0,
configurable:!0});Object.defineProperty(b.prototype,"isStructureSupported",{get:function(){return this._isStructureSupported},set:function(a){this._isStructureSupported=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"mimeType",{get:function(){return this._mimeType},set:function(a){this._mimeType=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"password",{get:function(){return this._password},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"maximumImagePixelSize",{get:function(){return this._maximumImagePixelSize},set:function(a){this._maximumImagePixelSize=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"thumbnailPixelSize",{get:function(){return this._thumbnailPixelSize},set:function(a){this._thumbnailPixelSize=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"unembedSvgImages",{get:function(){return this._unembedSvgImages},set:function(a){this._unembedSvgImages=a},enumerable:!0,configurable:!0});
Object.defineProperty(b.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"cacheUri",{get:function(){return this._cacheUri},set:function(a){this._cacheUri=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isSvgSupported",{get:function(){return this._isSvgSupported},set:function(a){this._isSvgSupported=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isSvgViewingPreferred",{get:function(){return this._isSvgViewingPreferred},
set:function(a){this._isSvgViewingPreferred=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isResolutionsSupported",{get:function(){return this._isResolutionsSupported},set:function(a){this._isResolutionsSupported=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"textExtractionMode",{get:function(){return this._textExtractionMode},set:function(a){this._textExtractionMode=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"autoParseLinks",
{get:function(){return this._autoParseLinks},set:function(a){this._autoParseLinks=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"parseBookmarks",{get:function(){return this._parseBookmarks},set:function(a){this._parseBookmarks=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"parsePageLinks",{get:function(){return this._parsePageLinks},set:function(a){this._parsePageLinks=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"lastCacheSyncTime",
{get:function(){return this._lastCacheSyncTime},set:function(a){this._lastCacheSyncTime=a},enumerable:!0,configurable:!0});return b}();h.DocumentValues=c})(e.Internal||(e.Internal={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(e){var h=function(){function c(b){this._document=b}c.prototype.dispose=function(){this._document=null};Object.defineProperty(c.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isSvgSupported",{get:function(){var b=this._document.values.isSvgSupported;if(!b&&this._document.hasDocuments)for(var a=0;a<this._document.documents.count&&!b;a++)b=this._document.documents.item(a).images.isSvgSupported;return b},
enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isSvgViewingPreferred",{get:function(){var b=this._document.values.isSvgViewingPreferred;if(!b&&this._document.hasDocuments)for(var a=0;a<this._document.documents.count&&!b;a++)b=this._document.documents.item(a).images.isSvgViewingPreferred;return b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isResolutionsSupported",{get:function(){var b=this._document.values.isResolutionsSupported;if(!b&&this._document.hasDocuments)for(var a=
0;a<this._document.documents.count&&!b;a++)b=this._document.documents.item(a).images.isResolutionsSupported;return b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"defaultBitsPerPixel",{get:function(){return this._document.defaultBitsPerPixel},set:function(b){switch(b){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 12:case 16:case 24:case 32:case 48:case 64:break;default:throw Error("Invalid bits per pixel value");}this._document.defaultBitsPerPixel=b;this._document.forEachDocument(function(a){a.images.defaultBitsPerPixel=
b})},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"maximumImagePixelSize",{get:function(){return this._document.values.maximumImagePixelSize},set:function(b){if(0>b)throw Error("Must have a value equal to or greater than 0");this._document.values.maximumImagePixelSize=b;this._document.forEachDocument(function(a){a.images.maximumImagePixelSize=b})},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"thumbnailPixelSize",{get:function(){return this._document.values.thumbnailPixelSize},
set:function(b){if(b.isEmpty||0>b.width||0>b.height)throw Error("Must have width and height values greater than 0");this._document.values.thumbnailPixelSize=b;this._document.forEachDocument(function(a){a.images.thumbnailPixelSize=b})},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"unembedSvgImages",{get:function(){return this._document.values.unembedSvgImages},set:function(b){this._document.values.unembedSvgImages=b;this._document.forEachDocument(function(a){a.images.unembedSvgImages=
b})},enumerable:!0,configurable:!0});Object.defineProperty(c,"elementAjaxMethod",{get:function(){return c._elementAjaxMethod},set:function(b){c._elementAjaxMethod=b.toUpperCase()},enumerable:!0,configurable:!0});Object.defineProperty(c,"elementUrlMode",{get:function(){return c._elementUrlMode},set:function(b){c._elementUrlMode=b},enumerable:!0,configurable:!0});c.getImageScale=function(b,a){if(0==a||b.isEmpty||0==b.width||0==b.height)return 1;var g=1;if(b.width>a||b.height>a)g=b.width>b.height?b.width/
a:b.height/a;return g};c.scaleImageSize=function(b,a){return 1==a?b.clone():d.LeadSizeD.create(b.width*a+0.5|0,b.height*a+0.5|0)};c.prototype.getThumbnailsGridUrlParams=function(b,a,g){var c=this._document.images.thumbnailPixelSize;return{documentId:this._document.documentId,firstPageNumber:b,lastPageNumber:a,maximumGridWidth:g,width:c.width,height:c.height,userData:this._document.serviceUserData}};c.prototype.getThumbnailsGrid=function(b,a,g){return this.getThumbnailsGridUrl(b,a,g)};c.prototype.getThumbnailsGridUrl=
function(b,a,g){return e.Internal.ImageRequestHelper.createFullUrl(e.Internal.ImageRequestHelper.createBaseUrl(c._controllerName,c._getThumbnailsGridActionName),this.getThumbnailsGridUrlParams(b,a,g))};c.prototype.getThumbnailsGridElement=function(b,a,g,d){var i=$.Deferred(),p=e.Internal.ImageRequestHelper.createBaseUrl(c._controllerName,c._getThumbnailsGridActionName),b=this.getThumbnailsGridUrlParams(b,a,g);return e.Internal.ImageRequestHelper.doGenericElementLoad(i,d,p,b,c._className,c._getThumbnailsGridMethodName)};
c._className="DocumentImages";c._controllerName="Images";c._elementAjaxMethod="GET";c._elementUrlMode=d.ImageLoaderUrlMode.imageUrl;c._getThumbnailsGridActionName="GetThumbnailsGrid";c._getThumbnailsGridMethodName="GetThumbnailsGrid";return c}();e.DocumentImages=h})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(e){var h=function(){function c(){this._pageFitType=e.DocumentPageFitType.none;this._pageNumber=0;this._position=d.LeadPointD.empty;this._zoomPercent=0}c.fromJson=function(b){if(null==b)return null;var a=new e.DocumentLink;return!a.copyFromJson(b)?null:a};c.prototype.copyFromJson=function(b){return null==b||!e.Internal.PropertyBag.copyMatchingProperties(b,this,null)?!1:!0};Object.defineProperty(c.prototype,"pageFitType",{get:function(){return this._pageFitType},set:function(b){this._pageFitType=
b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"pageNumber",{get:function(){return this._pageNumber},set:function(b){this._pageNumber=b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"position",{get:function(){return this._position.clone()},set:function(b){this._position=b.clone()},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"zoomPercent",{get:function(){return this._zoomPercent},set:function(b){this._zoomPercent=b},enumerable:!0,configurable:!0});
c.prototype.clone=function(){var b=new c;b.pageFitType=this.pageFitType;b.pageNumber=this.pageNumber;b.position=this.position.clone();b.zoomPercent=this.zoomPercent;return b};return c}();e.DocumentLinkTarget=h})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(e){(function(b){b[b.value=0]="value";b[b.targetPage=1]="targetPage"})(e.DocumentLinkType||(e.DocumentLinkType={}));var h=e.DocumentLinkType,c=function(){function b(){this._bounds=d.LeadRectD.empty;this._value="";this._linkType=h.value;this._target=new e.DocumentLinkTarget}b.fromJson=function(a){if(null==a)return null;var g=new b;return!g.copyFromJson(a)?null:g};b.prototype.copyFromJson=function(a){return null==a||!e.Internal.PropertyBag.copyMatchingProperties(a,this,null)?!1:
!0};Object.defineProperty(b.prototype,"bounds",{get:function(){return this._bounds},set:function(a){this._bounds=a.clone()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"linkType",{get:function(){return this._linkType},set:function(a){this._linkType=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"value",{get:function(){return this._value},set:function(a){this._value=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"target",{get:function(){return this._target},
set:function(a){this._target.copyFromJson(a)},enumerable:!0,configurable:!0});return b}();e.DocumentLink=c})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(e){(function(c){c[c.none=0]="none";c[c.allowPolylineText=1]="allowPolylineText";c[c.dropImages=2]="dropImages";c[c.dropShapes=4]="dropShapes";c[c.dropText=8]="dropText";c[c.forConversion=16]="forConversion";c[c.ignoreXmlParsingErrors=32]="ignoreXmlParsingErrors";c[c.forceRealText=64]="forceRealText";c[c.forceTextPath=1]="forceTextPath"})(e.DocumentGetSvgOptions||(e.DocumentGetSvgOptions={}));var h=function(){function c(){this._values=new e.Internal.DocumentPageValues;this._document=
null;this._links=[];this.customData={}}c.prototype.dispose=function(){this._document=null};c.prototype.setDocument=function(b,a){this._document=b;this._values.documentId=this._document?this._document.documentId:null;this._values.pageNumber=a};c.fromJson=function(b,a,g){if(null==b)return null;a=new c;return!a.copyFromJson(b,g)?null:a};c.prototype.copyFromJson=function(b,a){if(null==b||!b.hasOwnProperty("values")||!this._values.copyFromJson(b.values))return!1;this._values.pageNumber=a;return!0};c.prototype.setSize=
function(b){if(b.isEmpty)throw"size must not be empty";this._values.size=b.clone()};Object.defineProperty(c.prototype,"isLocal",{get:function(){return this._isLocal},set:function(b){this._isLocal=b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"size",{get:function(){return this.values.size.clone()},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
"resolution",{get:function(){return this.values.resolution},set:function(b){this.values.resolution=b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"pageNumber",{get:function(){return this.values.pageNumber},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"imageScale",{get:function(){return null==this._document?1:e.DocumentImages.getImageScale(this._document.sizeToPixels(this.values.size),this._document.images.maximumImagePixelSize)},enumerable:!0,configurable:!0});
Object.defineProperty(c.prototype,"originalPageNumber",{get:function(){return this.values.originalPageNumber},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isDeleted",{get:function(){return this.values.isDeleted},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isAnnotationsModified",{get:function(){return this.values.isAnnotationsModified},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"hasEmbeddedAnnotations",{get:function(){return this.values.hasEmbeddedAnnotations},
enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0});c.prototype.processPageText=function(b){this._document.text.autoParseLinks&&this.parseAndMergeValueLinks(b)};c.prototype.parseAndMergeValueLinks=function(b){null==b||0==b.characters.length||this.mergeLinks(b.parseLinks(e.DocumentText.linkPatterns))};c.prototype.removeSmallerDuplicate=function(b,a){for(var g=b.length-1;0<=g;g--)a.bounds.containsRect(b[g].bounds)&&
b.splice(g,1)};c.prototype.mergeLinks=function(b){if(!(null==b||0==b.length)){for(var a=0;a<b.length;a++)this.removeSmallerDuplicate(this._links,b[a]);this._links=this._links.concat(b)}};c.prototype.copyLinksFromJson=function(b){var a=[];if(null==b)return!0;for(var g=0;g<b.length;g++){var c=e.DocumentLink.fromJson(b[g]);a.push(c)}this.mergeLinks(a);return!0};c.prototype.getLinks=function(){return this._links};c.prototype.getText=function(b){var a=this,g=$.Deferred();if(this._isLocal)return g.resolve(null).promise();
b={url:[e.DocumentFactory.serviceUri,c._controllerName,"GetText"].join("/"),type:"POST",contentType:"application/json",data:JSON.stringify({documentId:this._document.documentId,pageNumber:this.pageNumber,clip:b,textExtractionMode:this._document.text.textExtractionMode,userData:this._document.serviceUserData})};if(!e.DocumentFactory.doPrepareAjax(this,c._className,"GetText",b))return g.reject(null,"Canceled","Canceled").promise();$.ajax(b).done(function(b){var c=e.DocumentPageText.fromJson(b.pageText);
a.processPageText(c);g.resolve(c,"undefined"===typeof b.userData?null:b.userData)}).fail(function(a,b,c){e.DocumentFactory.log(c);g.reject(a,b,c)});return g.promise()};c.prototype.getAnnotations=function(b){var a=$.Deferred();if(this.isLocal){var g=null;b&&(g=e.DocumentAnnotations.createEmptyContainer(this),g.pageNumber=this.document.pages.indexOf(this)+1);return a.resolve(g).promise()}if(this._isLocal)return a.resolve(null).promise();b={url:[e.DocumentFactory.serviceUri,c._controllerName,"GetAnnotations"].join("/"),
type:"POST",contentType:"application/json",data:JSON.stringify({documentId:this._document.documentId,pageNumber:this.pageNumber,createEmpty:b,userData:this._document.serviceUserData})};if(!e.DocumentFactory.doPrepareAjax(this,c._className,"GetAnnotations",b))return a.reject(null,"Canceled","Canceled").promise();$.ajax(b).done(function(g){var b=g.annotations,c=null;null!=b&&(c=(new d.Annotations.Core.AnnCodecs).load(b,0));a.resolve(c,"undefined"===typeof g.userData?null:g.userData)}).fail(function(g,
b,c){e.DocumentFactory.log(c);a.reject(g,b,c)});return a.promise()};c.prototype.setAnnotations=function(b){var a=[e.DocumentFactory.serviceUri,c._controllerName,"SetAnnotations"].join("/"),g=null;null!=b&&(g=(new d.Annotations.Core.AnnCodecs).save(b,d.Annotations.Core.AnnFormat.annotations,null,this.pageNumber));var b={documentId:this._document.documentId,pageNumber:this.pageNumber,annotations:g,userData:this._document.serviceUserData},n=$.Deferred(),a={url:a,type:"POST",contentType:"application/json",
data:JSON.stringify(b)};if(!e.DocumentFactory.doPrepareAjax(this,c._className,"SetAnnotations",a))return n.reject(null,"Canceled","Canceled").promise();$.ajax(a).done(function(a){n.resolve("undefined"===typeof a.userData?null:a.userData)}).fail(function(a,g,b){e.DocumentFactory.log(b);n.reject(a,g,b)});return n.promise()};c.prototype.getThumbnailImageUrlParams=function(){var b=this._document.images.thumbnailPixelSize;return{documentId:this._document.documentId,pageNumber:this.pageNumber,width:b.width,
height:b.height,userData:this._document.serviceUserData}};c.prototype.getThumbnailImage=function(){return this.getThumbnailImageUrl()};c.prototype.getThumbnailImageUrl=function(){return this._isLocal?null:e.Internal.ImageRequestHelper.createFullUrl(e.Internal.ImageRequestHelper.createBaseUrl(c._controllerName,c._getThumbnailImageActionName),this.getThumbnailImageUrlParams())};c.prototype.getThumbnailImageElement=function(b){var a=$.Deferred();if(this._isLocal)return a.resolve(null).promise();var g=
e.Internal.ImageRequestHelper.createBaseUrl(c._controllerName,c._getThumbnailImageActionName),d=this.getThumbnailImageUrlParams();return e.Internal.ImageRequestHelper.doGenericElementLoad(a,b,g,d,c._className,c._getThumbnailImageMethodName)};c.prototype.getImageUrlParams=function(b,a){var g={documentId:this._document.documentId,pageNumber:this.pageNumber,userData:this._document.serviceUserData};-1!==b&&-1!==a&&(g.width=b,g.height=a);return g};c.prototype.getImage=function(){return this.getImageUrl()};
c.prototype.getImageUrl=function(){return this._isLocal?null:e.Internal.ImageRequestHelper.createFullUrl(e.Internal.ImageRequestHelper.createBaseUrl(c._controllerName,c._getImageActionName),this.getImageUrlParams(-1,-1))};c.prototype.getImageResized=function(b,a){return this.getImageResizedUrl(b,a)};c.prototype.getImageResizedUrl=function(b,a){return this._isLocal?null:e.Internal.ImageRequestHelper.createFullUrl(e.Internal.ImageRequestHelper.createBaseUrl(c._controllerName,c._getImageActionName),
this.getImageUrlParams(b,a))};c.prototype.getImageElement=function(b){return this.internalGetImageElement(c._getImageMethodName,-1,-1,b)};c.prototype.getImageResizedElement=function(b,a,g){return this.internalGetImageElement(c._getImageResizedMethodName,b,a,g)};c.prototype.internalGetImageElement=function(b,a,g,d){var i=$.Deferred();if(this._isLocal)return i.resolve(null).promise();var p=e.Internal.ImageRequestHelper.createBaseUrl(c._controllerName,c._getImageActionName),a=this.getImageUrlParams(a,
g);return e.Internal.ImageRequestHelper.doGenericElementLoad(i,d,p,a,c._className,b)};Object.defineProperty(c.prototype,"isSvgSupported",{get:function(){return this._document.images.isSvgSupported},enumerable:!0,configurable:!0});c.prototype.getSvgBackImageUrlParams=function(b){return{documentId:this._document.documentId,pageNumber:this.pageNumber,backColor:b,userData:this._document.serviceUserData}};c.prototype.getSvgBackImage=function(b){return this.getSvgBackImageUrl(b)};c.prototype.getSvgBackImageUrl=
function(b){return this._isLocal?null:e.Internal.ImageRequestHelper.createFullUrl(e.Internal.ImageRequestHelper.createBaseUrl(c._controllerName,c._getSvgBackImageActionName),this.getSvgBackImageUrlParams(b))};c.prototype.getSvgBackImageElement=function(b,a){var g=$.Deferred();if(this._isLocal)return g.resolve(null).promise();var d=e.Internal.ImageRequestHelper.createBaseUrl(c._controllerName,c._getSvgBackImageActionName),i=this.getSvgBackImageUrlParams(b);return e.Internal.ImageRequestHelper.doGenericElementLoad(g,
a,d,i,c._className,c._getSvgBackImageMethodName)};c.prototype.getSvgUrlParams=function(b){return{documentId:this._document.documentId,pageNumber:this.pageNumber,options:b,unembedImages:this._document.images.unembedSvgImages,userData:this._document.serviceUserData}};c.prototype.getSvg=function(b){return this.getSvgUrl(b)};c.prototype.getSvgUrl=function(b){return this._isLocal?null:e.Internal.ImageRequestHelper.createFullUrl(e.Internal.ImageRequestHelper.createBaseUrl(c._controllerName,c._getSvgActionName),
this.getSvgUrlParams(b))};c.prototype.getSvgElement=function(b,a){var g=$.Deferred();if(this._isLocal)return g.resolve(null).promise();var d=e.Internal.ImageRequestHelper.createBaseUrl(c._controllerName,c._getSvgActionName),i=this.getSvgUrlParams(b);return e.Internal.ImageRequestHelper.doGenericElementLoad(g,a,d,i,c._className,c._getSvgMethodName)};c.prototype.readBarcodes=function(b,a,g){var d=[e.DocumentFactory.serviceUri,c._controllerName,"ReadBarcodes"].join("/"),b={documentId:this._document.documentId,
pageNumber:this.pageNumber,bounds:b,maximumBarcodes:a,symbologies:g,userData:this._document.serviceUserData},i=$.Deferred(),d={url:d,type:"POST",contentType:"application/json",data:JSON.stringify(b)};if(!e.DocumentFactory.doPrepareAjax(this,c._className,"ReadBarcodes",d))return i.reject(null,"Canceled","Canceled").promise();$.ajax(d).done(function(a){var g=a.barcodes.map(function(a){return e.Barcode.BarcodeData.fromJson(a)});i.resolve(g,"undefined"===typeof a.userData?null:a.userData)}).fail(function(a,
g,b){e.DocumentFactory.log(b);i.reject(a,g,b)});return i.promise()};c._className="DocumentPage";c._controllerName="Page";c._getThumbnailImageActionName="GetThumbnail";c._getThumbnailImageMethodName="GetThumbnailImage";c._getImageActionName="GetImage";c._getImageMethodName="GetImage";c._getImageResizedActionName="GetImage";c._getImageResizedMethodName="GetImageResized";c._getSvgBackImageActionName="GetSvgBackImage";c._getSvgBackImageMethodName="GetSvgBackImage";c._getSvgActionName="GetSvg";c._getSvgMethodName=
"GetSvg";return c}();e.DocumentPage=h})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(e){(function(c){c[c.normal=0]="normal";c[c.bold=1]="bold";c[c.italic=2]="italic";c[c.underline=4]="underline"})(e.DocumentFontStyles||(e.DocumentFontStyles={}));(function(c){c[c.none=0]="none";c[c.fit=1]="fit";c[c.fitAlways=2]="fitAlways";c[c.fitWidth=3]="fitWidth";c[c.fitHeight=4]="fitHeight"})(e.DocumentPageFitType||(e.DocumentPageFitType={}));var h=function(){function c(){this._children=[]}c.fromJson=function(b){if(null==b)return null;var a=new c;return!a.copyFromJson(b)?
null:a};c.prototype.copyFromJson=function(b){if(null==b||!b.hasOwnProperty("fontStyles")||!b.hasOwnProperty("children")||!b.hasOwnProperty("target")||!b.hasOwnProperty("title"))return!1;this.fontStyles=b.fontStyles;this.title=b.title;var a=new e.DocumentLinkTarget,g=b.target;if(!g.hasOwnProperty("pageFitType")||!g.hasOwnProperty("pageNumber")||!g.hasOwnProperty("position")||!g.hasOwnProperty("zoomPercent"))return!1;a.pageFitType=g.pageFitType;a.pageNumber=g.pageNumber;a.position=d.LeadPointD.fromJSON(g.position);
a.zoomPercent=g.zoomPercent;this.target=a;for(a=0;a<b.children.length;a++)this.children.push(c.fromJson(b.children[a]));return!0};c.prototype.clone=function(b){var a=new c;a.fontStyles=this.fontStyles;a.target=this.target.clone();a.title=this.title;if(b)for(b=0;b<this.children.length;b++)a.children.push(this.children[b].clone(!0));return a};Object.defineProperty(c.prototype,"fontStyles",{get:function(){return this._fontStyles},set:function(b){this._fontStyles=b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
"children",{get:function(){return this._children},set:function(b){this._children=b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"target",{get:function(){return this._target},set:function(b){this._target=b.clone()},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"title",{get:function(){return this._title},set:function(b){this._title=b},enumerable:!0,configurable:!0});return c}();e.DocumentBookmark=h})(d.Documents||(d.Documents={}))})(lt||(lt={}));
if(lt.LTHelper.browser==lt.LTBrowser.internetExplorer&&9>=lt.LTHelper.version)try{$.support.cors=!0}catch(e$$8){lt.LTHelper.logWarning("IE9 does not support AJAX without a special jQuery flag. Please ensure jQuery is properly added to the page.")}
(function(d){(function(e){var h=function(){return function(){this.mimeType=this.documentId=null}}();e.CreateDocumentOptions=h;h=function(){return function(){this.originalPageNumber=this.pageNumber=0;this.size=d.LeadSizeD.empty;this.resolution=0}}();e.DocumentPageDescriptor=h;h=function(){return function(){this.autoSaveToCache=this.autoDeleteFromCache=!0;this.isReadOnly=this.autoDisposeDocuments=!1;this.defaultPageSize=d.LeadSizeD.empty;this.defaultResolution=0;this.defaultBitsPerPixel=24;this.maximumImagePixelSize=
0;this.thumbnailPixelSize=d.LeadSizeD.create(128,128);this.isResolutionsSupported=this.isSvgViewingPreferred=this.isSvgSupported=this.isStructureSupported=this.isStructureParsed=this.unembedSvgImages=!1;this.textExtractionMode=e.DocumentTextExtractionMode.auto;this.parsePageLinks=this.parseBookmarks=this.autoParseLinks=!0}}();e.DocumentDescriptor=h})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(d){var h=function(){return function(){this.documentId=null;this.resolution=0;this.annotationsUri=this.password=this.name=null;this.loadEmbeddedAnnotations=!1;this.lastPageNumber=this.firstPageNumber=this.maximumImagePixelSize=0}}();d.LoadDocumentOptions=h})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(e){var h=function(){function a(){this._bounds=d.LeadRectD.empty;this._spaceWidth=0;this._isRightToLeft=this._isEndOfParagraph=this._isLineBreak=this._isEndOfLine=this._isEndOfWord=!1}Object.defineProperty(a.prototype,"code",{get:function(){return this._code},set:function(a){this._code=a},enumerable:!0,configurable:!0});a.prototype.codeAsString=function(){return String.fromCharCode(this.code)};Object.defineProperty(a.prototype,"bounds",{get:function(){return this._bounds.clone()},
set:function(a){this._bounds=a.clone()},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"spaceWidth",{get:function(){return this._spaceWidth},set:function(a){this._spaceWidth=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isEndOfWord",{get:function(){return this._isEndOfWord},set:function(a){this._isEndOfWord=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isEndOfLine",{get:function(){return this._isEndOfLine},set:function(a){this._isEndOfLine=
a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isLineBreak",{get:function(){return this._isLineBreak},set:function(a){this._isLineBreak=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isEndOfParagraph",{get:function(){return this._isEndOfParagraph},set:function(a){this._isEndOfParagraph=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isRightToLeft",{get:function(){return this._isRightToLeft},set:function(a){this._isRightToLeft=a},
enumerable:!0,configurable:!0});return a}();e.DocumentCharacter=h;var c=function(){function a(){this._value=null;this._bounds=d.LeadRectD.empty}Object.defineProperty(a.prototype,"value",{get:function(){return this._value},set:function(a){this._value=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"bounds",{get:function(){return this._bounds},set:function(a){this._bounds=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"firstCharacterIndex",{get:function(){return this._firstCharacterIndex},
set:function(a){this._firstCharacterIndex=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"lastCharacterIndex",{get:function(){return this._lastCharacterIndex},set:function(a){this._lastCharacterIndex=a},enumerable:!0,configurable:!0});return a}();e.DocumentWord=c;var b=function(){function a(a){this._textMap=this._text=this._words=this._characters=null;this._characters=a}a.fromJson=function(b){if(null==b||!b.hasOwnProperty("characters"))return null;var c=new a(null);c._characters=
[];for(var i=0;i<b.characters.length;i++){var e=new h;e.isEndOfWord=b.characters[i].isEndOfWord;e.isEndOfLine=b.characters[i].isEndOfLine;e.isLineBreak=b.characters[i].isLineBreak;e.isRightToLeft=b.characters[i].isRightToLeft;e.code=b.characters[i].code;e.bounds=d.LeadRectD.fromJSON(b.characters[i].bounds);c._characters.push(e)}return c};Object.defineProperty(a.prototype,"characters",{get:function(){return this._characters},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"words",
{get:function(){return this._words},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"textMap",{get:function(){return this._textMap},enumerable:!0,configurable:!0});a.prototype.clearBuildData=function(){this._textMap=this._text=this._words=null};a.prototype.buildWords=function(){for(var b=0,n=this._characters.length,i=[],e=!1,k=-1;b<n;){for(var f=d.LeadRectD.empty,j=b,o=!1,
m=!0,l=new h;m&&b<n;)l=this._characters[b],m=l.bounds.clone(),f=f.isEmpty?m.clone():d.LeadRectD.unionRects(f,m),m=b<n&&!l.isEndOfWord&&!l.isEndOfLine,b++,l.isRightToLeft&&(o=!0);for(var m="",q=j;q<b;q++)m+=this._characters[q].code;q=new c;q.value=m;q.bounds=f.clone();q.firstCharacterIndex=j;q.lastCharacterIndex=b-1;o&&(q.value=a.reverse(q.value));e&&o?(k=-1==k?i.length-1:k,i.splice(k,0,q)):(-1!=k&&(this.reverseCharacterPositions(i[k].lastCharacterIndex,i[i.length-1].lastCharacterIndex),k=-1),i.push(q));
e=o&&!l.isEndOfLine}this._words=i};a.reverse=function(a){return a.split("").reverse().join("")};a.prototype.reverseCharacterPositions=function(a,b){var c=this._characters[a],d=this._characters[a];d.isEndOfWord=this._characters[b].isEndOfWord;d.isEndOfLine=this._characters[b].isEndOfLine;d.isLineBreak=this._characters[b].isLineBreak;this._characters[a]=d;d=this._characters[b];d.isEndOfWord=c.isEndOfWord;d.isEndOfLine=c.isEndOfLine;d.isLineBreak=c.isLineBreak;this._characters[b]=d};a.prototype.buildText=
function(){this.doBuildText(!1)};a.prototype.buildTextWithMap=function(){this.doBuildText(!0)};a.prototype.doBuildText=function(a){var b=!1;null===this._words&&null!==this._characters&&(this.buildWords(),b=!0);if(null===this._words||0===this._words.length)this._textMap=null,this._text="",b&&(this._words=null);else{this._textMap=a?[]:null;for(var c="",d=this._words.length,e=0;e<d;){var f=this._words[e];if(null!=f.value&&""!==f.value&&(c+=f.value,a))for(var j=f.firstCharacterIndex;j<=f.lastCharacterIndex;j++)this._textMap.push(j);
j=!1;-1!==f.lastCharacterIndex&&(j=this._characters[f.lastCharacterIndex].isEndOfLine);f=e===d-1;j?(f||(c+="\n"),a&&this._textMap.push(-2)):f||(c+=" ",a&&this._textMap.push(-1));e++}b&&(this._words=null);this._text=c}};a.prototype.removeSmallerDuplicate=function(a,b){for(var c=a.length-1;0<=c;c--)b.bounds.containsRect(a[c].bounds)&&a.splice(c,1)};a.prototype.parseLinks=function(a){var b=[];if(null==a||0===a.length)return b;null==this._textMap&&this.buildTextWithMap();var c=this.text;if(!c||0===c.length)return b;
var d=this.textMap;if(!d||0===d.length)return b;for(var k=0;k<a.length;k++)for(var f=null,j=a[k];null!==(f=j.exec(c));){var o=f.index,m=f.index+f[0].length-1,l=this.characters,q=d.length;if(!(0>o||o>=q||0>m||m>=q)){o=d[o];for(q=d[m];-1===o&&o<q;)o++;if(!(o>q)){m=l[o].bounds;for(o+=1;o<=q;o++)m.union(l[q].bounds);l=new e.DocumentLink;l.linkType=e.DocumentLinkType.value;l.bounds=m;l.value=f[0];this.removeSmallerDuplicate(b,l);b.push(l)}}}return b};a.prototype.clipText=function(b){if(b.isEmpty)return a.fromJson(this);
var c=this._characters;if(null==c)return null;var d=[],e=c.length,k=new h;k.isEndOfWord=!1;k.isEndOfLine=!1;for(var f=-1,j=0;j<e;j++){var o=c[j],m=!1,l=o.code;9==l||160==l||5760==l||6158==l||8192<=l&&8202>=l||8232==l||8233==l||8239==l||8287==l||12288==l?m=!0:b.isEmpty||(m=!b.intersectsWith(o.bounds));if(m){if(o.isEndOfWord&&(k.isEndOfWord=!0),o.isEndOfLine)k.isEndOfLine=!0}else{if(k.isEndOfWord||k.isEndOfLine)-1!=f&&(m=d[f],k.isEndOfWord&&(m.isEndOfWord=!0),k.isEndOfLine&&(m.isEndOfLine=!0),d[f]=
m),k.isEndOfWord=!1,k.isEndOfLine=!1;d.push(o);f++}}return new a(d)};return a}();e.DocumentPageText=b})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(e){var h=function(){function a(){this._length=this._mimeType=this._url=this._name=null}a.fromJson=function(b){if(null==b)return null;var c=new a;return!c.copyFromJson(b)?null:c};a.prototype.copyFromJson=function(a){return null==a?!1:e.Internal.PropertyBag.copyMatchingProperties(a,this,null)};Object.defineProperty(a.prototype,"name",{get:function(){return this._name},set:function(a){this._name=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"url",{get:function(){return this._url},
set:function(a){this._url=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"mimeType",{get:function(){return this._mimeType},set:function(a){this._mimeType=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"length",{get:function(){return this._length},set:function(a){this._length=a},enumerable:!0,configurable:!0});return a}();e.ConvertItem=h;var c=function(){function a(){this._archive=new h;this._document=new h;this._annotations=new h}a.fromJson=function(b){if(null==
b)return null;var c=new a;return!c.copyFromJson(b)?null:c};a.prototype.copyFromJson=function(a){return null==a?!1:e.Internal.PropertyBag.copyMatchingProperties(a,this,null)};Object.defineProperty(a.prototype,"archive",{get:function(){return this._archive},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"annotations",{get:function(){return this._annotations},enumerable:!0,
configurable:!0});return a}();e.DocumentConvertResult=c;var b=function(){function a(){this._isDisposed=this._cacheUriWasOriginallyNull=!1;this._autoDisposeDocuments=!0;this._structure=this._barcodes=this._images=this._annotations=this._documents=this._pages=null;this._values=new e.Internal.DocumentValues;this._text=new e.DocumentText(this);this._cacheStatus=e.DocumentCacheStatus.synced;this._isLocal=!1;this._serviceUserData=null;this._pages=new e.DocumentPages(this);this._documents=new e.DocumentDocuments(this);
this._annotations=new e.DocumentAnnotations(this);this._images=new e.DocumentImages(this);this._barcodes=new e.DocumentBarcodes(this);this._metadata={};this._structure=null}a.fromJson=function(b,c){var d=$.Deferred();if(null==b)return d.resolve(null).promise();var e=new a;e.copyFromJson(b,c).done(function(a){a?d.resolve(e):d.resolve(null)});return d.promise()};a.prototype.copyFromJson=function(a,b){var c=this,d=$.Deferred();if(null==a||!a.hasOwnProperty("values")||!a.hasOwnProperty("pages"))return d.resolve(!1).promise();
var k=this.cacheUri;if(!this._values.copyFromJson(a.values))return d.resolve(!1).promise();this._values.cacheUri?k&&(this.cacheUri=k):(this._cacheUriWasOriginallyNull=!0,this._rebuildCacheUri());if(b){for(var f={},k=this.documentId,j=0;j<a.pages.length;j++){var o=a.pages[j].values.documentId;k.toLowerCase()!==o.toLowerCase()&&void 0===f[o]&&(f[o]=null)}var m=Object.keys(f),l=0,q=m.length,h;if(l<q){var r=function(b){f[m[l]]=b;l++;if(l<q)(h=e.DocumentFactory.tryLoadDocumentFromCache(c,m[l]))?r(h):e.DocumentFactory.loadFromCache(m[l]).done(s).fail(t);
else c.finishCopyFromJson(a,d,f)},s=function(a){r(a)},t=function(){r(null)};(h=e.DocumentFactory.tryLoadDocumentFromCache(this,m[l]))?r(h):e.DocumentFactory.loadFromCache(m[l]).done(s).fail(t)}else this.finishCopyFromJson(a,d,f);return d.promise()}return d.resolve(!0).promise()};a.prototype.finishCopyFromJson=function(a,b,c){var d=this,k=this.documentId;this._pages.beginAdd();for(var f=0;f<a.pages.length;f++){var j=null,o=a.pages[f].values.documentId;if(o)if(k.toLowerCase()===o.toLowerCase())j=e.DocumentPage.fromJson(a.pages[f],
this,f+1);else if(o=c[o]){var m=a.pages[f].values.pageNumber;0<m&&m<=o.pages.count&&(j=o.pages.item(m-1))}j&&this._pages.add(j)}this._pages.endAdd();this._values.isStructureSupported?(this._structure=new e.DocumentStructure(this),this._values.isStructureParsed&&a.hasOwnProperty("structure")&&(c=a.structure,this._structure.copyFromJson(c.bookmarks,c.pageLinks))):this._structure=null;if(a.hasOwnProperty("metadata")){var l=a.metadata;this._metadata={};Object.keys(l).forEach(function(a){d._metadata[a]=
l[a]})}a.hasOwnProperty("text")&&!this._text.copyFromJson(a.text)?b.resolve(!1):b.resolve(!0)};a.rebuildCacheUriValues=function(){if(e.DocumentFactory.documentRefs)for(var a=Object.keys(e.DocumentFactory.documentRefs),b=0;b<a.length;b++){var c=e.DocumentFactory.documentRefs[a[0]];c&&c.document&&c.document._rebuildCacheUri()}};a.prototype._rebuildCacheUri=function(){if(this._cacheUriWasOriginallyNull){var b=[e.DocumentFactory.serviceUri,a._cacheClassName,a._cacheControllerName].join("/");this.cacheUri=
e.Internal.ImageRequestHelper.createFullUrl(b,{documentId:this.documentId,userData:e.DocumentFactory.serviceUserData})}};a.prototype.createDocumentDescriptor=function(){var a=new e.DocumentDescriptor;a.documentId=this._values.documentId;a.name=this._values.name;a.autoDisposeDocuments=this.autoDisposeDocuments;a.isReadOnly=this._values.isReadOnly;a.mimeType=this._values.mimeType;a.defaultPageSize=this._values.defaultPageSize;a.defaultResolution=this._values.defaultResolution;a.defaultBitsPerPixel=
this._values.defaultBitsPerPixel;a.maximumImagePixelSize=this._values.maximumImagePixelSize;a.thumbnailPixelSize=this._values.thumbnailPixelSize;a.unembedSvgImages=this._values.unembedSvgImages;a.documentType=this._values.documentType;a.isStructureParsed=this._values.isStructureParsed;a.isStructureSupported=this._values.isStructureSupported;a.isSvgSupported=this._values.isSvgSupported;a.isSvgViewingPreferred=this._values.isSvgViewingPreferred;a.isResolutionsSupported=this._values.isResolutionsSupported;
a.textExtractionMode=this._values.textExtractionMode;a.autoParseLinks=this._values.autoParseLinks;a.parseBookmarks=this._values.parseBookmarks;a.parsePageLinks=this._values.parsePageLinks;this._metadata&&(a.metadata=JSON.stringify(this._metadata));for(var b=this._pages.count,c=[],d=1;d<=b;d++){var k=this._pages.item(d-1),f=new e.DocumentPageDescriptor;f.documentId=k.values.documentId;f.pageNumber=k.values.pageNumber;f.originalPageNumber=k.values.originalPageNumber;f.size=k.values.size;f.resolution=
k.values.resolution;c.push(f)}a.pages=c;return a};a.create=function(b){if(!b)throw"Options cannot be null";var c=b.documentId?b.documentId:e.Internal.Guid.newGuid(),i=new a;i._values.isSvgSupported=!0;i._values.isSvgViewingPreferred=!0;i._values.isResolutionsSupported=!0;i._values.documentId=c;i._values.mimeType=b.mimeType;i._values.documentType="Virtual";i._values.defaultPageSize=d.LeadSizeD.create(8.5*a.unitsPerInch,11*a.unitsPerInch);i._values.isReadOnly=!1;i.cacheStatus=e.DocumentCacheStatus.notSynced;
i.isLocal=!0;b=e.Internal.Formatting.formatDate(new Date);c=i.metadata;c.Created=b;c.Accessed=b;c.Modified=b;e.DocumentFactory.documentCreated(i);return i};Object.defineProperty(a.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0});a.prototype.dispose=function(){this._dispose(!1)};a.prototype._dispose=function(a){var b=this;this._isDisposed||(this._isDisposed=!0,this._documents&&(this.forEachDocument(function(a){a&&0===e.DocumentFactory.decrementDocumentRef(a)&&
b._autoDisposeDocuments&&a.dispose()}),this._documents.dispose(),this._documents=null),this._pages&&(this._pages.dispose(),this._pages=null),this._annotations&&(this._annotations.dispose(),this._annotations=null),this._images&&(this._images.dispose(),this._images=null),this._barcodes&&(this._barcodes.dispose(),this._barcodes=null),this._structure&&(this._structure.dispose(),this._structure=null),a||e.DocumentFactory.documentDisposed(this))};Object.defineProperty(a.prototype,"autoDisposeDocuments",
{get:function(){return this._autoDisposeDocuments},set:function(a){this._autoDisposeDocuments=a;this.forEachDocument(function(b){b&&(b.autoDisposeDocuments=a)})},enumerable:!0,configurable:!0});a.prototype.canModify=function(){if(this.isReadOnly)throw"Document is read-only";};a.prototype.createPage=function(a,b){if(a.isEmpty)throw"Size must not be empty";if(0>b)throw"Resolution must be a value greater than or equal to 0";var c=new e.DocumentPage;c.setSize(a);c.resolution=b;c.isLocal=!0;return c};
Object.defineProperty(a.prototype,"documentId",{get:function(){return this.values.documentId},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"name",{get:function(){return this.values.name},set:function(a){this.values.name=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"uri",{get:function(){return this.values.uri},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"cacheUri",{get:function(){return this.values.cacheUri},set:function(a){this.values.cacheUri=
a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"lastCacheSyncTime",{get:function(){return this._values.lastCacheSyncTime},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"cacheStatus",{get:function(){return this._cacheStatus},set:function(a){this._cacheStatus=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isDownloaded",{get:function(){return this.values.isDownloaded},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isReadOnly",
{get:function(){return this.values.isReadOnly},set:function(a){this.values.isReadOnly=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isLocal",{get:function(){return this._isLocal},set:function(a){this._isLocal=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"mimeType",{get:function(){return this.values.mimeType},set:function(a){this.values.mimeType=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"pages",{get:function(){return this._pages},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isEncrypted",{get:function(){return this.values.isEncrypted},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isDecrypted",{get:function(){return this.values.isDecrypted},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isStructureSupported",{get:function(){return this.values.isStructureSupported},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"documents",{get:function(){return this._documents},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"annotations",{get:function(){return this._annotations},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"structure",{get:function(){return this._structure},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"images",{get:function(){return this._images},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"barcodes",{get:function(){return this._barcodes},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"metadata",{get:function(){return this._metadata},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"defaultResolution",{get:function(){return this.values.defaultResolution},enumerable:!0,configurable:!0});Object.defineProperty(a,"unitsPerInch",{get:function(){return 720},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"values",{get:function(){return this._values},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"annotationsUri",{get:function(){return this.values.annotationsUri},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"defaultBitsPerPixel",{get:function(){return this.values.defaultBitsPerPixel},set:function(a){this.values.defaultBitsPerPixel=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"defaultPageSize",{get:function(){return this.values.defaultPageSize},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"documentType",{get:function(){return this.values.documentType},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"password",{get:function(){return this.values.password},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"serviceUserData",{get:function(){return this._serviceUserData},set:function(a){this._serviceUserData=a},enumerable:!0,configurable:!0});a.prototype.validate=function(){return this.mimeType?{valid:!0,error:""}:{valid:!1,error:"Unrecognized image file format."}};
Object.defineProperty(a.prototype,"hasDocuments",{get:function(){return 0<this._documents.count},enumerable:!0,configurable:!0});a.prototype.forEachDocument=function(a){for(var b=0;b<this._documents.count;b++)a(this._documents.item(b))};a.prototype.documentsAddedRemoved=function(){if(0==this._documents.count)this._values.isSvgSupported=!0,this._values.isSvgViewingPreferred=!0,this._values.isResolutionsSupported=!0,this._values.isStructureSupported=!1;else{var a=!1,b=!1,c=!1,d=!1;this.forEachDocument(function(e){!a&&
e._values.isSvgSupported&&(a=!0);!b&&e._values.isSvgViewingPreferred&&(b=!0);!c&&e._values.isResolutionsSupported&&(c=!0);!d&&e.isStructureSupported&&(d=!0)});this._values.isSvgSupported=a;this._values.isSvgViewingPreferred=b;this._values.isResolutionsSupported=c;this._values.isStructureSupported=d}this.isStructureSupported&&!this.structure&&(this._structure=new e.DocumentStructure(this))};a.prototype.decrypt=function(b){var c=this,d=[e.DocumentFactory.serviceUri,a._controllerName,"Decrypt"].join("/"),
b={documentId:this.documentId,password:b,userData:this.serviceUserData},p=$.Deferred(),d={url:d,type:"POST",contentType:"application/json",data:JSON.stringify(b)};if(!e.DocumentFactory.doPrepareAjax(this,a._className,"Decrypt",d))return p.reject(null,"Canceled","Canceled").promise();$.ajax(d).done(function(a){c.copyFromJson(a.document,!0).done(function(b){b?p.resolve(c,"undefined"===typeof a.userData?null:a.userData):p.reject(null,null,"Invalid document object")})}).fail(function(a,b,c){e.DocumentFactory.log(c);
p.reject(a,b,c)});return p.promise()};a.prototype.convert=function(b){var d=[e.DocumentFactory.serviceUri,a._controllerName,"Convert"].join("/"),b={documentId:this.documentId,jobData:b,userData:this.serviceUserData},i=$.Deferred(),d={url:d,type:"POST",contentType:"application/json",data:JSON.stringify(b)};if(!e.DocumentFactory.doPrepareAjax(this,a._className,"Convert",d))return i.reject(null,"Canceled","Canceled").promise();$.ajax(d).done(function(a){var b=c.fromJson(a);i.resolve(b,"undefined"===
typeof a.userData?null:a.userData)}).fail(function(a,b,c){e.DocumentFactory.log(c);i.reject(a,b,c)});return i.promise()};a.documentToPixels=function(b,c){d.LeadDoubleTools.isZero(b)&&(b=96);return Math.floor(c/a.unitsPerInch*b+0.5)};a.pixelsToDocument=function(b,c){d.LeadDoubleTools.isZero(b)&&(b=96);return c*a.unitsPerInch/b};a.prototype.pointToPixels=function(b){if(b.isEmpty)return d.LeadPointD.empty;var c=this.defaultResolution;return d.LeadPointD.create(a.documentToPixels(c,b.x),a.documentToPixels(c,
b.y))};a.prototype.pointToDocument=function(b){var c=this.defaultResolution;return d.LeadPointD.create(a.pixelsToDocument(c,b.x),a.pixelsToDocument(c,b.y))};a.prototype.sizeToPixels=function(b){if(b.isEmpty)return d.LeadSizeD.empty;var c=this.defaultResolution;return d.LeadSizeD.create(a.documentToPixels(c,b.width),a.documentToPixels(c,b.height))};a.prototype.sizeToDocument=function(b){var c=this.defaultResolution;return d.LeadSizeD.create(a.pixelsToDocument(c,b.width),a.pixelsToDocument(c,b.height))};
a.prototype.rectToPixels=function(b){if(b.isEmpty)return d.LeadRectD.empty;var c=this.defaultResolution;return d.LeadRectD.fromLTRB(a.documentToPixels(c,b.left),a.documentToPixels(c,b.top),a.documentToPixels(c,b.right),a.documentToPixels(c,b.bottom))};a.prototype.rectToDocument=function(b){var c=this.defaultResolution;return d.LeadRectD.fromLTRB(a.pixelsToDocument(c,b.left),a.pixelsToDocument(c,b.top),a.pixelsToDocument(c,b.right),a.pixelsToDocument(c,b.bottom))};a._cacheClassName="Cache";a._cacheControllerName=
"GetDocumentData";a._className="Document";a._controllerName="Document";return a}();e.Document=b})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(e){(function(a){a[a.synced=0]="synced";a[a.notSynced=1]="notSynced"})(e.DocumentCacheStatus||(e.DocumentCacheStatus={}));var h=e.DocumentCacheStatus;(function(a){a[a.created=0]="created";a[a.uploading=1]="uploading";a[a.finished=2]="finished";a[a.error=3]="error";a[a.aborted=4]="aborted"})(e.DocumentUploadProgressState||(e.DocumentUploadProgressState={}));var c=e.DocumentUploadProgressState,b=function(){function a(b,c,d){this._state=b;this._progress=c;this._userData=d}Object.defineProperty(a.prototype,
"state",{get:function(){return this._state},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"progress",{get:function(){return this._progress},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"userData",{get:function(){return this._userData},enumerable:!0,configurable:!0});return a}();e.DocumentUploadProgress=b;(function(a){a[a.unset=0]="unset";a[a.error=1]="error";a[a.ready=2]="ready"})(e.OcrEngineStatus||(e.OcrEngineStatus={}));var a=e.OcrEngineStatus,g=function(){function a(b,
c,d,g,f,e,n){this._message=b;this._time=c;this._isLicenseChecked=d;this._isLicenseExpired=g;this._isCacheAccessible=f;this._kernelType=e;this._ocrEngineStatus=n}Object.defineProperty(a.prototype,"message",{get:function(){return this._message},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"time",{get:function(){return this._time},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isLicenseChecked",{get:function(){return this._isLicenseChecked},enumerable:!0,configurable:!0});
Object.defineProperty(a.prototype,"isLicenseExpired",{get:function(){return this._isLicenseExpired},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isCacheAccessible",{get:function(){return this._isCacheAccessible},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"kernelType",{get:function(){return this._kernelType},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"ocrEngineStatus",{get:function(){return this._ocrEngineStatus},enumerable:!0,configurable:!0});
return a}();e.ServiceStatus=g;var n=function(a){function b(c){a.call(this);this._documentId=c}__extends(b,a);Object.defineProperty(b.prototype,"documentId",{get:function(){return this._documentId},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"document",{get:function(){return this._document},set:function(a){this._document=a},enumerable:!0,configurable:!0});return b}(d.LeadEventArgs);e.ResolveDocumentEventArgs=n;var i=function(a){function b(){a.apply(this,arguments)}__extends(b,
a);b.prototype.add=function(b){return a.prototype.add.call(this,b)};b.prototype.remove=function(b){a.prototype.remove.call(this,b)};return b}(d.LeadEvent);e.ResolveDocumentEventType=i;var p=function(){function a(){this._document=null;this._refCount=-1}Object.defineProperty(a.prototype,"document",{get:function(){return this._document},set:function(a){this._document=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"refCount",{get:function(){return this._refCount},set:function(a){this._refCount=
a},enumerable:!0,configurable:!0});return a}();e.DocumentRefInfo=p;i=function(){function f(){}f.create=function(a){return e.Document.create(a)};f.verifyService=function(){var b=[f.serviceUri,"Test/Ping"].join("/"),c={userData:f._serviceUserData},d=$.Deferred(),b={url:b,type:"POST",contentType:"application/json",data:JSON.stringify(c)};if(!f.doPrepareAjax(this,f._className,"VerifyService",b))return d.reject(null,"Canceled","Canceled").promise();$.ajax(b).done(function(b){var c=new g(b.message,new Date(b.time),
b.isLicenseChecked,b.isLicenseExpired,b.isCacheAccessible,b.kernelType,-1<=b.ocrEngineStatus?b.ocrEngineStatus:a.unset);d.resolve(c,"undefined"===typeof b.userData?null:b.userData)}).fail(function(a,b,c){f.log(c);d.reject(a,b,c)});return d.promise()};f.checkLicense=function(){var a=[f.serviceUri,"Test/CheckLicense"].join("/"),b={userData:f._serviceUserData},c=$.Deferred(),a={url:a,type:"POST",contentType:"application/json",data:JSON.stringify(b)};if(!f.doPrepareAjax(this,f._className,"CheckLicense",
a))return c.reject(null,"Canceled","Canceled").promise();$.ajax(a).done(function(a){c.resolve(a.isExpired,"undefined"===typeof a.userData?null:a.userData)}).fail(function(a,b,d){f.log(d);c.reject(a,b,d)});return c.promise()};Object.defineProperty(f,"serviceHost",{get:function(){return f._serviceHost},set:function(a){f._serviceHost=a;f.build()},enumerable:!0,configurable:!0});Object.defineProperty(f,"servicePath",{get:function(){return f._servicePath},set:function(a){f._servicePath=a;f.build()},enumerable:!0,
configurable:!0});Object.defineProperty(f,"serviceApiPath",{get:function(){return f._serviceApiPath},set:function(a){f._serviceApiPath=a;f.build()},enumerable:!0,configurable:!0});Object.defineProperty(f,"serviceUri",{get:function(){null==f._serviceUri&&f.build();return f._serviceUri},enumerable:!0,configurable:!0});Object.defineProperty(f,"serviceUserData",{get:function(){return f._serviceUserData},set:function(a){f._serviceUserData=a},enumerable:!0,configurable:!0});f.build=function(){var a=null,
b=window.location,a=f._serviceHost,c=f._servicePath,d=f._serviceApiPath,a=null==a?b.protocol+"//"+b.host:a;"/"===a.charAt(a.length-1)&&(a=a.substring(0,a.length-1));null==c?(b=b.pathname,-1<b.indexOf(".")&&(c=b.lastIndexOf("/"),-1<c&&(b=b.substring(0,c))),a+=f.clean(b)):a+=f.clean(c);null!=d&&0<d.length&&(a+=f.clean(d));f._serviceUri=a;e.Document.rebuildCacheUriValues()};f.clean=function(a){var b=a.length;"/"!==a.charAt(0)&&(a="/"+a,b+=1);"/"===a.charAt(b-1)&&(a=a.substring(0,b-1));return a};Object.defineProperty(f,
"logErrors",{get:function(){return f._logErrors},set:function(a){f._logErrors=a},enumerable:!0,configurable:!0});f.log=function(a){f.logErrors&&d.LTHelper.logError(a)};f.isUploadDocumentUri=function(a){if(null==a)return!1;a=a.toLowerCase();return 0==a.indexOf("http://leadcache")||0==a.indexOf("https://leadcache")};Object.defineProperty(f,"loadDocumentFromCache",{get:function(){return f._loadDocumentFromCache},enumerable:!0,configurable:!0});f.tryLoadDocumentFromCache=function(a,b){var c=null;f.loadDocumentFromCache&&
(c=new n(b),f.loadDocumentFromCache.invoke(a,c),c=c.document);return c};f.loadFromCache=function(a){var b=[f.serviceUri,f._controllerName,"LoadFromCache"].join("/"),a={documentId:a,userData:f.serviceUserData},c=$.Deferred(),b={url:b,type:"POST",contentType:"application/json",data:JSON.stringify(a)};if(!f.doPrepareAjax(this,f._className,"LoadFromCache",b))return c.reject(null,"Canceled","Canceled").promise();$.ajax(b).done(function(a){e.Document.fromJson(a.document,!0).done(function(b){b&&(f.documentRefs[b.documentId]?
f.incrementDocumentRef(b):f.documentCreated(b));c.resolve(b,"undefined"===typeof a.userData?null:a.userData)})}).fail(function(a,b,d){f.log(d);c.reject(a,b,d)});return c.promise()};f.loadFromUri=function(a,b){var c=[f.serviceUri,f._controllerName,"LoadFromUri"].join("/");null==b&&(b=new e.LoadDocumentOptions);var d={uri:a,resolution:b.resolution,options:b,userData:f.serviceUserData},g=$.Deferred(),c={url:c,type:"POST",contentType:"application/json",data:JSON.stringify(d)};if(!f.doPrepareAjax(this,
f._className,"LoadFromUri",c))return g.reject(null,"Canceled","Canceled").promise();$.ajax(c).done(function(a){e.Document.fromJson(a.document,!0).done(function(b){b&&f.documentCreated(b);g.resolve(b,"undefined"===typeof a.userData?null:a.userData)})}).fail(function(a,b,c){f.log(c);g.reject(a,b,c)});return g.promise()};f.uploadFile=function(a,g){var e=$.Deferred();if(!d.LTHelper.supportsFileReader)return d.LTHelper.logError("The FileReader API is not supported on this browser - all file manipulation is unavailable."),
e.reject(null,"browsererror","The FileReader API is not supported on this browser - all file manipulation is unavailable."),e.promise({abort:function(){}});var n=null,i=!1,p=!1;f.beginUpload(g).done(function(d){e.notify(new b(c.created,0,null));n=d;d=new FileReader;d.onloadend=function(d){if(2===d.target.readyState){var g=d.target.result,o=0,k=function(d){o+=1048576;if(!i){var r=100*(o/a.size),r=Math.max(0,Math.min(r,100));o<a.size?(e.notify(new b(c.uploading,r,d)),f.uploadDocument(n,g,o,1048576).done(k).fail(h)):
(p=!0,e.notify(new b(c.finished,r,d)),e.resolve(n,d))}},h=function(a,b,c){i||(f.log(c),e.reject(a,b,c))};f.uploadDocument(n,g,o,1048576).done(k).fail(h)}};var g=a.slice(0,a.size);d.readAsArrayBuffer(g)}).fail(function(a,b,c){f.log(c);e.reject(a,b,c)});return e.promise({abort:function(){i=!0;p?f.log("Cannot abort after upload has completed"):(f.abortUploadDocument(n),e.notify(new b(c.aborted,0,null)),e.reject(null,null,null))}})};f.beginUpload=function(a){var b=$.Deferred(),a={url:[f.serviceUri,f._controllerName,
"BeginUpload"].join("/"),type:"POST",contentType:"application/json",data:JSON.stringify({documentId:a||null,userData:f._serviceUserData})};if(!f.doPrepareAjax(this,f._className,"BeginUpload",a))return b.reject(null,"Canceled","Canceled").promise();$.ajax(a).done(function(a){b.resolve(a.uploadUri,"undefined"===typeof a.userData?null:a.userData)}).fail(function(a,c,d){f.log(d);b.reject(a,c,d)});return b.promise()};f.uploadDocument=function(a,b,c,g){var n=$.Deferred();if(!d.LTHelper.supportsFileReader)return d.LTHelper.logError("The FileReader API is not supported on this browser - all file manipulation is unavailable."),
n.reject(null,"browsererror","The FileReader API is not supported on this browser - all file manipulation is unavailable.").promise();var i=null,i=ArrayBuffer.prototype.slice?b.slice(c,c+g):e.Internal.ArrayBufferSlicer.slice(b,c,c+g),b=d.LTHelper.base64EncodeFromArrayBuffer(i),a={url:[f.serviceUri,f._controllerName,"UploadDocument"].join("/"),type:"POST",contentType:"application/json",data:JSON.stringify({uri:a,data:b,userData:f._serviceUserData})};if(!f.doPrepareAjax(this,f._className,"UploadDocument",
a))return n.reject(null,"Canceled","Canceled").promise();$.ajax(a).done(function(a){n.resolve("undefined"===typeof a.userData?null:a.userData)}).fail(function(a,b,c){f.log(c);n.reject(a,b,c)});return n.promise()};f.abortUploadDocument=function(a){var b=[f.serviceUri,f._controllerName,"AbortUploadDocument"].join("/"),a={uri:a,userData:f._serviceUserData},c=$.Deferred(),b={url:b,type:"POST",contentType:"application/json",data:JSON.stringify(a)};if(!f.doPrepareAjax(this,f._className,"AbortUploadDocument",
b))return c.reject(null,"Canceled","Canceled").promise();$.ajax(b).done(function(a){c.resolve("undefined"===typeof a.userData?null:a.userData)});return c.promise()};f.downloadDocument=function(a,b,c,g){var e=[f.serviceUri,f._controllerName,"DownloadDocument"].join("/"),a={documentId:a,uri:b,position:c,dataSize:g,userData:f._serviceUserData},n=$.Deferred(),e={url:e,type:"GET",contentType:"application/json",data:a,headers:{"cache-control":"no-cache"}};if(!f.doPrepareAjax(this,f._className,"DownloadDocument",
e))return n.reject(null,"Canceled","Canceled").promise();$.ajax(e).fail(function(a,b,c){f.log(c);n.reject(a,b,c)}).done(function(a){var b=d.LTHelper.base64DecodeToByteArray(a.data);n.resolve(b,"undefined"===typeof a.userData?null:a.userData)});return n.promise()};f.saveToCache=function(a){var b=$.Deferred();if(a.cacheStatus===h.notSynced){var c=[f.serviceUri,f._controllerName,"SaveToCache"].join("/"),d={descriptor:a.createDocumentDescriptor(),userData:f.serviceUserData},c={url:c,type:"POST",contentType:"application/json",
data:JSON.stringify(d)};if(!f.doPrepareAjax(this,f._className,"SaveToCache",c))return b.reject(null,"Canceled","Canceled").promise();$.ajax(c).done(function(c){e.Document.fromJson(c.document,!1).done(function(d){if(d){a.isLocal=!1;a.values.documentId=d.documentId;a.values.lastCacheSyncTime=d.values.lastCacheSyncTime;a.cacheStatus=h.synced;d._dispose(!0);for(d=0;d<a.pages.count;d++)a.pages.item(d).isLocal=!1;a.annotations.modifiedContainers?a.annotations.setAnnotations(a.annotations.modifiedContainers).always(function(){a.annotations.modifiedContainers=
null;b.resolve("undefined"===typeof c.userData?null:c.userData)}):b.resolve("undefined"===typeof c.userData?null:c.userData)}else b.reject(null,null,"Invalid document object")})}).fail(function(a,c,d){b.reject(a,c,d)});return b.promise()}return a.annotations.modifiedContainers?(a.annotations.setAnnotations(a.annotations.modifiedContainers).always(function(){a.annotations.modifiedContainers=null;b.resolve()}),b.promise()):b.resolve().promise()};f.deleteFromCache=function(a){var b=[f.serviceUri,f._controllerName,
"Delete"].join("/"),a={documentId:a,userData:f._serviceUserData},c=$.Deferred(),b={url:b,type:"POST",contentType:"application/json",data:JSON.stringify(a)};if(!f.doPrepareAjax(this,f._className,"DeleteFromCache",b))return c.reject(null,"Canceled","Canceled").promise();$.ajax(b).fail(function(a,b,d){f.log(d);c.reject(a,b,d)}).done(function(a){c.resolve("undefined"===typeof a.userData?null:a.userData)});return c.promise()};Object.defineProperty(f,"prepareAjax",{get:function(){return f._prepareAjax},
enumerable:!0,configurable:!0});f.doPrepareAjax=function(a,b,c,d){b=new k(b,c,d);f._prepareAjax.invoke(a,b);return!b.cancel};Object.defineProperty(f,"documentRefs",{get:function(){return this._documentRefs},enumerable:!0,configurable:!0});f.incrementDocumentRef=function(a){f._checkDocumentRefInput(a);a=f._documentRefs[a.documentId];a.refCount++;return a.refCount};f.decrementDocumentRef=function(a){f._checkDocumentRefInput(a);a=f._documentRefs[a.documentId];if(0>=a.refCount)throw"cannot decrement reference below zero";
a.refCount--;return a.refCount};f.documentCreated=function(a){if(a&&f._documentRefs[a.documentId])throw"document with cacheId already exists";var b=new p;b.document=a;b.refCount=0;f._documentRefs[a.documentId]=b};f.documentDisposed=function(a){f._checkDocumentRefInput(a);0===f._documentRefs[a.documentId].refCount&&(f._documentRefs[a.documentId]=null,delete f._documentRefs[a.documentId])};f._checkDocumentRefInput=function(a){if(!a||!f._documentRefs[a.documentId])throw"document does not exist";};f._className=
"DocumentFactory";f._controllerName="Factory";f._serviceHost=null;f._servicePath=null;f._serviceApiPath=null;f._serviceUri=null;f._serviceUserData=null;f._logErrors=!0;f._loadDocumentFromCache=d.LeadEvent.create(f,"loadDocumentFromCache");f._prepareAjax=d.LeadEvent.create(f,"prepareAjax");f._documentRefs={};return f}();e.DocumentFactory=i;var k=function(a){function b(c,d,g){a.call(this);this._sourceClass=c[0].toUpperCase()+c.substr(1,c.length-1);this._sourceMethod=d[0].toUpperCase()+d.substr(1,d.length-
1);this._settings=g;this._cancel=!1}__extends(b,a);Object.defineProperty(b.prototype,"sourceClass",{get:function(){return this._sourceClass},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"sourceMethod",{get:function(){return this._sourceMethod},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"settings",{get:function(){return this._settings},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"cancel",{get:function(){return this._cancel},set:function(a){this._cancel=
a},enumerable:!0,configurable:!0});return b}(d.LeadEventArgs);e.PrepareAjaxEventArgs=k;i=function(a){function b(){a.apply(this,arguments)}__extends(b,a);b.prototype.add=function(b){return a.prototype.add.call(this,b)};b.prototype.remove=function(b){a.prototype.remove.call(this,b)};return b}(d.LeadEvent);e.PrepareAjaxEventType=i})(d.Documents||(d.Documents={}))})(lt||(lt={}));eval("ltDocumentsString = String;");
(function(d){(function(d){var h=function(){return function(){this.documentProxy=null;this.successCallbacks=[];this.failCallbacks=[];this.pagesCount=0;this.pages={}}}(),c=function(){return function(){this.pageProxy=null;this.count=0;this.successCallbacks=[];this.failCallbacks=[];this.isInRemovalQueue=!1}}(),b=function(){return function(){this.id=null;this.pageNumber=0}}(),a=function(){function a(){}Object.defineProperty(a,"removalQueueLimit",{get:function(){return a._removalQueueLimit},set:function(b){a._removalQueueLimit=
b},enumerable:!0,configurable:!0});a.loadPageFromDocument=function(b,c,d,e,f){b?a.loadPage(b.documentId,b.cacheUri,b.password,c,d,e,f):e("document does not exist",c)};a.loadPage=function(b,c,d,e,f,j,h){if(!b||!b.trim().length)j("document does not exist in cache",e);else{var m=a._proxyItems[b];m&&m.documentProxy?(m.successCallbacks=[],m.failCallbacks=[],a.loadPageFromLoadedDocument(b,e,f,j)):a.loadDocumentAsync(b,c,d,function(){a._proxyItems[b]&&a.loadPageFromLoadedDocument(b,e,f,j)},h)}};a.loadPageFromLoadedDocument=
function(b,d,e,k){var f=a._proxyItems[b],j=f.pages[d];if(j&&j.pageProxy){j.count++;var h=j.pageProxy;setTimeout(function(){e(h)},10)}else j?(j.successCallbacks.push(e),j.failCallbacks.push(k)):(j=new c,j.successCallbacks.push(e),j.failCallbacks.push(k),f.pagesCount++,f.pages[d]=j,a.processRemovalQueue(),f.documentProxy.getPage(d).then(function(c){var f=a._proxyItems[b];if(!f)return c.cleanup(),null;f=f.pages[d];if(!f)return c.cleanup(),null;f.pageProxy=c;f.count+=f.successCallbacks.length;for(var e=
0;e<f.successCallbacks.length;e++)(0,f.successCallbacks[e])(c)||f.count--;f.successCallbacks=[];f.failCallbacks=[];a.tryAddToRemovalQueue(f,b,d);return null},function(c){var f=a._proxyItems[b];if(f){var e=f.pages[d];if(e){for(var p=0;p<e.failCallbacks.length;p++)e.failCallbacks[p](c,d);e.successCallbacks=null;e.failCallbacks=null;f.pagesCount--;f.pages[d]=null}}}))};a.getExistingDocument=function(b){return!b||!b.trim().length?null:(b=a._proxyItems[b])&&b.documentProxy?b.documentProxy:null};a.loadDocumentAsync=
function(b,c,d,e,f){var j=a._proxyItems[b];j?(j.successCallbacks.push(e),j.failCallbacks.push(f)):(j=new h,j.successCallbacks.push(e),j.failCallbacks.push(f),a._proxyItems[b]=j,window.PDFJS.getDocument({url:c,password:d}).then(function(c){var d=a._proxyItems[b];if(!d)return c.destroy(),null;d.documentProxy=c;for(c=0;c<d.successCallbacks.length;c++)d.successCallbacks[c]();d.successCallbacks=[];d.failCallbacks=[];return null},function(c){var d=a._proxyItems[b];if(d){for(var f=0;f<d.failCallbacks.length;f++)d.failCallbacks[f](c,
-1);d.successCallbacks=null;d.failCallbacks=null;a._proxyItems[b]=null}}))};a.releasePage=function(b,c){if(b&&b.trim().length){var d=a._proxyItems[b];if(d&&(d=d.pages[c]))d.count--,a.tryAddToRemovalQueue(d,b,c)}};a.tryAddToRemovalQueue=function(c,d,e){if(0===c.count&&!c.isInRemovalQueue){var k=new b;k.id=d;k.pageNumber=e;a._removalQueue.push(k);c.isInRemovalQueue=!0}};a.processRemovalQueue=function(){var b=a._removalQueue;if(b&&b.length){for(var c=[],d=0,e=-1,f=-1,j=b.length-1;0<=j;j--){var h=b[j],
m=a._proxyItems[h.id];if(m){var l=m.pages[h.pageNumber];l?0!==l.count?(l.isInRemovalQueue=!1,b[j]=null):d<a.removalQueueLimit?(d++,-1==f?f=j:e=j):(l.pageProxy&&(l.pageProxy.cleanup(),l.pageProxy=null),l.successCallbacks=null,l.failCallbacks=null,m.pagesCount--,m.pages[h.pageNumber]=null,0===m.pagesCount&&(m.documentProxy&&(m.documentProxy.destroy(),m.documentProxy=null),m.successCallbacks=null,m.failCallbacks=null,a._proxyItems[h.id]=null),b[j]=null):b[j]=null}else b[j]=null}if(-1==e)-1!=f&&c.push(b[f]);
else for(j=e;j<=f;j++)h=b[j],null!=h&&c.push(h);a._removalQueue=c}};a._proxyItems={};a._removalQueue=[];a._removalQueueLimit=10;return a}();d.PDFProxyCache=a})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(e){var h=function(){function b(){}Object.defineProperty(b,"isPDFRenderingSupported",{get:function(){var a=window.PDFJS;if("undefined"===typeof a||!a||!a.getDocument)return!1;switch(d.LTHelper.browser){case d.LTBrowser.chrome:case d.LTBrowser.opera:case d.LTBrowser.firefox:case d.LTBrowser.safari:return!0;case d.LTBrowser.internetExplorer:return 10<=d.LTHelper.version&&d.LTHelper.device===d.LTDevice.desktop;case d.LTBrowser.edge:return d.LTHelper.device===d.LTDevice.desktop;
default:return!1}},enumerable:!0,configurable:!0});b.canRenderPage=function(a){return!!a.document&&!a.isLocal&&"application/pdf"===a.document.mimeType&&!!a.document.cacheUri&&!!a.document.cacheUri.trim().length};b.getDeviceScaling=function(a){return(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1)};b.internalDisposeCanvasElement=function(a){a&&(a.parentNode&&a.parentNode.removeChild(a),
a.width=0,a.height=0)};b.disposeCanvasElement=function(a,c){c&&d.LTHelper.browser==d.LTBrowser.firefox?setTimeout(function(){b.internalDisposeCanvasElement(a)},1E3):b.internalDisposeCanvasElement(a)};b.disposeImageElement=function(a){a&&(a.parentNode&&a.parentNode.removeChild(a),a.src=b._smallestPossibleImageSrc)};b.removeTransitions=function(a){if(a){var b=null;void 0!==a.style.transition?b="transition":void 0!==a.style.webkitTransition?b="webkitTransition":void 0!==a.style.msTransition&&(b="msTransition");
a.style[b]="none"}};b._smallestPossibleImageSrc="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";return b}();e.PDFRender=h;var c=function(){function b(){var a=this;this._done=null;this._isTaskCancelling=!1;this._task=null;this._promiseSuccess=function(){a._task=null;var b=!1;a._isTaskCancelling&&(a._isTaskCancelling=!1,b=!0);a._done&&a._done(a,b,null);return null};this._promiseFailure=function(b){a._task=null;var c=a._isTaskCancelling=!1,d=null;"cancelled"==b?c=!0:
d=Error(b);a._done&&a._done(a,c,d)}}Object.defineProperty(b.prototype,"done",{get:function(){return this._done},set:function(a){this._done=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isTaskCancelling",{get:function(){return this._isTaskCancelling},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isTaskRunning",{get:function(){return!!this._task},enumerable:!0,configurable:!0});b.prototype.cancel=function(){!this._isTaskCancelling&&this.isTaskRunning&&(this._task.cancel(),
this._isTaskCancelling=!0)};b.prototype.tryRender=function(a,c,d,e,p,k,f){if(this._isTaskCancelling)return!1;if(this.isTaskRunning)return this.cancel(),!1;this._task=b.render(a,c,d,e,p,k,f);this._task.then(this._promiseSuccess,this._promiseFailure);return this.isTaskRunning};b.render=function(a,b,c,d,p,k,f){b._transformMatrix&&(b._transformMatrix=[1,0,0,1,0,0]);e.PDFText.assignDefaultDrawText(b);c=Math.max(c,d)/Math.max(a.view[2]-a.view[0],a.view[3]-a.view[1]);c=a.getViewport(c);c.transform[4]-=p;
c.transform[5]-=k;return a.render({canvasContext:b,transform:1===f?null:[f,0,0,f,0,0],viewport:c})};b.prototype.dispose=function(){this.cancel();this._done=this._task=null};return b}();e.PDFPageRenderer=c;c=function(){function b(a){this._element=null;if(b._useCanvas)this._element=a;else{var c=document.createElement("img");c.src=a.toDataURL("image/png");this._element=c;h.disposeCanvasElement(a,!1)}}Object.defineProperty(b.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0});
b.prototype.dispose=function(a){b._useCanvas?h.disposeCanvasElement(this._element,a):h.disposeImageElement(this._element);this._element=null};b._useCanvas=!(d.LTHelper.browser==d.LTBrowser.safari&&d.LTHelper.OS==d.LTOS.iOS);b._init=void 0;return b}();e.RenderElement=c})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(e){var h=function(){function c(){}c.assignDefaultDrawText=function(b){b.fillText===CanvasRenderingContext2D.prototype.fillText&&(b.fillText=c.default_FillText);b.strokeText===CanvasRenderingContext2D.prototype.strokeText&&(b.strokeText=c.default_StrokeText)};c.getTextForDocumentPage=function(b,a){if(b)if(b.document){var d=b.document;c.getText(d.documentId,d.cacheUri,d.password,b.originalPageNumber,b.size,function(c,d){c&&b.processPageText(c);a(c,d)})}else a(null,Error("page is not a part of a document"));
else a(null,Error("page cannot be null"))};c.getText=function(b,a,d,n,i,p){var k=function(a){p(null,Error(a))};e.PDFProxyCache.loadPage(b,a,d,n,function(a){c._getTextFromPage(a,i,function(a,c){e.PDFProxyCache.releasePage(b,n);p(a,c)});return!0},k,k)};c._getTextFromPage=function(b,a,g){var n=document.createElement("canvas");n.width=1;n.height=1;var i=n.getContext("2d"),p=b.view[2]-b.view[0],k=b.view[3]-b.view[1],f=[],j=new d.TextFontRuler(null);c._attachCustomDrawText(i,f,j);var h=new e.PDFPageRenderer;
h.done=function(b,i,h){j.dispose();b.done=null;e.PDFRender.disposeCanvasElement(n,!1);i||h?g(null,Error(i?"cancelled":h.message)):(i=c._createDocumentPageText(f,d.LeadSizeD.create(p,k),a),g(i,null));b.dispose()};h.tryRender(b,i,p,k,0,0,1)};c._measureText=function(b,a,c,d){if(0<c.font.widths.length){var e=c.font.widths[d.charCodeAt(0)];if(!isNaN(e))return e*=c.fontSize/c.fontSizeScale/1E3}a.font=b.font;return a.measure(d).width};c._attachCustomDrawText=function(b,a,c){var e=this,i=function(b,i,f,h,
o,m,l){isNaN(l)&&l&&h&&h.length&&h.trim().length&&(i=e._measureText(b,c,l,h),f=d.LTHelper.browser===d.LTBrowser.firefox?b.mozCurrentTransform:b._transformMatrix,f=Array.prototype.slice.apply(f),a.push({text:h,x:o,y:m,textWidth:i,spaceWidth:e._measureText(b,c,l," "),contextTransform:f,isRightToLeft:-1===l.fontDirection,fontSize:l.fontSize,fontSizeScale:l.fontSizeScale,fontAscent:l.font.ascent,fontDescent:l.font.descent}))};b.fillText=function(a,b,c,d){i(this,CanvasRenderingContext2D.prototype.fillText,
!1,a,b,c,d)};b.strokeText=function(a,b,c,d){i(this,CanvasRenderingContext2D.prototype.strokeText,!0,a,b,c,d)}};c._createDocumentPageText=function(b,a,c){if(!b||!b.length||a.isEmpty)return null;var n=[],i=d.LeadMatrix.identity,h=d.LeadRectD.create(0,0,0,0),c=c.height/a.height,a=d.LeadMatrix.identity;a.scale(c,c);for(c=0;c<b.length;c++){var k=b[c];if(k){var f=k.text;if(f&&0!==f.trim().length){var i=k.contextTransform,i=d.LeadMatrix.create(i[0],i[1],i[2],i[3],i[4],i[5]),h=k.fontSize/k.fontSizeScale,
j=k.fontAscent,o=k.fontDescent;if(1<j-o)var m=1/(j-o),j=j*m,o=o*m;h=d.LeadRectD.create(k.x,k.y-h*j,k.textWidth,h*(j-o));h=i.transformRect(h);h=a.transformRect(h);i=k.spaceWidth*(h.width/k.textWidth);j=new e.DocumentCharacter;j.code=f;j.bounds=h;j.isRightToLeft=k.isRightToLeft;j.spaceWidth=i;n.push(j)}}}e.Internal.DocumentTextSorter.sortCharacters(n);return new e.DocumentPageText(n)};c.default_FillText=null;c.default_StrokeText=null;c._init=function(){c.default_FillText=function(b,a,c,d){isNaN(d)?
CanvasRenderingContext2D.prototype.fillText.call(this,b,a,c):CanvasRenderingContext2D.prototype.fillText.call(this,b,a,c,d)};c.default_StrokeText=function(b,a,c,d){isNaN(d)?CanvasRenderingContext2D.prototype.strokeText.call(this,b,a,c):CanvasRenderingContext2D.prototype.strokeText.call(this,b,a,c,d)}}();return c}();e.PDFText=h})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(d){var h=function(){function c(b,a,c,d,e,h,k,f,j){this._message=b;this._detail=a;this._code=c;this._link=d;this._exceptionType=e;this._methodName=h;this._jqXHR=k;this._statusText=f;this._errorThrown=j;this._isAbortError=!k&&"abort"===f&&!j;this._isParseError="parsererror"==f&&!!j;this._isCancelError=!k&&"Canceled"===f&&"Canceled"===j;this._isBrowserError="browsererror"==f&&!!j}Object.defineProperty(c.prototype,"message",{get:function(){return this._message},enumerable:!0,configurable:!0});
Object.defineProperty(c.prototype,"detail",{get:function(){return this._detail},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"code",{get:function(){return this._code},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"link",{get:function(){return this._link},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"exceptionType",{get:function(){return this._exceptionType},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"methodName",
{get:function(){return this._methodName},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"jqXHR",{get:function(){return this._jqXHR},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"statusText",{get:function(){return this._statusText},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"errorThrown",{get:function(){return this._errorThrown},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isAbortError",{get:function(){return this._isAbortError},
enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isParseError",{get:function(){return this._isParseError},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isCancelError",{get:function(){return this._isCancelError},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isBrowserError",{get:function(){return this._isBrowserError},enumerable:!0,configurable:!0});c.parseError=function(b,a,g){if(!b&&!a&&!g)return new c(null,null,null,null,null,null,null,
"abort",null);if(!b&&"Canceled"===a&&"Canceled"===g||!b&&"browsererror"===a)return new c(null,null,null,null,null,null,null,a,g);var n=null;try{n=JSON.parse(b.responseText)}catch(i){return d.DocumentFactory.log("Could not parse JSON from Error"),new c(null,null,null,null,null,null,b,a||"parsererror",g?g:"The response error object could not be parsed from JSON.")}return new c(n.message,n.detail,n.code,n.link,n.exceptionType,n.methodName,b,a,g)};return c}();d.ServiceError=h})(d.Documents||(d.Documents=
{}))})(lt||(lt={}));(function(d){d=d.Documents||(d.Documents={});d.Service||(d.Service={})})(lt||(lt={}));(function(d){d=d.Documents||(d.Documents={});d.Service||(d.Service={})})(lt||(lt={}));(function(d){d=d.Documents||(d.Documents={});d.Service||(d.Service={})})(lt||(lt={}));(function(d){d=d.Documents||(d.Documents={});d.Service||(d.Service={})})(lt||(lt={}));(function(d){d=d.Documents||(d.Documents={});d.Service||(d.Service={})})(lt||(lt={}));
(function(d){d=d.Documents||(d.Documents={});d.Service||(d.Service={})})(lt||(lt={}));(function(d){d=d.Documents||(d.Documents={});d.Service||(d.Service={})})(lt||(lt={}));(function(d){d=d.Documents||(d.Documents={});d.Service||(d.Service={})})(lt||(lt={}));(function(d){d=d.Documents||(d.Documents={});d.Service||(d.Service={})})(lt||(lt={}));
(function(d){(function(e){(function(h){var c=function(){function b(){}b.createFullUrl=function(a,b){var c=a+"?",d=Object.keys(b);d.forEach(function(a,e){c+=a+"="+b[a];e!=d.length-1&&(c+="&")});return c};b.createBaseUrl=function(a,b){return d.Documents.DocumentFactory.serviceUri+"/"+a+"/"+b};b.doGenericElementLoad=function(a,b,c,i,p,k){var f=this,j=!!b,o=j?b.urlMode:e.DocumentImages.elementUrlMode,m=h.ImageRequestHelper.createAjaxSettings(o,c,j?b.ajaxOptions.method:e.DocumentImages.elementAjaxMethod,
i);j||(b=new d.ImageLoader,b.urlMode=o);var l;l=function(d,j){b.preRun.remove(l);var o=false;m&&!e.DocumentFactory.doPrepareAjax(f,p,k,m)&&(o=true);m?h.ImageRequestHelper.setAjaxSettings(b,m):b.url=h.ImageRequestHelper.createFullUrl(c,i);h.ImageRequestHelper.setImageLoaderCallbacks(b,a);if(o){a.reject(null,"Canceled","Canceled").promise();j.cancel=true}};b.preRun.add(l);j||b.run();return a.promise()};b.createAjaxSettings=function(a,b,c,i){if(a===d.ImageLoaderUrlMode.imageUrl)return null;c||(c=e.DocumentImages.elementAjaxMethod);
a={url:b,type:c,method:c};"post"===c.toLowerCase()?(a.contentType="application/json; charset=utf-8",a.data=JSON.stringify(i)):a.data=i;return a};b.setAjaxSettings=function(a,b){var c=a.ajaxOptions,d=b.headers;d&&Object.keys(d).forEach(function(a){c.headers[a]=d[a]});c.method=b.method||b.type;if(c.method)if("get"===c.method.toLowerCase())a.url=h.ImageRequestHelper.createFullUrl(b.url,b.data);else if("post"===c.method.toLowerCase()){if(!d||!d["content-type"]&&!d.contentType)c.headers["content-type"]=
b.contentType;a.url=b.url;c.postData=b.data}};b.setImageLoaderCallbacks=function(a,b){var c=function(a){b.resolve(a.element)},d=function(a){e.DocumentFactory.log(a.error.message);b.reject(null,"error",a.error)},h;h=function(){a.done.remove(c);a.fail.remove(d);a.always.remove(h)};a.done.add(c);a.fail.add(d);a.always.add(h)};return b}();h.ImageRequestHelper=c;c=function(){function b(){}b.formatDate=function(a){var b=a.getMonth()+1,c=a.getDate(),d=a.getFullYear(),e=a.getHours(),h=11<e?"PM":"AM";12<e&&
(e-=12);0===e&&(e=12);var f=a.getMinutes();10>f&&(f="0"+f);a=a.getSeconds();10>a&&(a="0"+a);return b+"/"+c+"/"+d+" "+e+":"+f+":"+a+" "+h};return b}();h.Formatting=c;c=function(){function b(){}b.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"===a?b:b&3|8).toString(16)})};return b}();h.Guid=c;c=function(){function b(){}b.copyMatchingProperties=function(a,b,c){Object.getOwnPropertyNames(b).forEach(function(h){if(1<h.length&&
"_"===h.charAt(0)&&"_"!==h.charAt(1)){var p=h.substr(1);if(!(null!=c&&-1!=c.indexOf(p))){if(!a.hasOwnProperty(p))return e.DocumentFactory.log("Missing required property: "+p),!1;var k=b[h],p=a[p];b[h]=k instanceof Date?new Date(Date.parse(p)):k instanceof d.LeadPointD?d.LeadPointD.fromJSON(p):k instanceof d.LeadSizeD?d.LeadSizeD.fromJSON(p):k instanceof d.LeadRectD?d.LeadRectD.fromJSON(p):k instanceof d.Documents.ConvertItem?d.Documents.ConvertItem.fromJson(p):p}}});return!0};return b}();h.PropertyBag=
c;c=function(){function b(){}b.slice=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=a.byteLength);b=Math.floor(b);c=Math.floor(c);0>b&&(b+=a.byteLength);0>c&&(c+=a.byteLength);b=Math.min(Math.max(0,b),a.byteLength);c=Math.min(Math.max(0,c),a.byteLength);if(0>=c-b)return new ArrayBuffer(0);var d=new ArrayBuffer(c-b),e=new Uint8Array(d),a=new Uint8Array(a,b,c-b);e.set(a);return d};return b}();h.ArrayBufferSlicer=c;c=function(){function b(){}b._sortElementsXY=function(a,b){return a.bounds.top===b.bounds.top?
Math.floor(a.bounds.left-b.bounds.left):Math.floor(a.bounds.top-b.bounds.top)};b._compareElements=function(a,b){return b.bounds.left<a.bounds.left&&(b.bounds.top>a.bounds.top&&b.bounds.top+0.3*b.bounds.height<a.bounds.bottom||b.bounds.bottom>a.bounds.top&&b.bounds.bottom-0.3*b.bounds.height<a.bounds.top||2>=Math.abs(b.bounds.top+b.bounds.height/2-(a.bounds.top+a.bounds.height/2))||b.bounds.top>a.bounds.top&&b.bounds.top<a.bounds.bottom&&b.bounds.right>a.bounds.left&&b.bounds.right<a.bounds.right)};
b._swapElements=function(a,b,c){var d=a[b];a[b]=a[c];a[c]=d};b._sortTextLines=function(a){var c=!1;do{for(var c=!1,d=0;d<=a.length-2;d++){var e=b._compareElements(a[d],a[d+1]);e&&(b._swapElements(a,d,d+1),c=!0)}if(!c)break;c=!1;for(d=a.length-2;0<=d;d--)if(e=b._compareElements(a[d],a[d+1]))b._swapElements(a,d,d+1),c=!0}while(c)};b._markEndOfLine=function(a){a.isEndOfWord=!0;a.isEndOfLine=!0;a.isLineBreak=!0};b._markLineBreak=function(a){a.isEndOfWord=!0;a.isLineBreak=!0};b._setCharactersFlags=function(a){for(var c=
!1,d=[],e=0;e<a.length-1;e++){var h=a[e],k=a[e+1],f=h.bounds.height*b.LINE_MAX_TOLERANCE;if(k.bounds.top+k.bounds.height*b.LINE_MAX_TOLERANCE>=h.bounds.top+h.bounds.height||k.bounds.top>=h.bounds.top+h.bounds.height-f)b._markEndOfLine(h),c=!0,d.push(e);else{var f=h.spaceWidth*b.SPACE_MAX_TOLERANCE,j=k.bounds.left,o=h.bounds.right;Math.ceil(o+f)<Math.floor(j)&&(h.isEndOfWord=!0);Math.ceil(o+6*f)<Math.floor(j)&&(b._markLineBreak(h),d.push(e))}if(c){for(c=0;c<d.length;c++)h=d[c],a[h].bounds.bottom+(a[h].bounds.height+
k.bounds.height)/2<k.bounds.top&&(a[h].isEndOfParagraph=!0);d=[];c=!1}}for(c=0;c<d.length;c++)h=d[c],a[h].isEndOfParagraph=!0;a=a[a.length-1];b._markEndOfLine(a);a.isEndOfParagraph=!0};b.sortCharacters=function(a){if(!a)throw"chars cannot be null";a.length&&(a.sort(b._sortElementsXY),b._sortTextLines(a),b._setCharactersFlags(a))};b.LINE_MAX_TOLERANCE=0.125;b.SPACE_MAX_TOLERANCE=0.33;return b}();h.DocumentTextSorter=c})(e.Internal||(e.Internal={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
